{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/scheduler/header/header.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport $ from \"../../../core/renderer\";\nimport { extend } from \"../../../core/utils/extend\";\nimport registerComponent from \"../../../core/component_registrator\";\nimport errors from \"../../../core/errors\";\nimport devices from \"../../../core/devices\";\nimport Widget from \"../../widget/ui.widget\";\nimport Toolbar from \"../../toolbar\";\nimport SchedulerCalendar from \"./calendar\";\nimport dateUtils from \"../../../core/utils/date\";\nimport { getViewSwitcher, getDropDownViewSwitcher } from \"./viewSwitcher\";\nimport { getDateNavigator } from \"./dateNavigator\";\nimport \"../../../ui/button_group\";\nimport \"../../../ui/drop_down_button\";\nimport { getCaption, getNextIntervalDate, validateViews, getStep, getViewType, getViewName, nextWeek } from \"./utils\";\nimport { getCurrentView } from \"../../../renovation/ui/scheduler/model/views\";\nvar DEFAULT_ELEMENT = \"defaultElement\";\nvar VIEW_SWITCHER = \"viewSwitcher\";\nvar DATE_NAVIGATOR = \"dateNavigator\";\nvar COMPONENT_CLASS = \"dx-scheduler-header\";\nexport class SchedulerHeader extends Widget {\n  get views() {\n    return this.option(\"views\");\n  }\n\n  get captionText() {\n    return this._getCaption().text;\n  }\n\n  get intervalOptions() {\n    var step = getStep(this.currentView);\n    var intervalCount = this.option(\"intervalCount\");\n    var firstDayOfWeek = this.option(\"firstDayOfWeek\");\n    var agendaDuration = this.option(\"agendaDuration\");\n    return {\n      step: step,\n      intervalCount: intervalCount,\n      firstDayOfWeek: firstDayOfWeek,\n      agendaDuration: agendaDuration\n    };\n  }\n\n  _getDefaultOptions() {\n    return extend(super._getDefaultOptions(), {\n      _useShortDateFormat: !devices.real().generic || devices.isSimulator()\n    });\n  }\n\n  _createEventMap() {\n    this.eventMap = new Map([[\"currentView\", [view => {\n      this.currentView = getCurrentView(getViewName(view), this.option(\"views\"));\n    }]], [\"items\", [this.repaint.bind(this)]], [\"views\", [validateViews]], [\"currentDate\", [this._getCalendarOptionUpdater(\"date\")]], [\"min\", [this._getCalendarOptionUpdater(\"min\")]], [\"max\", [this._getCalendarOptionUpdater(\"max\")]], [\"tabIndex\", [this.repaint.bind(this)]], [\"focusStateEnabled\", [this.repaint.bind(this)]], [\"useDropDownViewSwitcher\", [this.repaint.bind(this)]]]);\n  }\n\n  _addEvent(name, event) {\n    if (!this.eventMap.has(name)) {\n      this.eventMap.set(name, []);\n    }\n\n    var events = this.eventMap.get(name);\n    this.eventMap.set(name, [...events, event]);\n  }\n\n  _optionChanged(args) {\n    var {\n      name: name,\n      value: value\n    } = args;\n\n    if (this.eventMap.has(name)) {\n      var events = this.eventMap.get(name);\n      events.forEach(event => {\n        event(value);\n      });\n    }\n  }\n\n  _init() {\n    super._init();\n\n    this._createEventMap();\n\n    this.$element().addClass(COMPONENT_CLASS);\n    this.currentView = getCurrentView(getViewName(this.option(\"currentView\")), this.option(\"views\"));\n  }\n\n  _render() {\n    super._render();\n\n    this._createEventMap();\n\n    this._renderToolbar();\n  }\n\n  _renderToolbar() {\n    var config = this._createToolbarConfig();\n\n    var toolbarElement = $(\"<div>\");\n    toolbarElement.appendTo(this.$element());\n    this._toolbar = this._createComponent(toolbarElement, Toolbar, config);\n  }\n\n  _createToolbarConfig() {\n    var items = this.option(\"items\");\n    var parsedItems = items.map(element => this._parseItem(element));\n    return {\n      items: parsedItems\n    };\n  }\n\n  _parseItem(item) {\n    var isDefaultElement = this._isDefaultItem(item);\n\n    if (isDefaultElement) {\n      var defaultElementType = item[DEFAULT_ELEMENT];\n\n      switch (defaultElementType) {\n        case VIEW_SWITCHER:\n          if (this.option(\"useDropDownViewSwitcher\")) {\n            return getDropDownViewSwitcher(this, item);\n          }\n\n          return getViewSwitcher(this, item);\n\n        case DATE_NAVIGATOR:\n          this._renderCalendar();\n\n          return getDateNavigator(this, item);\n\n        default:\n          errors.log(\"Unknown default element type: \".concat(defaultElementType));\n      }\n    }\n\n    return item;\n  }\n\n  _callEvent(event, arg) {\n    if (this.eventMap.has(event)) {\n      var events = this.eventMap.get(event);\n      events.forEach(event => event(arg));\n    }\n  }\n\n  _updateCurrentView(view) {\n    var onCurrentViewChange = this.option(\"onCurrentViewChange\");\n    onCurrentViewChange(view.name);\n\n    this._callEvent(\"currentView\", view);\n  }\n\n  _updateCurrentDate(date) {\n    var onCurrentDateChange = this.option(\"onCurrentDateChange\");\n    onCurrentDateChange(date);\n\n    this._callEvent(\"currentDate\", date);\n  }\n\n  _renderCalendar() {\n    this._calendar = this._createComponent(\"<div>\", SchedulerCalendar, {\n      date: this.option(\"currentDate\"),\n      min: this.option(\"min\"),\n      max: this.option(\"max\"),\n      firstDayOfWeek: this.option(\"firstDayOfWeek\"),\n      focusStateEnabled: this.option(\"focusStateEnabled\"),\n      tabIndex: this.option(\"tabIndex\"),\n      onValueChanged: e => {\n        var date = e.value;\n\n        this._updateCurrentDate(date);\n\n        this._calendar.hide();\n      }\n    });\n\n    this._calendar.$element().appendTo(this.$element());\n  }\n\n  _getCalendarOptionUpdater(name) {\n    return value => {\n      if (this._calendar) {\n        this._calendar.option(name, value);\n      }\n    };\n  }\n\n  _getNextDate(direction) {\n    var initialDate = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;\n    var date = initialDate || this.option(\"currentDate\");\n\n    var options = _extends({}, this.intervalOptions, {\n      date: date\n    });\n\n    return getNextIntervalDate(options, direction);\n  }\n\n  _isMonth() {\n    var currentView = this.currentView;\n    return \"month\" === getViewType(currentView);\n  }\n\n  _getDisplayedDate() {\n    var startViewDate = this.option(\"startViewDate\");\n\n    if (this._isMonth()) {\n      return nextWeek(startViewDate);\n    }\n\n    return new Date(startViewDate);\n  }\n\n  _getCaption() {\n    var date = this.option(\"currentDate\");\n\n    if (this.option(\"startViewDate\")) {\n      date = this._getDisplayedDate();\n    }\n\n    date = dateUtils.trimTime(date);\n\n    var options = _extends({}, this.intervalOptions, {\n      date: date\n    });\n\n    var customizationFunction = this.option(\"customizeDateNavigatorText\");\n    var useShortDateFormat = this.option(\"_useShortDateFormat\");\n    return getCaption(options, useShortDateFormat, customizationFunction);\n  }\n\n  _updateDateByDirection(direction) {\n    var date = this._getNextDate(direction);\n\n    this._updateCurrentDate(date);\n  }\n\n  _showCalendar(e) {\n    this._calendar.show(e.element);\n  }\n\n  _hideCalendar() {\n    this._calendar.hide();\n  }\n\n  _isDefaultItem(item) {\n    return Object.prototype.hasOwnProperty.call(item, DEFAULT_ELEMENT);\n  }\n\n}\nregisterComponent(\"dxSchedulerHeader\", SchedulerHeader);","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/devextreme/esm/ui/scheduler/header/header.js"],"names":["_extends","$","extend","registerComponent","errors","devices","Widget","Toolbar","SchedulerCalendar","dateUtils","getViewSwitcher","getDropDownViewSwitcher","getDateNavigator","getCaption","getNextIntervalDate","validateViews","getStep","getViewType","getViewName","nextWeek","getCurrentView","DEFAULT_ELEMENT","VIEW_SWITCHER","DATE_NAVIGATOR","COMPONENT_CLASS","SchedulerHeader","views","option","captionText","_getCaption","text","intervalOptions","step","currentView","intervalCount","firstDayOfWeek","agendaDuration","_getDefaultOptions","_useShortDateFormat","real","generic","isSimulator","_createEventMap","eventMap","Map","view","repaint","bind","_getCalendarOptionUpdater","_addEvent","name","event","has","set","events","get","_optionChanged","args","value","forEach","_init","$element","addClass","_render","_renderToolbar","config","_createToolbarConfig","toolbarElement","appendTo","_toolbar","_createComponent","items","parsedItems","map","element","_parseItem","item","isDefaultElement","_isDefaultItem","defaultElementType","_renderCalendar","log","concat","_callEvent","arg","_updateCurrentView","onCurrentViewChange","_updateCurrentDate","date","onCurrentDateChange","_calendar","min","max","focusStateEnabled","tabIndex","onValueChanged","e","hide","_getNextDate","direction","initialDate","arguments","length","options","_isMonth","_getDisplayedDate","startViewDate","Date","trimTime","customizationFunction","useShortDateFormat","_updateDateByDirection","_showCalendar","show","_hideCalendar","Object","prototype","hasOwnProperty","call"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/scheduler/header/header.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport registerComponent from \"../../../core/component_registrator\";\r\nimport errors from \"../../../core/errors\";\r\nimport devices from \"../../../core/devices\";\r\nimport Widget from \"../../widget/ui.widget\";\r\nimport Toolbar from \"../../toolbar\";\r\nimport SchedulerCalendar from \"./calendar\";\r\nimport dateUtils from \"../../../core/utils/date\";\r\nimport {\r\n    getViewSwitcher,\r\n    getDropDownViewSwitcher\r\n} from \"./viewSwitcher\";\r\nimport {\r\n    getDateNavigator\r\n} from \"./dateNavigator\";\r\nimport \"../../../ui/button_group\";\r\nimport \"../../../ui/drop_down_button\";\r\nimport {\r\n    getCaption,\r\n    getNextIntervalDate,\r\n    validateViews,\r\n    getStep,\r\n    getViewType,\r\n    getViewName,\r\n    nextWeek\r\n} from \"./utils\";\r\nimport {\r\n    getCurrentView\r\n} from \"../../../renovation/ui/scheduler/model/views\";\r\nvar DEFAULT_ELEMENT = \"defaultElement\";\r\nvar VIEW_SWITCHER = \"viewSwitcher\";\r\nvar DATE_NAVIGATOR = \"dateNavigator\";\r\nvar COMPONENT_CLASS = \"dx-scheduler-header\";\r\nexport class SchedulerHeader extends Widget {\r\n    get views() {\r\n        return this.option(\"views\")\r\n    }\r\n    get captionText() {\r\n        return this._getCaption().text\r\n    }\r\n    get intervalOptions() {\r\n        var step = getStep(this.currentView);\r\n        var intervalCount = this.option(\"intervalCount\");\r\n        var firstDayOfWeek = this.option(\"firstDayOfWeek\");\r\n        var agendaDuration = this.option(\"agendaDuration\");\r\n        return {\r\n            step: step,\r\n            intervalCount: intervalCount,\r\n            firstDayOfWeek: firstDayOfWeek,\r\n            agendaDuration: agendaDuration\r\n        }\r\n    }\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            _useShortDateFormat: !devices.real().generic || devices.isSimulator()\r\n        })\r\n    }\r\n    _createEventMap() {\r\n        this.eventMap = new Map([\r\n            [\"currentView\", [view => {\r\n                this.currentView = getCurrentView(getViewName(view), this.option(\"views\"))\r\n            }]],\r\n            [\"items\", [this.repaint.bind(this)]],\r\n            [\"views\", [validateViews]],\r\n            [\"currentDate\", [this._getCalendarOptionUpdater(\"date\")]],\r\n            [\"min\", [this._getCalendarOptionUpdater(\"min\")]],\r\n            [\"max\", [this._getCalendarOptionUpdater(\"max\")]],\r\n            [\"tabIndex\", [this.repaint.bind(this)]],\r\n            [\"focusStateEnabled\", [this.repaint.bind(this)]],\r\n            [\"useDropDownViewSwitcher\", [this.repaint.bind(this)]]\r\n        ])\r\n    }\r\n    _addEvent(name, event) {\r\n        if (!this.eventMap.has(name)) {\r\n            this.eventMap.set(name, [])\r\n        }\r\n        var events = this.eventMap.get(name);\r\n        this.eventMap.set(name, [...events, event])\r\n    }\r\n    _optionChanged(args) {\r\n        var {\r\n            name: name,\r\n            value: value\r\n        } = args;\r\n        if (this.eventMap.has(name)) {\r\n            var events = this.eventMap.get(name);\r\n            events.forEach(event => {\r\n                event(value)\r\n            })\r\n        }\r\n    }\r\n    _init() {\r\n        super._init();\r\n        this._createEventMap();\r\n        this.$element().addClass(COMPONENT_CLASS);\r\n        this.currentView = getCurrentView(getViewName(this.option(\"currentView\")), this.option(\"views\"))\r\n    }\r\n    _render() {\r\n        super._render();\r\n        this._createEventMap();\r\n        this._renderToolbar()\r\n    }\r\n    _renderToolbar() {\r\n        var config = this._createToolbarConfig();\r\n        var toolbarElement = $(\"<div>\");\r\n        toolbarElement.appendTo(this.$element());\r\n        this._toolbar = this._createComponent(toolbarElement, Toolbar, config)\r\n    }\r\n    _createToolbarConfig() {\r\n        var items = this.option(\"items\");\r\n        var parsedItems = items.map(element => this._parseItem(element));\r\n        return {\r\n            items: parsedItems\r\n        }\r\n    }\r\n    _parseItem(item) {\r\n        var isDefaultElement = this._isDefaultItem(item);\r\n        if (isDefaultElement) {\r\n            var defaultElementType = item[DEFAULT_ELEMENT];\r\n            switch (defaultElementType) {\r\n                case VIEW_SWITCHER:\r\n                    if (this.option(\"useDropDownViewSwitcher\")) {\r\n                        return getDropDownViewSwitcher(this, item)\r\n                    }\r\n                    return getViewSwitcher(this, item);\r\n                case DATE_NAVIGATOR:\r\n                    this._renderCalendar();\r\n                    return getDateNavigator(this, item);\r\n                default:\r\n                    errors.log(\"Unknown default element type: \".concat(defaultElementType))\r\n            }\r\n        }\r\n        return item\r\n    }\r\n    _callEvent(event, arg) {\r\n        if (this.eventMap.has(event)) {\r\n            var events = this.eventMap.get(event);\r\n            events.forEach(event => event(arg))\r\n        }\r\n    }\r\n    _updateCurrentView(view) {\r\n        var onCurrentViewChange = this.option(\"onCurrentViewChange\");\r\n        onCurrentViewChange(view.name);\r\n        this._callEvent(\"currentView\", view)\r\n    }\r\n    _updateCurrentDate(date) {\r\n        var onCurrentDateChange = this.option(\"onCurrentDateChange\");\r\n        onCurrentDateChange(date);\r\n        this._callEvent(\"currentDate\", date)\r\n    }\r\n    _renderCalendar() {\r\n        this._calendar = this._createComponent(\"<div>\", SchedulerCalendar, {\r\n            date: this.option(\"currentDate\"),\r\n            min: this.option(\"min\"),\r\n            max: this.option(\"max\"),\r\n            firstDayOfWeek: this.option(\"firstDayOfWeek\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            onValueChanged: e => {\r\n                var date = e.value;\r\n                this._updateCurrentDate(date);\r\n                this._calendar.hide()\r\n            }\r\n        });\r\n        this._calendar.$element().appendTo(this.$element())\r\n    }\r\n    _getCalendarOptionUpdater(name) {\r\n        return value => {\r\n            if (this._calendar) {\r\n                this._calendar.option(name, value)\r\n            }\r\n        }\r\n    }\r\n    _getNextDate(direction) {\r\n        var initialDate = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;\r\n        var date = initialDate || this.option(\"currentDate\");\r\n        var options = _extends({}, this.intervalOptions, {\r\n            date: date\r\n        });\r\n        return getNextIntervalDate(options, direction)\r\n    }\r\n    _isMonth() {\r\n        var currentView = this.currentView;\r\n        return \"month\" === getViewType(currentView)\r\n    }\r\n    _getDisplayedDate() {\r\n        var startViewDate = this.option(\"startViewDate\");\r\n        if (this._isMonth()) {\r\n            return nextWeek(startViewDate)\r\n        }\r\n        return new Date(startViewDate)\r\n    }\r\n    _getCaption() {\r\n        var date = this.option(\"currentDate\");\r\n        if (this.option(\"startViewDate\")) {\r\n            date = this._getDisplayedDate()\r\n        }\r\n        date = dateUtils.trimTime(date);\r\n        var options = _extends({}, this.intervalOptions, {\r\n            date: date\r\n        });\r\n        var customizationFunction = this.option(\"customizeDateNavigatorText\");\r\n        var useShortDateFormat = this.option(\"_useShortDateFormat\");\r\n        return getCaption(options, useShortDateFormat, customizationFunction)\r\n    }\r\n    _updateDateByDirection(direction) {\r\n        var date = this._getNextDate(direction);\r\n        this._updateCurrentDate(date)\r\n    }\r\n    _showCalendar(e) {\r\n        this._calendar.show(e.element)\r\n    }\r\n    _hideCalendar() {\r\n        this._calendar.hide()\r\n    }\r\n    _isDefaultItem(item) {\r\n        return Object.prototype.hasOwnProperty.call(item, DEFAULT_ELEMENT)\r\n    }\r\n}\r\nregisterComponent(\"dxSchedulerHeader\", SchedulerHeader);\r\n"]},"metadata":{},"sourceType":"module"}