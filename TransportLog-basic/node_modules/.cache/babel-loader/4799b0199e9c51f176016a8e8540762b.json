{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zoran\\\\source\\\\repos\\\\TransportApp\\\\TransportLog-basic\\\\src\\\\pages\\\\Home\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { Week, TimelineViews, TimelineMonth, Day, ScheduleComponent, ViewsDirective, ViewDirective, ResourcesDirective, ResourceDirective, Inject } from '@syncfusion/ej2-react-schedule';\nimport useData from './useData';\nimport './Home.css';\nimport { Editing } from 'devextreme-react/data-grid';\nimport { DateTimePickerComponent } from '@syncfusion/ej2-react-calendars';\nimport { MultiSelectComponent } from '@syncfusion/ej2-react-dropdowns';\nimport { L10n } from '@syncfusion/ej2-base';\nimport { insertJob, deleteJob, updateJob } from './homeService';\nimport { parseDate } from 'devextreme/localization';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const {\n    data\n  } = useData();\n  const customer = data.customers;\n  const docks = data.docks;\n  const statuses = data.statuses;\n  console.log(customer);\n  console.log(statuses);\n  const fieldsDocks = {\n    value: 'Id',\n    text: 'DockName'\n  };\n  const fieldsCustomer = {\n    value: 'Id',\n    text: 'FirstName'\n  };\n  const fieldsStatuses = {\n    value: 'Id',\n    text: 'Name'\n  };\n\n  function dateConverter(str) {\n    var date = new Date(str);\n    const mnth = (\"0\" + (date.getMonth() + 1)).slice(-2);\n    const day = (\"0\" + date.getDate()).slice(-2);\n    const hours = (\"0\" + date.getHours()).slice(-2);\n    const minutes = (\"0\" + date.getMinutes()).slice(-2);\n    const seconds = (\"0\" + date.getSeconds()).slice(-2);\n    const year = date.getFullYear();\n    return `${year}/${mnth}/${day} ${hours}:${minutes}:${seconds}`;\n  }\n\n  function onActionBegin(args) {\n    console.log(args);\n\n    if (args.requestType === 'eventCreate') {\n      const timeStart = dateConverter(args.addedRecords[0].StartTime.toString());\n      console.log(typeof timeStart);\n      const job = {\n        CustomerId: args.addedRecords[0].CustomerId[0],\n        SupportStatusesId: args.addedRecords[0].StatusId[0],\n        DockId: args.addedRecords[0].OwnerId,\n        EndTime: args.addedRecords[0].EndTime,\n        StartTime: timeStart,\n        NoPallets: parseInt(args.addedRecords[0].NoPallets),\n        LoadNo: args.addedRecords[0].LoadNo,\n        LoadType: args.addedRecords[0].LoadType\n      };\n      insertJob(job);\n    } else if (args.requestType === 'eventRemove') {\n      deleteJob(args.deletedRecords[0].Guid);\n    }\n  }\n\n  function editorTemplate(props) {\n    console.log(props);\n    return props !== undefined && Object.keys(props).length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"custom-event-editor\",\n      style: {\n        width: '100%',\n        padding: '5'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"e-textlabel\",\n            children: \"Start Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 4,\n            children: /*#__PURE__*/_jsxDEV(DateTimePickerComponent, {\n              format: \"yyyy-MM-dd HH:mm\",\n              id: \"StartTime\",\n              \"data-name\": \"StartTime\",\n              className: \"e-field\",\n              value: new Date(props.startTime || props.StartTime)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 62\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"e-textlabel\",\n            children: \"End Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 4,\n            children: /*#__PURE__*/_jsxDEV(DateTimePickerComponent, {\n              format: \"dd/MM/yyyy hh:mm a\",\n              id: \"EndTime\",\n              \"data-name\": \"EndTime\",\n              value: new Date(props.endTime || props.EndTime),\n              className: \"e-field\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 56\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"e-textlabel\",\n            children: \"Dock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 4,\n            children: /*#__PURE__*/_jsxDEV(MultiSelectComponent, {\n              className: \"e-field dock\",\n              placeholder: \"Choose owner\",\n              \"data-name\": \"OwnerId\",\n              dataSource: docks,\n              fields: fieldsDocks,\n              onChange: e => console.log(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"e-textlabel\",\n            children: \"Customer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 4,\n            children: /*#__PURE__*/_jsxDEV(MultiSelectComponent, {\n              className: \"e-field\",\n              placeholder: \"Choose Customer\",\n              \"data-name\": \"CustomerId\",\n              dataSource: customer,\n              fields: fieldsCustomer\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 56\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"e-textlabel\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 4,\n            children: /*#__PURE__*/_jsxDEV(MultiSelectComponent, {\n              className: \"e-field\",\n              placeholder: \"Choose Status\",\n              \"data-name\": \"StatusId\",\n              dataSource: statuses,\n              fields: fieldsStatuses\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 54\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"e-textlabel\",\n            children: \"Load Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 4,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"LoadType\",\n              className: \"e-field e-input ltype\",\n              type: \"text\",\n              name: \"LoadType\",\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 57\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"e-textlabel\",\n            children: \"Load No.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 4,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"LoadNo\",\n              className: \"e-field e-input\",\n              type: \"text\",\n              name: \"LoadNo\",\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 56\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"e-textlabel\",\n            children: \"Number of Pallets\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 4,\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"NoPallets\",\n              className: \"e-field e-input\",\n              type: \"number\",\n              name: \"NoPallets\",\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 65\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 87\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 8\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 30\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(ScheduleComponent, {\n    width: \"100%\",\n    height: \"90vh\",\n    currentView: \"Week\",\n    selectedDate: new Date(2022, 11, 1),\n    group: {\n      resources: ['Owners']\n    },\n    showQuickInfo: false,\n    editorTemplate: editorTemplate.bind(this),\n    actionBegin: onActionBegin.bind(this),\n    children: [/*#__PURE__*/_jsxDEV(ViewsDirective, {\n      children: [/*#__PURE__*/_jsxDEV(ViewDirective, {\n        option: \"Day\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ViewDirective, {\n        option: \"Week\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ResourcesDirective, {\n      children: /*#__PURE__*/_jsxDEV(ResourceDirective, {\n        field: \"OwnerId\",\n        title: \"Owner\",\n        name: \"Owners\",\n        allowMultiple: true,\n        dataSource: docks,\n        textField: \"DockName\",\n        idField: \"Id\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Inject, {\n      services: [Day, Week, TimelineViews, TimelineMonth]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"OxX462xNUAoDHx8Ix0AZVAHxlKM=\", false, function () {\n  return [useData];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/src/pages/Home/Home.js"],"names":["useEffect","useState","Week","TimelineViews","TimelineMonth","Day","ScheduleComponent","ViewsDirective","ViewDirective","ResourcesDirective","ResourceDirective","Inject","useData","Editing","DateTimePickerComponent","MultiSelectComponent","L10n","insertJob","deleteJob","updateJob","parseDate","Home","data","customer","customers","docks","statuses","console","log","fieldsDocks","value","text","fieldsCustomer","fieldsStatuses","dateConverter","str","date","Date","mnth","getMonth","slice","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","year","getFullYear","onActionBegin","args","requestType","timeStart","addedRecords","StartTime","toString","job","CustomerId","SupportStatusesId","StatusId","DockId","OwnerId","EndTime","NoPallets","parseInt","LoadNo","LoadType","deletedRecords","Guid","editorTemplate","props","undefined","Object","keys","length","width","padding","startTime","endTime","e","resources","bind"],"mappings":";;;AAAC,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,SAAQC,IAAR,EAAcC,aAAd,EAA6BC,aAA7B,EAA4CC,GAA5C,EAAiDC,iBAAjD,EAAoEC,cAApE,EAAoFC,aAApF,EAAmGC,kBAAnG,EAAuHC,iBAAvH,EAA0IC,MAA1I,QAAwJ,gCAAxJ;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,YAAP;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACD,SAASC,uBAAT,QAAwC,iCAAxC;AACA,SAASC,oBAAT,QAAqC,iCAArC;AACA,SAAQC,IAAR,QAAmB,sBAAnB;AACA,SAAQC,SAAR,EAAkBC,SAAlB,EAA6BC,SAA7B,QAA6C,eAA7C;AACA,SAASC,SAAT,QAA0B,yBAA1B;;;AAIC,MAAMC,IAAI,GAAG,MAAM;AAAA;;AAEjB,QAAM;AAACC,IAAAA;AAAD,MAASV,OAAO,EAAtB;AAEA,QAAMW,QAAQ,GAAGD,IAAI,CAACE,SAAtB;AACA,QAAMC,KAAK,GAAGH,IAAI,CAACG,KAAnB;AACA,QAAMC,QAAQ,GAAGJ,IAAI,CAACI,QAAtB;AAGHC,EAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAEG,QAAMG,WAAW,GAAG;AAAEC,IAAAA,KAAK,EAAE,IAAT;AAAeC,IAAAA,IAAI,EAAE;AAArB,GAApB;AACA,QAAMC,cAAc,GAAG;AAAEF,IAAAA,KAAK,EAAE,IAAT;AAAeC,IAAAA,IAAI,EAAE;AAArB,GAAvB;AACA,QAAME,cAAc,GAAG;AAAEH,IAAAA,KAAK,EAAE,IAAT;AAAeC,IAAAA,IAAI,EAAE;AAArB,GAAvB;;AAEA,WAASG,aAAT,CAAuBC,GAAvB,EAA2B;AAE1B,QAAIC,IAAI,GAAG,IAAIC,IAAJ,CAASF,GAAT,CAAX;AACA,UAAMG,IAAI,GAAG,CAAC,OAAOF,IAAI,CAACG,QAAL,KAAgB,CAAvB,CAAD,EAA4BC,KAA5B,CAAkC,CAAC,CAAnC,CAAb;AACA,UAAMC,GAAG,GAAI,CAAC,MAAML,IAAI,CAACM,OAAL,EAAP,EAAuBF,KAAvB,CAA6B,CAAC,CAA9B,CAAb;AACA,UAAMG,KAAK,GAAI,CAAC,MAAMP,IAAI,CAACQ,QAAL,EAAP,EAAwBJ,KAAxB,CAA8B,CAAC,CAA/B,CAAf;AACA,UAAMK,OAAO,GAAG,CAAC,MAAMT,IAAI,CAACU,UAAL,EAAP,EAA0BN,KAA1B,CAAgC,CAAC,CAAjC,CAAhB;AACA,UAAMO,OAAO,GAAI,CAAC,MAAMX,IAAI,CAACY,UAAL,EAAP,EAA0BR,KAA1B,CAAgC,CAAC,CAAjC,CAAjB;AACA,UAAMS,IAAI,GAAGb,IAAI,CAACc,WAAL,EAAb;AACA,WAAQ,GAAED,IAAK,IAAGX,IAAK,IAAGG,GAAI,IAAGE,KAAM,IAAGE,OAAQ,IAAGE,OAAQ,EAA7D;AACF;;AAMF,WAASI,aAAT,CAAuBC,IAAvB,EAA4B;AAC1BzB,IAAAA,OAAO,CAACC,GAAR,CAAYwB,IAAZ;;AAEA,QAAGA,IAAI,CAACC,WAAL,KAAqB,aAAxB,EAAuC;AAErC,YAAMC,SAAS,GAAGpB,aAAa,CAACkB,IAAI,CAACG,YAAL,CAAkB,CAAlB,EAAqBC,SAArB,CAA+BC,QAA/B,EAAD,CAA/B;AAEE9B,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAO0B,SAAnB;AAGF,YAAMI,GAAG,GAAG;AACVC,QAAAA,UAAU,EAAEP,IAAI,CAACG,YAAL,CAAkB,CAAlB,EAAqBI,UAArB,CAAgC,CAAhC,CADF;AAEVC,QAAAA,iBAAiB,EAAER,IAAI,CAACG,YAAL,CAAkB,CAAlB,EAAqBM,QAArB,CAA8B,CAA9B,CAFT;AAGVC,QAAAA,MAAM,EAAEV,IAAI,CAACG,YAAL,CAAkB,CAAlB,EAAqBQ,OAHnB;AAIVC,QAAAA,OAAO,EAAGZ,IAAI,CAACG,YAAL,CAAkB,CAAlB,EAAqBS,OAJrB;AAKVR,QAAAA,SAAS,EAAEF,SALD;AAMVW,QAAAA,SAAS,EAAEC,QAAQ,CAACd,IAAI,CAACG,YAAL,CAAkB,CAAlB,EAAqBU,SAAtB,CANT;AAOVE,QAAAA,MAAM,EAAEf,IAAI,CAACG,YAAL,CAAkB,CAAlB,EAAqBY,MAPnB;AAQVC,QAAAA,QAAQ,EAAEhB,IAAI,CAACG,YAAL,CAAkB,CAAlB,EAAqBa;AARrB,OAAZ;AAUAnD,MAAAA,SAAS,CAACyC,GAAD,CAAT;AACD,KAlBD,MAkBM,IAAGN,IAAI,CAACC,WAAL,KAAqB,aAAxB,EAAsC;AAC1CnC,MAAAA,SAAS,CAACkC,IAAI,CAACiB,cAAL,CAAoB,CAApB,EAAuBC,IAAxB,CAAT;AACD;AACF;;AAIA,WAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC9B7C,IAAAA,OAAO,CAACC,GAAR,CAAY4C,KAAZ;AAGK,WAAQA,KAAK,KAAKC,SAAV,IAAuBC,MAAM,CAACC,IAAP,CAAYH,KAAZ,EAAmBI,MAAnB,GAA4B,CAAnD,gBACR;AAAO,MAAA,SAAS,EAAC,qBAAjB;AAAuC,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,OAAO,EAAE;AAA1B,OAA9C;AAAA,6BAA+E;AAAA,gCACxE;AAAA,kCAAI;AAAI,YAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,eAA+C;AAAI,YAAA,OAAO,EAAE,CAAb;AAAA,mCAEjD,QAAC,uBAAD;AAAyB,cAAA,MAAM,EAAC,kBAAhC;AAAmD,cAAA,EAAE,EAAC,WAAtD;AAAkE,2BAAU,WAA5E;AAAwF,cAAA,SAAS,EAAC,SAAlG;AAA4G,cAAA,KAAK,EAAE,IAAIzC,IAAJ,CAASmC,KAAK,CAACO,SAAN,IAAmBP,KAAK,CAAChB,SAAlC;AAAnH;AAAA;AAAA;AAAA;AAAA;AAFiD;AAAA;AAAA;AAAA;AAAA,kBAA/C;AAAA;AAAA;AAAA;AAAA;AAAA,gBADwE,eAM5E;AAAA,kCAAI;AAAI,YAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,eAA6C;AAAI,YAAA,OAAO,EAAE,CAAb;AAAA,mCAC3C,QAAC,uBAAD;AAAyB,cAAA,MAAM,EAAC,oBAAhC;AAAqD,cAAA,EAAE,EAAC,SAAxD;AAAkE,2BAAU,SAA5E;AAAsF,cAAA,KAAK,EAAE,IAAInB,IAAJ,CAASmC,KAAK,CAACQ,OAAN,IAAiBR,KAAK,CAACR,OAAhC,CAA7F;AAAuI,cAAA,SAAS,EAAC;AAAjJ;AAAA;AAAA;AAAA;AAAA;AAD2C;AAAA;AAAA;AAAA;AAAA,kBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA,gBAN4E,eAU5E;AAAA,kCAAI;AAAI,YAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,eAAyC;AAAI,YAAA,OAAO,EAAE,CAAb;AAAA,mCACvC,QAAC,oBAAD;AAAsB,cAAA,SAAS,EAAC,cAAhC;AAA+C,cAAA,WAAW,EAAC,cAA3D;AAA0E,2BAAU,SAApF;AAA8F,cAAA,UAAU,EAAEvC,KAA1G;AAAiH,cAAA,MAAM,EAAEI,WAAzH;AAAsI,cAAA,QAAQ,EAAEoD,CAAC,IAAItD,OAAO,CAACC,GAAR,CAAYqD,CAAZ;AAArJ;AAAA;AAAA;AAAA;AAAA;AADuC;AAAA;AAAA;AAAA;AAAA,kBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAV4E,eAc5E;AAAA,kCAAI;AAAI,YAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,eAA6C;AAAI,YAAA,OAAO,EAAE,CAAb;AAAA,mCAC3C,QAAC,oBAAD;AAAsB,cAAA,SAAS,EAAC,SAAhC;AAA0C,cAAA,WAAW,EAAC,iBAAtD;AAAwE,2BAAU,YAAlF;AAA+F,cAAA,UAAU,EAAE1D,QAA3G;AAAqH,cAAA,MAAM,EAAES;AAA7H;AAAA;AAAA;AAAA;AAAA;AAD2C;AAAA;AAAA;AAAA;AAAA,kBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA,gBAd4E,eAkB5E;AAAA,kCAAI;AAAI,YAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,eAA2C;AAAI,YAAA,OAAO,EAAE,CAAb;AAAA,mCACzC,QAAC,oBAAD;AAAsB,cAAA,SAAS,EAAC,SAAhC;AAA0C,cAAA,WAAW,EAAC,eAAtD;AAAsE,2BAAU,UAAhF;AAA2F,cAAA,UAAU,EAAEN,QAAvG;AAAiH,cAAA,MAAM,EAAEO;AAAzH;AAAA;AAAA;AAAA;AAAA;AADyC;AAAA;AAAA;AAAA;AAAA,kBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlB4E,eAsB5E;AAAA,kCAAI;AAAI,YAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,eAA8C;AAAI,YAAA,OAAO,EAAE,CAAb;AAAA,mCAC5C;AAAO,cAAA,EAAE,EAAC,UAAV;AAAqB,cAAA,SAAS,EAAC,uBAA/B;AAAuD,cAAA,IAAI,EAAC,MAA5D;AAAmE,cAAA,IAAI,EAAC,UAAxE;AAAmF,cAAA,KAAK,EAAE;AAAE4C,gBAAAA,KAAK,EAAE;AAAT;AAA1F;AAAA;AAAA;AAAA;AAAA;AAD4C;AAAA;AAAA;AAAA;AAAA,kBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtB4E,eA0B5E;AAAA,kCAAI;AAAI,YAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,eAA6C;AAAI,YAAA,OAAO,EAAE,CAAb;AAAA,mCAC3C;AAAO,cAAA,EAAE,EAAC,QAAV;AAAmB,cAAA,SAAS,EAAC,iBAA7B;AAA+C,cAAA,IAAI,EAAC,MAApD;AAA2D,cAAA,IAAI,EAAC,QAAhE;AAAyE,cAAA,KAAK,EAAE;AAAEA,gBAAAA,KAAK,EAAE;AAAT;AAAhF;AAAA;AAAA;AAAA;AAAA;AAD2C;AAAA;AAAA;AAAA;AAAA,kBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA,gBA1B4E,eA8B5E;AAAA,kCAAI;AAAI,YAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,eAAsD;AAAI,YAAA,OAAO,EAAE,CAAb;AAAA,mCACpD;AAAO,cAAA,EAAE,EAAC,WAAV;AAAsB,cAAA,SAAS,EAAC,iBAAhC;AAAkD,cAAA,IAAI,EAAC,QAAvD;AAAgE,cAAA,IAAI,EAAC,WAArE;AAAiF,cAAA,KAAK,EAAE;AAAEA,gBAAAA,KAAK,EAAE;AAAT;AAAxF;AAAA;AAAA;AAAA;AAAA;AADoD;AAAA;AAAA;AAAA;AAAA,kBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA,gBA9B4E;AAAA;AAAA;AAAA;AAAA;AAAA;AAA/E;AAAA;AAAA;AAAA;AAAA,YADQ,gBAmCc;AAAA;AAAA;AAAA;AAAA,YAnCtB;AAqCE;;AAGP,sBACE,QAAC,iBAAD;AAAmB,IAAA,KAAK,EAAC,MAAzB;AAAgC,IAAA,MAAM,EAAC,MAAvC;AAA8C,IAAA,WAAW,EAAC,MAA1D;AAAiE,IAAA,YAAY,EAAE,IAAIxC,IAAJ,CAAS,IAAT,EAAe,EAAf,EAAmB,CAAnB,CAA/E;AAAsG,IAAA,KAAK,EAAE;AAAE6C,MAAAA,SAAS,EAAE,CAAC,QAAD;AAAb,KAA7G;AAAwI,IAAA,aAAa,EAAE,KAAvJ;AAA8J,IAAA,cAAc,EAAEX,cAAc,CAACY,IAAf,CAAoB,IAApB,CAA9K;AAAyM,IAAA,WAAW,EAAEhC,aAAa,CAACgC,IAAd,CAAmB,IAAnB,CAAtN;AAAA,4BACE,QAAC,cAAD;AAAA,8BACI,QAAC,aAAD;AAAe,QAAA,MAAM,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,aAAD;AAAe,QAAA,MAAM,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAKE,QAAC,kBAAD;AAAA,6BACI,QAAC,iBAAD;AAAmB,QAAA,KAAK,EAAC,SAAzB;AAAmC,QAAA,KAAK,EAAC,OAAzC;AAAiD,QAAA,IAAI,EAAC,QAAtD;AAA+D,QAAA,aAAa,EAAE,IAA9E;AAAoF,QAAA,UAAU,EAAE1D,KAAhG;AAAuG,QAAA,SAAS,EAAC,UAAjH;AAA4H,QAAA,OAAO,EAAC,IAApI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YALF,eAQE,QAAC,MAAD;AAAQ,MAAA,QAAQ,EAAE,CAACpB,GAAD,EAAMH,IAAN,EAAYC,aAAZ,EAA2BC,aAA3B;AAAlB;AAAA;AAAA;AAAA;AAAA,YARF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CApHA;;GAAMiB,I;UAEWT,O;;;KAFXS,I;AAqHP,eAAeA,IAAf","sourcesContent":[" import {useEffect, useState} from 'react';\r\n import {Week, TimelineViews, TimelineMonth, Day, ScheduleComponent, ViewsDirective, ViewDirective, ResourcesDirective, ResourceDirective, Inject } from '@syncfusion/ej2-react-schedule';\r\n import useData from './useData';\r\n import './Home.css'\r\n import { Editing } from 'devextreme-react/data-grid';\r\nimport { DateTimePickerComponent } from '@syncfusion/ej2-react-calendars';\r\nimport { MultiSelectComponent } from '@syncfusion/ej2-react-dropdowns';\r\nimport {L10n} from '@syncfusion/ej2-base';\r\nimport {insertJob,deleteJob, updateJob} from './homeService';\r\nimport { parseDate } from 'devextreme/localization';\r\n\r\n\r\n\r\n const Home = () => {\r\n\r\n   const {data} = useData();\r\n\r\n   const customer = data.customers;\r\n   const docks = data.docks;\r\n   const statuses = data.statuses;\r\n\r\n   \r\nconsole.log(customer);\r\nconsole.log(statuses);\r\n\r\n   const fieldsDocks = { value: 'Id', text: 'DockName' };\r\n   const fieldsCustomer = { value: 'Id', text: 'FirstName'};\r\n   const fieldsStatuses = { value: 'Id', text: 'Name' };\r\n\r\n   function dateConverter(str){\r\n\r\n    var date = new Date(str);\r\n    const mnth = (\"0\" + (date.getMonth()+1)).slice(-2);\r\n    const day  = (\"0\" + date.getDate()).slice(-2);\r\n    const hours  = (\"0\" + date.getHours()).slice(-2);\r\n    const minutes = (\"0\" + date.getMinutes()).slice(-2);\r\n    const seconds  = (\"0\" + date.getSeconds()).slice(-2);\r\n    const year = date.getFullYear();\r\n    return `${year}/${mnth}/${day} ${hours}:${minutes}:${seconds}`\r\n }\r\n\r\n\r\n\r\n\r\n\r\nfunction onActionBegin(args){\r\n  console.log(args);\r\n\r\n  if(args.requestType === 'eventCreate') {\r\n\r\n    const timeStart = dateConverter(args.addedRecords[0].StartTime.toString());\r\n\r\n      console.log(typeof(timeStart));\r\n    \r\n\r\n    const job = {\r\n      CustomerId: args.addedRecords[0].CustomerId[0],\r\n      SupportStatusesId: args.addedRecords[0].StatusId[0],\r\n      DockId: args.addedRecords[0].OwnerId,\r\n      EndTime : args.addedRecords[0].EndTime,\r\n      StartTime: timeStart,\r\n      NoPallets: parseInt(args.addedRecords[0].NoPallets),\r\n      LoadNo: args.addedRecords[0].LoadNo,\r\n      LoadType: args.addedRecords[0].LoadType,\r\n    }\r\n    insertJob(job);\r\n  }else if(args.requestType === 'eventRemove'){\r\n    deleteJob(args.deletedRecords[0].Guid);\r\n  }\r\n}\r\n\r\n\r\n\r\n function editorTemplate(props) {\r\n  console.log(props)\r\n\r\n  \r\n       return (props !== undefined && Object.keys(props).length > 0 ? \r\n       <table className=\"custom-event-editor\" style={{ width: '100%', padding: '5' }}><tbody>\r\n              <tr><td className=\"e-textlabel\">Start Date</td><td colSpan={4}>\r\n                \r\n            <DateTimePickerComponent format='yyyy-MM-dd HH:mm' id=\"StartTime\" data-name=\"StartTime\" className=\"e-field\" value={new Date(props.startTime || props.StartTime)}></DateTimePickerComponent>\r\n          </td></tr>\r\n\r\n          <tr><td className=\"e-textlabel\">End Date</td><td colSpan={4}>\r\n            <DateTimePickerComponent format='dd/MM/yyyy hh:mm a' id=\"EndTime\" data-name=\"EndTime\" value={new Date(props.endTime || props.EndTime)} className=\"e-field\"></DateTimePickerComponent>\r\n          </td></tr>\r\n\r\n          <tr><td className=\"e-textlabel\">Dock</td><td colSpan={4}>\r\n            <MultiSelectComponent className=\"e-field dock\" placeholder='Choose owner' data-name=\"OwnerId\" dataSource={docks} fields={fieldsDocks} onChange={e => console.log(e)}/>\r\n          </td></tr>\r\n\r\n          <tr><td className=\"e-textlabel\">Customer</td><td colSpan={4}>\r\n            <MultiSelectComponent className=\"e-field\" placeholder='Choose Customer' data-name=\"CustomerId\" dataSource={customer} fields={fieldsCustomer}  />\r\n          </td></tr>\r\n\r\n          <tr><td className=\"e-textlabel\">Status</td><td colSpan={4}>\r\n            <MultiSelectComponent className=\"e-field\" placeholder='Choose Status' data-name=\"StatusId\" dataSource={statuses} fields={fieldsStatuses}/>\r\n          </td></tr>\r\n\r\n          <tr><td className=\"e-textlabel\">Load Type</td><td colSpan={4}>\r\n            <input id=\"LoadType\" className=\"e-field e-input ltype\" type=\"text\" name=\"LoadType\" style={{ width: '100%' }}/>\r\n          </td></tr>\r\n\r\n          <tr><td className=\"e-textlabel\">Load No.</td><td colSpan={4}>\r\n            <input id=\"LoadNo\" className=\"e-field e-input\" type=\"text\" name=\"LoadNo\" style={{ width: '100%' }}/>\r\n          </td></tr>\r\n       \r\n          <tr><td className=\"e-textlabel\">Number of Pallets</td><td colSpan={4}>\r\n            <input id=\"NoPallets\" className=\"e-field e-input\" type=\"number\" name=\"NoPallets\" style={{ width: '100%' }}/>\r\n          </td></tr>\r\n      \r\n          </tbody></table> : <div></div>);\r\n          \r\n        }\r\n\r\n      \r\n  return(\r\n    <ScheduleComponent width='100%' height='90vh' currentView='Week' selectedDate={new Date(2022, 11, 1)} group={{ resources: ['Owners'] }} showQuickInfo={false} editorTemplate={editorTemplate.bind(this)} actionBegin={onActionBegin.bind(this)}>\r\n      <ViewsDirective>\r\n          <ViewDirective option='Day'/>\r\n          <ViewDirective option='Week'/>\r\n      </ViewsDirective>\r\n      <ResourcesDirective>\r\n          <ResourceDirective field='OwnerId' title='Owner' name='Owners' allowMultiple={true} dataSource={docks} textField='DockName' idField='Id'> </ResourceDirective>\r\n      </ResourcesDirective>\r\n      <Inject services={[Day, Week, TimelineViews, TimelineMonth]}/>\r\n    </ScheduleComponent>\r\n  );  \r\n}\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}