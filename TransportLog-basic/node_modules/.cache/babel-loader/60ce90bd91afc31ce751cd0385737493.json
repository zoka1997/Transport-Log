{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\n\n\nimport { EventHandler, Internationalization, Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { Animation, Event, cldrData, getDefaultDateObject, detach } from '@syncfusion/ej2-base';\nimport { createElement, remove, addClass, L10n, removeClass, closest, append, attributes } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, isNullOrUndefined, formatUnit, getValue, rippleEffect } from '@syncfusion/ej2-base';\nimport { extend } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DatePicker } from '../datepicker/datepicker';\nimport { TimePickerBase } from '../timepicker/timepicker'; //class constant defination\n\nvar DATEWRAPPER = 'e-date-wrapper';\nvar DATEPICKERROOT = 'e-datepicker';\nvar DATETIMEWRAPPER = 'e-datetime-wrapper';\nvar DAY = new Date().getDate();\nvar MONTH = new Date().getMonth();\nvar YEAR = new Date().getFullYear();\nvar HOUR = new Date().getHours();\nvar MINUTE = new Date().getMinutes();\nvar SECOND = new Date().getSeconds();\nvar MILLISECOND = new Date().getMilliseconds();\nvar ROOT = 'e-datetimepicker';\nvar DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar TIMEICON = 'e-time-icon';\nvar INPUTFOCUS = 'e-input-focus';\nvar POPUPDIMENSION = '250px';\nvar ICONANIMATION = 'e-icon-anim';\nvar DISABLED = 'e-disabled';\nvar ERROR = 'e-error';\nvar CONTENT = 'e-content';\nvar NAVIGATION = 'e-navigation';\nvar ACTIVE = 'e-active';\nvar HOVER = 'e-hover';\nvar ICONS = 'e-icons';\nvar HALFPOSITION = 2;\nvar LISTCLASS = 'e-list-item';\nvar ANIMATIONDURATION = 100;\nvar OVERFLOW = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\n\nvar DateTimePicker =\n/** @class */\nfunction (_super) {\n  __extends(DateTimePicker, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function DateTimePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.valueWithMinutes = null;\n    _this.scrollInvoked = false;\n    _this.moduleName = _this.getModuleName();\n    _this.dateTimeOptions = options;\n    return _this;\n  }\n\n  DateTimePicker.prototype.focusHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    addClass([this.inputWrapper.container], INPUTFOCUS);\n  };\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n\n\n  DateTimePicker.prototype.focusIn = function () {\n    _super.prototype.focusIn.call(this);\n  };\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n\n\n  DateTimePicker.prototype.focusOut = function () {\n    if (document.activeElement === this.inputElement) {\n      this.inputElement.blur();\n      removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n    }\n  };\n\n  DateTimePicker.prototype.blurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    } // IE popup closing issue when click over the scrollbar\n\n\n    if (this.isTimePopupOpen() && this.isPreventBlur) {\n      this.inputElement.focus();\n      return;\n    }\n\n    removeClass([this.inputWrapper.container], INPUTFOCUS);\n    var blurArguments = {\n      model: this\n    };\n\n    if (this.isTimePopupOpen()) {\n      this.hide(e);\n    }\n\n    this.trigger('blur', blurArguments);\n  };\n  /**\n   * To destroy the widget.\n   *\n   * @returns {void}\n   */\n\n\n  DateTimePicker.prototype.destroy = function () {\n    if (this.popupObject && this.popupObject.element.classList.contains(POPUP)) {\n      this.popupObject.destroy();\n      detach(this.dateTimeWrapper);\n      this.dateTimeWrapper = undefined;\n      this.liCollections = this.timeCollections = [];\n\n      if (!isNullOrUndefined(this.rippleFn)) {\n        this.rippleFn();\n      }\n    }\n\n    var ariaAttribute = {\n      'aria-live': 'assertive',\n      'aria-atomic': 'true',\n      'aria-invalid': 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttribute, this.inputElement);\n    }\n\n    if (this.isCalendar()) {\n      if (this.popupWrapper) {\n        detach(this.popupWrapper);\n      }\n\n      this.popupObject = this.popupWrapper = null;\n      this.keyboardHandler.destroy();\n    }\n\n    this.unBindInputEvents();\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DateTimePicker.prototype.render = function () {\n    this.timekeyConfigure = {\n      enter: 'enter',\n      escape: 'escape',\n      end: 'end',\n      tab: 'tab',\n      home: 'home',\n      down: 'downarrow',\n      up: 'uparrow',\n      left: 'leftarrow',\n      right: 'rightarrow',\n      open: 'alt+downarrow',\n      close: 'alt+uparrow'\n    };\n    this.valueWithMinutes = null;\n    this.previousDateTime = null;\n    this.isPreventBlur = false;\n    this.cloneElement = this.element.cloneNode(true);\n    this.dateTimeFormat = this.cldrDateTimeFormat();\n    this.initValue = this.value;\n\n    _super.prototype.updateHtmlAttributeToElement.call(this);\n\n    this.checkAttributes(false);\n    var localeText = {\n      placeholder: this.placeholder\n    };\n    this.l10n = new L10n('datetimepicker', localeText, this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n\n    _super.prototype.render.call(this);\n\n    this.createInputElement();\n\n    _super.prototype.updateHtmlAttributeToWrapper.call(this);\n\n    this.bindInputEvents();\n\n    if (this.enableMask) {\n      this.notify(\"createMask\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n\n    this.setValue();\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n      Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n\n    this.setProperties({\n      scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo)))\n    }, true);\n    this.previousDateTime = this.value && new Date(+this.value);\n\n    if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.removeAttribute('tabindex');\n\n      if (!this.enabled) {\n        this.inputElement.tabIndex = -1;\n      }\n    }\n\n    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n    }\n\n    this.renderComplete();\n  };\n\n  DateTimePicker.prototype.setValue = function () {\n    this.initValue = this.validateMinMaxRange(this.value);\n\n    if (!this.strictMode && this.isDateObject(this.initValue)) {\n      var value = this.validateMinMaxRange(this.initValue);\n      Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n      this.setProperties({\n        value: value\n      }, true);\n    } else {\n      if (isNullOrUndefined(this.value)) {\n        this.initValue = null;\n        this.setProperties({\n          value: null\n        }, true);\n      }\n    }\n\n    this.valueWithMinutes = this.value;\n\n    _super.prototype.updateInput.call(this);\n  };\n\n  DateTimePicker.prototype.validateMinMaxRange = function (value) {\n    var result = value;\n\n    if (this.isDateObject(value)) {\n      result = this.validateValue(value);\n    } else {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n      }\n    }\n\n    this.checkValidState(result);\n    return result;\n  };\n\n  DateTimePicker.prototype.checkValidState = function (value) {\n    this.isValidState = true;\n\n    if (!this.strictMode) {\n      if (+value > +this.max || +value < +this.min) {\n        this.isValidState = false;\n      }\n    }\n\n    this.checkErrorState();\n  };\n\n  DateTimePicker.prototype.checkErrorState = function () {\n    if (this.isValidState) {\n      removeClass([this.inputWrapper.container], ERROR);\n    } else {\n      addClass([this.inputWrapper.container], ERROR);\n    }\n\n    attributes(this.inputElement, {\n      'aria-invalid': this.isValidState ? 'false' : 'true'\n    });\n  };\n\n  DateTimePicker.prototype.validateValue = function (value) {\n    var dateVal = value;\n\n    if (this.strictMode) {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n        dateVal = this.max;\n      } else if (+value < +this.min) {\n        dateVal = this.min;\n      } else if (+value > +this.max) {\n        dateVal = this.max;\n      }\n    } else {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n        dateVal = value;\n      }\n    }\n\n    return dateVal;\n  };\n\n  DateTimePicker.prototype.disablePopupButton = function (isDisable) {\n    if (isDisable) {\n      addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED);\n      this.hide();\n    } else {\n      removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED);\n    }\n  };\n\n  DateTimePicker.prototype.getFormattedValue = function (value) {\n    var dateOptions;\n\n    if (!isNullOrUndefined(value)) {\n      if (this.calendarMode === 'Gregorian') {\n        dateOptions = {\n          format: this.cldrDateTimeFormat(),\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        dateOptions = {\n          format: this.cldrDateTimeFormat(),\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n\n      return this.globalize.formatDate(value, dateOptions);\n    } else {\n      return null;\n    }\n  };\n\n  DateTimePicker.prototype.isDateObject = function (value) {\n    return !isNullOrUndefined(value) && !isNaN(+value) ? true : false;\n  };\n\n  DateTimePicker.prototype.createInputElement = function () {\n    removeClass([this.inputElement], DATEPICKERROOT);\n    removeClass([this.inputWrapper.container], DATEWRAPPER);\n    addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n    addClass([this.inputElement], ROOT);\n    this.renderTimeIcon();\n  };\n\n  DateTimePicker.prototype.renderTimeIcon = function () {\n    this.timeIcon = Input.appendSpan(INPUTWRAPPER + ' ' + TIMEICON + ' ' + ICONS, this.inputWrapper.container);\n  };\n\n  DateTimePicker.prototype.bindInputEvents = function () {\n    EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n    this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n      eventName: 'keydown',\n      keyAction: this.inputKeyAction.bind(this),\n      keyConfigs: this.defaultKeyConfigs\n    });\n  };\n\n  DateTimePicker.prototype.unBindInputEvents = function () {\n    EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n    EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n\n    if (this.inputElement) {\n      EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n    }\n\n    if (this.keyboardHandler) {\n      this.keyboardHandler.destroy();\n    }\n  };\n\n  DateTimePicker.prototype.cldrTimeFormat = function () {\n    var cldrTime;\n\n    if (this.isNullOrEmpty(this.timeFormat)) {\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrTime = getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n    } else {\n      cldrTime = this.timeFormat;\n    }\n\n    return cldrTime;\n  };\n\n  DateTimePicker.prototype.cldrDateTimeFormat = function () {\n    var cldrTime;\n    var culture = new Internationalization(this.locale);\n    var dateFormat = culture.getDatePattern({\n      skeleton: 'yMd'\n    });\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateTimePicker.prototype.getCldrFormat = function (type) {\n    var cldrDateTime;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDateTime = getValue('timeFormats.short', getDefaultDateObject());\n    } else {\n      cldrDateTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDateTime;\n  };\n\n  DateTimePicker.prototype.isNullOrEmpty = function (value) {\n    if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n      return true;\n    } else {\n      return false;\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateTimePicker.prototype.getCultureTimeObject = function (ld, c) {\n    if (this.calendarMode === 'Gregorian') {\n      return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n    } else {\n      return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n    }\n  };\n\n  DateTimePicker.prototype.timeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.isIconClicked = true;\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    if (e.currentTarget === this.timeIcon) {\n      e.preventDefault();\n    }\n\n    if (this.enabled && !this.readonly) {\n      if (this.isDatePopupOpen()) {\n        _super.prototype.hide.call(this, e);\n      }\n\n      if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n      } else {\n        this.inputElement.focus();\n        this.popupCreation('time', e);\n        addClass([this.inputWrapper.container], [INPUTFOCUS]);\n      }\n    }\n\n    this.isIconClicked = false;\n  };\n\n  DateTimePicker.prototype.dateHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (e.currentTarget === this.inputWrapper.buttons[0]) {\n      e.preventDefault();\n    }\n\n    if (this.enabled && !this.readonly) {\n      if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n      }\n\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        this.popupCreation('date', e);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.show = function (type, e) {\n    if (this.enabled && this.readonly || !this.enabled) {\n      return;\n    } else {\n      if (type === 'time' && !this.dateTimeWrapper) {\n        if (this.isDatePopupOpen()) {\n          this.hide(e);\n        }\n\n        this.popupCreation('time', e);\n      } else if (!this.popupObj) {\n        if (this.isTimePopupOpen()) {\n          this.hide(e);\n        }\n\n        _super.prototype.show.call(this);\n\n        this.popupCreation('date', e);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.toggle = function (e) {\n    if (this.isDatePopupOpen()) {\n      _super.prototype.hide.call(this, e);\n\n      this.show('time', null);\n    } else if (this.isTimePopupOpen()) {\n      this.hide(e);\n\n      _super.prototype.show.call(this, null, e);\n\n      this.popupCreation('date', null);\n    } else {\n      this.show(null, e);\n    }\n  };\n\n  DateTimePicker.prototype.listCreation = function () {\n    var dateObject;\n\n    if (this.calendarMode === 'Gregorian') {\n      dateObject = this.globalize.parseDate(this.inputElement.value, {\n        format: this.cldrDateTimeFormat(),\n        type: 'datetime'\n      });\n    } else {\n      dateObject = this.globalize.parseDate(this.inputElement.value, {\n        format: this.cldrDateTimeFormat(),\n        type: 'datetime',\n        calendar: 'islamic'\n      });\n    }\n\n    var value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ? dateObject : new Date() : this.value;\n    this.valueWithMinutes = value;\n    this.listWrapper = createElement('div', {\n      className: CONTENT,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    var min = this.startTime(value);\n    var max = this.endTime(value);\n    var listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n    this.timeCollections = listDetails.collection;\n    this.listTag = listDetails.list;\n    attributes(this.listTag, {\n      'role': 'listbox',\n      'aria-hidden': 'false',\n      'id': this.element.id + '_options'\n    });\n    append([listDetails.list], this.listWrapper);\n    this.wireTimeListEvents();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + LISTCLASS\n    };\n    this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n    this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS);\n  };\n\n  DateTimePicker.prototype.popupCreation = function (type, e) {\n    if (Browser.isDevice) {\n      this.element.setAttribute('readonly', 'readonly');\n    }\n\n    if (type === 'date') {\n      if (!this.readonly && this.popupWrapper) {\n        addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n        attributes(this.popupWrapper, {\n          'id': this.element.id + '_datepopup'\n        });\n      }\n    } else {\n      if (!this.readonly) {\n        this.dateTimeWrapper = createElement('div', {\n          className: ROOT + ' ' + POPUP,\n          attrs: {\n            'id': this.element.id + '_timepopup',\n            'style': 'visibility:hidden ; display:block'\n          }\n        });\n\n        if (!isNullOrUndefined(this.cssClass)) {\n          this.dateTimeWrapper.className += ' ' + this.cssClass;\n        }\n\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n          this.listCreation();\n          append([this.listWrapper], this.dateTimeWrapper);\n        }\n\n        document.body.appendChild(this.dateTimeWrapper);\n        this.addTimeSelection();\n        this.renderPopup();\n        this.setTimeScrollPosition();\n        this.openPopup(e);\n        this.popupObject.refreshPosition(this.inputElement);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.openPopup = function (e) {\n    var _this = this;\n\n    this.preventArgs = {\n      cancel: false,\n      popup: this.popupObject,\n      event: e || null\n    };\n    var eventArgs = this.preventArgs;\n    this.trigger('open', eventArgs, function (eventArgs) {\n      _this.preventArgs = eventArgs;\n\n      if (!_this.preventArgs.cancel && !_this.readonly) {\n        var openAnimation = {\n          name: 'FadeIn',\n          duration: ANIMATIONDURATION\n        };\n\n        if (_this.zIndex === 1000) {\n          _this.popupObject.show(new Animation(openAnimation), _this.element);\n        } else {\n          _this.popupObject.show(new Animation(openAnimation), null);\n        }\n\n        addClass([_this.inputWrapper.container], [ICONANIMATION]);\n        attributes(_this.inputElement, {\n          'aria-expanded': 'true'\n        });\n        attributes(_this.inputElement, {\n          'aria-owns': _this.inputElement.id + '_options'\n        });\n        EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n      }\n    });\n  };\n\n  DateTimePicker.prototype.documentClickHandler = function (event) {\n    var target = event.target;\n\n    if (!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) && event.type !== 'mousedown' || this.popupObject.element && this.popupObject.element.contains(target)) && event.type !== 'touchstart') {\n      event.preventDefault();\n    }\n\n    if (!closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]')) && target !== this.inputElement && target !== this.timeIcon && target !== this.inputWrapper.container) {\n      if (this.isTimePopupOpen()) {\n        this.hide(event);\n        this.focusOut();\n      }\n    } else if (target !== this.inputElement) {\n      if (!Browser.isDevice) {\n        this.isPreventBlur = document.activeElement === this.inputElement && (Browser.isIE || Browser.info.name === 'edge') && target === this.popupObject.element;\n      }\n    }\n  };\n\n  DateTimePicker.prototype.isTimePopupOpen = function () {\n    return this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT) ? true : false;\n  };\n\n  DateTimePicker.prototype.isDatePopupOpen = function () {\n    return this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER) ? true : false;\n  };\n\n  DateTimePicker.prototype.renderPopup = function () {\n    var _this = this;\n\n    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n\n    if (Browser.isDevice) {\n      this.timeModal = createElement('div');\n      this.timeModal.className = '' + ROOT + ' e-time-modal';\n      document.body.className += ' ' + OVERFLOW;\n      this.timeModal.style.display = 'block';\n      document.body.appendChild(this.timeModal);\n    }\n\n    var offset = 4;\n    this.popupObject = new Popup(this.dateTimeWrapper, {\n      width: this.setPopupWidth(),\n      zIndex: this.zIndex,\n      targetType: 'container',\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      enableRtl: this.enableRtl,\n      offsetY: offset,\n      open: function () {\n        _this.dateTimeWrapper.style.visibility = 'visible';\n        addClass([_this.timeIcon], ACTIVE);\n\n        if (!Browser.isDevice) {\n          _this.timekeyConfigure = extend(_this.timekeyConfigure, _this.keyConfigs);\n          _this.inputEvent = new KeyboardEvents(_this.inputWrapper.container, {\n            keyAction: _this.timeKeyActionHandle.bind(_this),\n            keyConfigs: _this.timekeyConfigure,\n            eventName: 'keydown'\n          });\n        }\n      },\n      close: function () {\n        removeClass([_this.timeIcon], ACTIVE);\n\n        _this.unWireTimeListEvents();\n\n        _this.inputElement.removeAttribute('aria-activedescendant');\n\n        remove(_this.popupObject.element);\n\n        _this.popupObject.destroy();\n\n        _this.dateTimeWrapper.innerHTML = '';\n        _this.listWrapper = _this.dateTimeWrapper = undefined;\n\n        if (_this.inputEvent) {\n          _this.inputEvent.destroy();\n        }\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n    this.popupObject.element.style.maxHeight = POPUPDIMENSION;\n  };\n\n  DateTimePicker.prototype.setDimension = function (width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      // eslint-disable-next-line no-self-assign\n      width = width;\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  };\n\n  DateTimePicker.prototype.setPopupWidth = function () {\n    var width = this.setDimension(this.width);\n\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n\n    return width;\n  };\n\n  DateTimePicker.prototype.wireTimeListEvents = function () {\n    EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n    if (!Browser.isDevice) {\n      EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n\n  DateTimePicker.prototype.unWireTimeListEvents = function () {\n    if (this.listWrapper) {\n      EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n      EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n\n      if (!Browser.isDevice) {\n        EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.onMouseOver = function (event) {\n    var currentLi = closest(event.target, '.' + LISTCLASS);\n    this.setTimeHover(currentLi, HOVER);\n  };\n\n  DateTimePicker.prototype.onMouseLeave = function () {\n    this.removeTimeHover(HOVER);\n  };\n\n  DateTimePicker.prototype.setTimeHover = function (li, className) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n      this.removeTimeHover(className);\n      addClass([li], className);\n    }\n  };\n\n  DateTimePicker.prototype.getPopupHeight = function () {\n    var height = parseInt(POPUPDIMENSION, 10);\n    var popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n    return popupHeight > height ? height : popupHeight;\n  };\n\n  DateTimePicker.prototype.changeEvent = function (e) {\n    if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n      _super.prototype.changeEvent.call(this, e);\n\n      this.valueWithMinutes = this.value;\n      this.setInputValue('date');\n      this.previousDateTime = this.value && new Date(+this.value);\n    }\n  };\n\n  DateTimePicker.prototype.updateValue = function (e) {\n    this.setInputValue('time');\n\n    if (+this.previousDateTime !== +this.value) {\n      this.changedArgs = {\n        value: this.value,\n        event: e || null,\n        isInteracted: !isNullOrUndefined(e),\n        element: this.element\n      };\n      this.addTimeSelection();\n      this.trigger('change', this.changedArgs);\n      this.previousDateTime = this.previousDate = this.value;\n    }\n  };\n\n  DateTimePicker.prototype.setTimeScrollPosition = function () {\n    var popupElement = this.selectedElement;\n\n    if (!isNullOrUndefined(popupElement)) {\n      this.findScrollTop(popupElement);\n    } else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n      this.setScrollTo();\n    }\n  };\n\n  DateTimePicker.prototype.findScrollTop = function (element) {\n    var listHeight = this.getPopupHeight();\n    var nextElement = element.nextElementSibling;\n    var height = nextElement ? nextElement.offsetTop : element.offsetTop;\n    var lineHeight = element.getBoundingClientRect().height;\n\n    if (height + element.offsetTop > listHeight) {\n      this.dateTimeWrapper.scrollTop = nextElement ? height - (listHeight / HALFPOSITION + lineHeight / HALFPOSITION) : height;\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n  };\n\n  DateTimePicker.prototype.setScrollTo = function () {\n    var element;\n    var items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS);\n\n    if (items.length >= 0) {\n      this.scrollInvoked = true;\n      var initialTime = this.timeCollections[0];\n      var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n      element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n  };\n\n  DateTimePicker.prototype.setInputValue = function (type) {\n    if (type === 'date') {\n      this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n      this.setProperties({\n        value: this.getFullDateTime()\n      }, true);\n    } else {\n      var tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n      Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.previousElementValue = this.inputElement.value;\n      this.setProperties({\n        value: new Date(this.timeCollections[this.activeIndex])\n      }, true);\n\n      if (this.enableMask) {\n        this.createMask();\n      }\n    }\n\n    this.updateIconState();\n  };\n\n  DateTimePicker.prototype.getFullDateTime = function () {\n    var value = null;\n\n    if (this.isDateObject(this.valueWithMinutes)) {\n      value = this.combineDateTime(this.valueWithMinutes);\n    } else {\n      value = this.previousDate;\n    }\n\n    return this.validateMinMaxRange(value);\n  };\n\n  DateTimePicker.prototype.createMask = function () {\n    this.notify(\"createMask\", {\n      module: \"MaskedDateTime\"\n    });\n  };\n\n  DateTimePicker.prototype.combineDateTime = function (value) {\n    if (this.isDateObject(value)) {\n      var day = this.previousDate.getDate();\n      var month = this.previousDate.getMonth();\n      var year = this.previousDate.getFullYear();\n      var hour = value.getHours();\n      var minutes = value.getMinutes();\n      var seconds = value.getSeconds();\n      return new Date(year, month, day, hour, minutes, seconds);\n    } else {\n      return this.previousDate;\n    }\n  };\n\n  DateTimePicker.prototype.onMouseClick = function (event) {\n    var target = event.target;\n    var li = this.selectedElement = closest(target, '.' + LISTCLASS);\n\n    if (li && li.classList.contains(LISTCLASS)) {\n      this.timeValue = li.getAttribute('data-value');\n      this.hide(event);\n    }\n\n    this.setSelection(li, event);\n  };\n\n  DateTimePicker.prototype.setSelection = function (li, event) {\n    if (this.isValidLI(li) && !li.classList.contains(ACTIVE)) {\n      this.selectedElement = li;\n      var index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      this.activeIndex = index;\n      this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n      addClass([this.selectedElement], ACTIVE);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n      this.updateValue(event);\n    }\n  };\n\n  DateTimePicker.prototype.setTimeActiveClass = function () {\n    var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n\n    if (!isNullOrUndefined(collections)) {\n      var items = collections.querySelectorAll('.' + LISTCLASS);\n\n      if (items.length) {\n        for (var i = 0; i < items.length; i++) {\n          if (this.timeCollections[i] === +this.valueWithMinutes) {\n            items[i].setAttribute('aria-selected', 'true');\n            this.selectedElement = items[i];\n            this.activeIndex = i;\n            this.setTimeActiveDescendant();\n            break;\n          }\n        }\n      }\n    }\n  };\n\n  DateTimePicker.prototype.setTimeActiveDescendant = function () {\n    if (!isNullOrUndefined(this.selectedElement) && this.value) {\n      attributes(this.inputElement, {\n        'aria-activedescendant': this.selectedElement.getAttribute('id')\n      });\n    } else {\n      this.inputElement.removeAttribute('aria-activedescendant');\n    }\n  };\n\n  DateTimePicker.prototype.addTimeSelection = function () {\n    this.selectedElement = null;\n    this.removeTimeSelection();\n    this.setTimeActiveClass();\n\n    if (!isNullOrUndefined(this.selectedElement)) {\n      addClass([this.selectedElement], ACTIVE);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n    }\n  };\n\n  DateTimePicker.prototype.removeTimeSelection = function () {\n    this.removeTimeHover(HOVER);\n\n    if (!isNullOrUndefined(this.dateTimeWrapper)) {\n      var items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE);\n\n      if (items.length) {\n        removeClass(items, ACTIVE);\n        items[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  DateTimePicker.prototype.removeTimeHover = function (className) {\n    var hoveredItem = this.getTimeHoverItem(className);\n\n    if (hoveredItem && hoveredItem.length) {\n      removeClass(hoveredItem, className);\n    }\n  };\n\n  DateTimePicker.prototype.getTimeHoverItem = function (className) {\n    var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n    var hoveredItem;\n\n    if (!isNullOrUndefined(collections)) {\n      hoveredItem = collections.querySelectorAll('.' + className);\n    }\n\n    return hoveredItem;\n  };\n\n  DateTimePicker.prototype.isValidLI = function (li) {\n    return li && li.classList.contains(LISTCLASS) && !li.classList.contains(DISABLED);\n  };\n\n  DateTimePicker.prototype.calculateStartEnd = function (value, range, method) {\n    var day = value.getDate();\n    var month = value.getMonth();\n    var year = value.getFullYear();\n    var hours = value.getHours();\n    var minutes = value.getMinutes();\n    var seconds = value.getSeconds();\n    var milliseconds = value.getMilliseconds();\n\n    if (range) {\n      if (method === 'starttime') {\n        return new Date(year, month, day, 0, 0, 0);\n      } else {\n        return new Date(year, month, day, 23, 59, 59);\n      }\n    } else {\n      return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n    }\n  };\n\n  DateTimePicker.prototype.startTime = function (date) {\n    var tempStartValue;\n    var start;\n    var tempMin = this.min;\n    var value = date === null ? new Date() : date;\n\n    if (+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() && +value.getFullYear() === +tempMin.getFullYear() || +new Date(value.getFullYear(), value.getMonth(), value.getDate()) <= +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate())) {\n      start = false;\n      tempStartValue = this.min;\n    } else if (+value < +this.max && +value > +this.min) {\n      start = true;\n      tempStartValue = value;\n    } else if (+value >= +this.max) {\n      start = true;\n      tempStartValue = this.max;\n    }\n\n    return this.calculateStartEnd(tempStartValue, start, 'starttime');\n  };\n\n  DateTimePicker.prototype.endTime = function (date) {\n    var tempEndValue;\n    var end;\n    var tempMax = this.max;\n    var value = date === null ? new Date() : date;\n\n    if (+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() && +value.getFullYear() === +tempMax.getFullYear() || +new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >= +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate())) {\n      end = false;\n      tempEndValue = this.max;\n    } else if (+value < +this.max && +value > +this.min) {\n      end = true;\n      tempEndValue = value;\n    } else if (+value <= +this.min) {\n      end = true;\n      tempEndValue = this.min;\n    }\n\n    return this.calculateStartEnd(tempEndValue, end, 'endtime');\n  };\n\n  DateTimePicker.prototype.hide = function (e) {\n    var _this = this;\n\n    if (this.popupObj || this.dateTimeWrapper) {\n      this.preventArgs = {\n        cancel: false,\n        popup: this.popupObj || this.popupObject,\n        event: e || null\n      };\n      var eventArgs = this.preventArgs;\n\n      if (isNullOrUndefined(this.popupObj)) {\n        this.trigger('close', eventArgs, function (eventArgs) {\n          _this.dateTimeCloseEventCallback(e, eventArgs);\n        });\n      } else {\n        this.dateTimeCloseEventCallback(e, eventArgs);\n      }\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n\n      this.setAllowEdit();\n    }\n  };\n\n  DateTimePicker.prototype.dateTimeCloseEventCallback = function (e, eventArgs) {\n    this.preventArgs = eventArgs;\n\n    if (!this.preventArgs.cancel) {\n      if (this.isDatePopupOpen()) {\n        _super.prototype.hide.call(this, e);\n      } else if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n        removeClass([document.body], OVERFLOW);\n\n        if (Browser.isDevice && this.timeModal) {\n          this.timeModal.style.display = 'none';\n          this.timeModal.outerHTML = '';\n          this.timeModal = null;\n        }\n\n        this.setTimeActiveDescendant();\n      }\n    }\n\n    if (Browser.isDevice && this.allowEdit && !this.readonly) {\n      this.inputElement.removeAttribute('readonly');\n    }\n\n    this.setAllowEdit();\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateTimePicker.prototype.closePopup = function (e) {\n    if (this.isTimePopupOpen() && this.popupObject) {\n      var animModel = {\n        name: 'FadeOut',\n        duration: ANIMATIONDURATION,\n        delay: 0\n      };\n      this.popupObject.hide(new Animation(animModel));\n      this.inputWrapper.container.classList.remove(ICONANIMATION);\n      attributes(this.inputElement, {\n        'aria-expanded': 'false'\n      });\n      this.inputElement.removeAttribute('aria-owns');\n      EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n    }\n  };\n\n  DateTimePicker.prototype.preRender = function () {\n    this.checkFormat();\n    this.dateTimeFormat = this.cldrDateTimeFormat();\n\n    _super.prototype.preRender.call(this);\n\n    removeClass([this.inputElementCopy], [ROOT]);\n  };\n\n  DateTimePicker.prototype.getProperty = function (date, val) {\n    if (val === 'min') {\n      this.setProperties({\n        min: this.validateValue(date.min)\n      }, true);\n    } else {\n      this.setProperties({\n        max: this.validateValue(date.max)\n      }, true);\n    }\n  };\n\n  DateTimePicker.prototype.checkAttributes = function (isDynamic) {\n    var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n    var value;\n\n    for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'name':\n            this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n            break;\n\n          case 'step':\n            this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['min'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  min: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'disabled':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['enabled'] === undefined || isDynamic) {\n              var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['value'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  value: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['max'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  max: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  DateTimePicker.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n\n    if (this.enableMask) {\n      modules.push(this.maskedDateModule());\n    }\n\n    return modules;\n  };\n\n  DateTimePicker.prototype.maskedDateModule = function () {\n    var modules = {\n      args: [this],\n      member: 'MaskedDateTime'\n    };\n    return modules;\n  };\n\n  DateTimePicker.prototype.getTimeActiveElement = function () {\n    if (!isNullOrUndefined(this.dateTimeWrapper)) {\n      return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE);\n    } else {\n      return null;\n    }\n  };\n\n  DateTimePicker.prototype.createDateObj = function (val) {\n    return val instanceof Date ? val : null;\n  };\n\n  DateTimePicker.prototype.getDateObject = function (text) {\n    if (!this.isNullOrEmpty(text)) {\n      var dateValue = this.createDateObj(text);\n      var value = this.valueWithMinutes;\n      var status_1 = !isNullOrUndefined(value);\n\n      if (this.checkDateValue(dateValue)) {\n        var date = status_1 ? value.getDate() : DAY;\n        var month = status_1 ? value.getMonth() : MONTH;\n        var year = status_1 ? value.getFullYear() : YEAR;\n        var hour = status_1 ? value.getHours() : HOUR;\n        var minute = status_1 ? value.getMinutes() : MINUTE;\n        var second = status_1 ? value.getSeconds() : SECOND;\n        var millisecond = status_1 ? value.getMilliseconds() : MILLISECOND;\n\n        if (!this.scrollInvoked) {\n          return new Date(year, month, date, hour, minute, second, millisecond);\n        } else {\n          this.scrollInvoked = false;\n          return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n        }\n      }\n    }\n\n    return null;\n  };\n\n  DateTimePicker.prototype.findNextTimeElement = function (event) {\n    var textVal = this.inputElement.value;\n    var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n    var dateTimeVal = null;\n    var listCount = this.liCollections.length;\n\n    if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n      if (event.action === 'home') {\n        dateTimeVal = +this.createDateObj(new Date(this.timeCollections[0]));\n        this.activeIndex = 0;\n      } else if (event.action === 'end') {\n        dateTimeVal = +this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1]));\n        this.activeIndex = this.timeCollections.length - 1;\n      } else {\n        if (event.action === 'down') {\n          for (var i = 0; i < listCount; i++) {\n            if (+value < this.timeCollections[i]) {\n              dateTimeVal = +this.createDateObj(new Date(this.timeCollections[i]));\n              this.activeIndex = i;\n              break;\n            }\n          }\n        } else {\n          for (var i = listCount - 1; i >= 0; i--) {\n            if (+value > this.timeCollections[i]) {\n              dateTimeVal = +this.createDateObj(new Date(this.timeCollections[i]));\n              this.activeIndex = i;\n              break;\n            }\n          }\n        }\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n    }\n  };\n\n  DateTimePicker.prototype.setTimeValue = function (date, value) {\n    var dateString;\n    var time;\n    var val = this.validateMinMaxRange(value);\n    var newval = this.createDateObj(val);\n\n    if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n      this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n      time = new Date(+this.valueWithMinutes);\n    } else {\n      if (this.strictMode) {\n        //for strict mode case, when value not present within a range. Reset the nearest range value.\n        date = newval;\n      }\n\n      this.valueWithMinutes = this.checkDateValue(date);\n      time = new Date(+this.valueWithMinutes);\n    }\n\n    if (this.calendarMode === 'Gregorian') {\n      dateString = this.globalize.formatDate(time, {\n        format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n        type: 'dateTime',\n        skeleton: 'yMd'\n      });\n    } else {\n      dateString = this.globalize.formatDate(time, {\n        format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n        type: 'dateTime',\n        skeleton: 'yMd',\n        calendar: 'islamic'\n      });\n    }\n\n    if (!this.strictMode && isNullOrUndefined(time)) {\n      Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n    } else {\n      Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n\n    return time;\n  };\n\n  DateTimePicker.prototype.timeElementValue = function (value) {\n    if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n      var date = value instanceof Date ? value : this.getDateObject(value);\n      return this.setTimeValue(date, value);\n    }\n\n    return null;\n  };\n\n  DateTimePicker.prototype.timeKeyHandler = function (event) {\n    if (isNullOrUndefined(this.step) || this.step <= 0) {\n      return;\n    }\n\n    var listCount = this.timeCollections.length;\n\n    if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n      if (this.liCollections.length > 0) {\n        if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n          this.activeIndex = 0;\n          this.selectedElement = this.liCollections[0];\n          this.timeElementValue(new Date(this.timeCollections[0]));\n        } else {\n          this.findNextTimeElement(event);\n        }\n      }\n    } else {\n      var nextItemValue = void 0;\n\n      if (event.keyCode >= 37 && event.keyCode <= 40) {\n        var index = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n        this.activeIndex = index = this.activeIndex === listCount ? 0 : this.activeIndex;\n        this.activeIndex = index = this.activeIndex < 0 ? listCount - 1 : this.activeIndex;\n        nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n      } else if (event.action === 'home') {\n        this.activeIndex = 0;\n        nextItemValue = this.timeCollections[0];\n      } else if (event.action === 'end') {\n        this.activeIndex = listCount - 1;\n        nextItemValue = this.timeCollections[listCount - 1];\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.timeElementValue(new Date(nextItemValue));\n    }\n\n    this.isNavigate = true;\n    this.setTimeHover(this.selectedElement, NAVIGATION);\n    this.setTimeActiveDescendant();\n\n    if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n      this.setTimeScrollPosition();\n    }\n  };\n\n  DateTimePicker.prototype.timeKeyActionHandle = function (event) {\n    if (this.enabled) {\n      if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n        event.preventDefault();\n      }\n\n      switch (event.action) {\n        case 'up':\n        case 'down':\n        case 'home':\n        case 'end':\n          this.timeKeyHandler(event);\n          break;\n\n        case 'enter':\n          if (this.isNavigate) {\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            this.setInputValue('time');\n\n            if (+this.previousDateTime !== +this.value) {\n              this.changedArgs.value = this.value;\n              this.addTimeSelection();\n              this.previousDateTime = this.value;\n            }\n          } else {\n            this.updateValue(event);\n          }\n\n          this.hide(event);\n          addClass([this.inputWrapper.container], INPUTFOCUS);\n          this.isNavigate = false;\n          event.stopPropagation();\n          break;\n\n        case 'escape':\n          this.hide(event);\n          break;\n\n        default:\n          this.isNavigate = false;\n          break;\n      }\n    }\n  };\n\n  DateTimePicker.prototype.inputKeyAction = function (event) {\n    switch (event.action) {\n      case 'altDownArrow':\n        this.strictModeUpdate();\n        this.updateInput();\n        this.toggle(event);\n        break;\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n    */\n\n\n  DateTimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'value':\n          this.isDynamicValueChanged = true;\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n          newProp.value = this.validateValue(newProp.value);\n          Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n          this.valueWithMinutes = newProp.value;\n          this.setProperties({\n            value: newProp.value\n          }, true);\n\n          if (this.popupObj) {\n            this.popupUpdate();\n          }\n\n          this.previousDateTime = new Date(this.inputElement.value);\n          this.updateInput();\n          this.changeTrigger(null);\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n\n          if (this.enableMask && this.value) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'min':\n        case 'max':\n          this.getProperty(newProp, prop);\n          this.updateInput();\n          break;\n\n        case 'enableRtl':\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'cssClass':\n          if (!isNullOrUndefined(oldProp.cssClass)) {\n            oldProp.cssClass = oldProp.cssClass.replace(/\\s+/g, ' ').trim();\n          }\n\n          if (!isNullOrUndefined(newProp.cssClass)) {\n            newProp.cssClass = newProp.cssClass.replace(/\\s+/g, ' ').trim();\n          }\n\n          Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n\n          if (this.dateTimeWrapper) {\n            Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n          }\n\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n          this.dateTimeFormat = this.cldrDateTimeFormat();\n\n          _super.prototype.updateInput.call(this);\n\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkAttributes(true);\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkFormat();\n          this.dateTimeFormat = this.formatString;\n          this.setValue();\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n\n            if (!this.value) {\n              Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n          }\n\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          break;\n\n        case 'enabled':\n          Input.setEnabled(this.enabled, this.inputElement);\n\n          if (!this.enabled) {\n            this.inputElement.tabIndex = -1;\n          }\n\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.updateInput();\n          break;\n\n        case 'width':\n          this.setWidth(newProp.width);\n          Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n          }\n\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n          }\n\n          break;\n\n        case 'scrollTo':\n          if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n            if (this.dateTimeWrapper) {\n              this.setScrollTo();\n            }\n\n            this.setProperties({\n              scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))\n            }, true);\n          } else {\n            this.setProperties({\n              scrollTo: null\n            }, true);\n          }\n\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.maskedDateValue = '';\n              Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n          }\n\n          break;\n\n        default:\n          _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n\n          break;\n      }\n\n      if (!this.isDynamicValueChanged && !this.isIconClicked) {\n        this.hide(null);\n      }\n\n      this.isDynamicValueChanged = false;\n    }\n  };\n  /**\n   * To get component name.\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  DateTimePicker.prototype.getModuleName = function () {\n    return 'datetimepicker';\n  };\n\n  DateTimePicker.prototype.restoreValue = function () {\n    this.previousDateTime = this.previousDate;\n    this.currentDate = this.value ? this.value : new Date();\n    this.valueWithMinutes = this.value;\n    this.previousDate = this.value;\n    this.previousElementValue = this.previousElementValue = isNullOrUndefined(this.inputValueCopy) ? '' : this.getFormattedValue(this.inputValueCopy);\n  };\n\n  __decorate([Property(null)], DateTimePicker.prototype, \"timeFormat\", void 0);\n\n  __decorate([Property(30)], DateTimePicker.prototype, \"step\", void 0);\n\n  __decorate([Property(null)], DateTimePicker.prototype, \"scrollTo\", void 0);\n\n  __decorate([Property(1000)], DateTimePicker.prototype, \"zIndex\", void 0);\n\n  __decorate([Property(null)], DateTimePicker.prototype, \"value\", void 0);\n\n  __decorate([Property(null)], DateTimePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate([Property({})], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate([Property(false)], DateTimePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate([Property(true)], DateTimePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate([Property(false)], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n\n  __decorate([Property(null)], DateTimePicker.prototype, \"values\", void 0);\n\n  __decorate([Property(true)], DateTimePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate([Property(null)], DateTimePicker.prototype, \"placeholder\", void 0);\n\n  __decorate([Property(false)], DateTimePicker.prototype, \"strictMode\", void 0);\n\n  __decorate([Property(null)], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n\n  __decorate([Property(new Date(1900, 0, 1))], DateTimePicker.prototype, \"min\", void 0);\n\n  __decorate([Property(new Date(2099, 11, 31))], DateTimePicker.prototype, \"max\", void 0);\n\n  __decorate([Property(null)], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n\n  __decorate([Property('Gregorian')], DateTimePicker.prototype, \"calendarMode\", void 0);\n\n  __decorate([Property('Month')], DateTimePicker.prototype, \"start\", void 0);\n\n  __decorate([Property('Month')], DateTimePicker.prototype, \"depth\", void 0);\n\n  __decorate([Property(false)], DateTimePicker.prototype, \"weekNumber\", void 0);\n\n  __decorate([Property(true)], DateTimePicker.prototype, \"showTodayButton\", void 0);\n\n  __decorate([Property('Short')], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n\n  __decorate([Property(false)], DateTimePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate([Property(false)], DateTimePicker.prototype, \"enableMask\", void 0);\n\n  __decorate([Property({\n    day: 'day',\n    month: 'month',\n    year: 'year',\n    hour: 'hour',\n    minute: 'minute',\n    second: 'second',\n    dayOfTheWeek: 'day of the week'\n  })], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n\n  __decorate([Event()], DateTimePicker.prototype, \"open\", void 0);\n\n  __decorate([Event()], DateTimePicker.prototype, \"close\", void 0);\n\n  __decorate([Event()], DateTimePicker.prototype, \"cleared\", void 0);\n\n  __decorate([Event()], DateTimePicker.prototype, \"blur\", void 0);\n\n  __decorate([Event()], DateTimePicker.prototype, \"focus\", void 0);\n\n  __decorate([Event()], DateTimePicker.prototype, \"created\", void 0);\n\n  __decorate([Event()], DateTimePicker.prototype, \"destroyed\", void 0);\n\n  DateTimePicker = __decorate([NotifyPropertyChanges], DateTimePicker);\n  return DateTimePicker;\n}(DatePicker);\n\nexport { DateTimePicker };","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/@syncfusion/ej2-calendars/src/datetimepicker/datetimepicker.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","EventHandler","Internationalization","Property","NotifyPropertyChanges","Browser","Animation","Event","cldrData","getDefaultDateObject","detach","createElement","remove","addClass","L10n","removeClass","closest","append","attributes","KeyboardEvents","isNullOrUndefined","formatUnit","getValue","rippleEffect","extend","Popup","Input","DatePicker","TimePickerBase","DATEWRAPPER","DATEPICKERROOT","DATETIMEWRAPPER","DAY","Date","getDate","MONTH","getMonth","YEAR","getFullYear","HOUR","getHours","MINUTE","getMinutes","SECOND","getSeconds","MILLISECOND","getMilliseconds","ROOT","DATETIMEPOPUPWRAPPER","INPUTWRAPPER","POPUP","TIMEICON","INPUTFOCUS","POPUPDIMENSION","ICONANIMATION","DISABLED","ERROR","CONTENT","NAVIGATION","ACTIVE","HOVER","ICONS","HALFPOSITION","LISTCLASS","ANIMATIONDURATION","OVERFLOW","DateTimePicker","_super","options","element","_this","call","valueWithMinutes","scrollInvoked","moduleName","getModuleName","dateTimeOptions","focusHandler","enabled","inputWrapper","container","focusIn","focusOut","document","activeElement","inputElement","blur","blurHandler","e","isTimePopupOpen","isPreventBlur","focus","blurArguments","model","hide","trigger","destroy","popupObject","classList","contains","dateTimeWrapper","undefined","liCollections","timeCollections","rippleFn","ariaAttribute","removeAttributes","isCalendar","popupWrapper","keyboardHandler","unBindInputEvents","render","timekeyConfigure","enter","escape","end","tab","home","down","up","left","right","open","close","previousDateTime","cloneElement","cloneNode","dateTimeFormat","cldrDateTimeFormat","initValue","value","updateHtmlAttributeToElement","checkAttributes","localeText","placeholder","l10n","locale","setProperties","getConstant","createInputElement","updateHtmlAttributeToWrapper","bindInputEvents","enableMask","notify","module","setValue","maskedDateValue","floatLabelType","showClearButton","scrollTo","checkDateValue","checkValue","tagName","tabIndex","hasAttribute","getAttribute","removeAttribute","calculateWidth","buttons","getElementsByClassName","add","renderComplete","validateMinMaxRange","strictMode","isDateObject","getFormattedValue","updateInput","result","validateValue","min","max","disablePopupButton","checkValidState","isValidState","checkErrorState","dateVal","isDisable","timeIcon","dateOptions","calendarMode","format","type","skeleton","calendar","globalize","formatDate","isNaN","renderTimeIcon","appendSpan","timeHandler","dateHandler","defaultKeyConfigs","keyConfigs","eventName","keyAction","inputKeyAction","bind","cldrTimeFormat","cldrTime","isNullOrEmpty","timeFormat","getCultureTimeObject","culture","dateFormat","getDatePattern","formatString","getCldrFormat","cldrDateTime","trim","ld","isIconClicked","isDevice","setAttribute","currentTarget","preventDefault","readonly","isDatePopupOpen","closePopup","popupCreation","show","popupObj","toggle","listCreation","dateObject","parseDate","listWrapper","className","attrs","startTime","endTime","listDetails","createListItems","step","collection","listTag","list","id","wireTimeListEvents","rippleModel","duration","selector","querySelectorAll","cssClass","body","appendChild","addTimeSelection","renderPopup","setTimeScrollPosition","openPopup","refreshPosition","preventArgs","cancel","popup","event","eventArgs","openAnimation","name","zIndex","documentClickHandler","isIE","info","containerStyle","getBoundingClientRect","timeModal","style","display","offset","width","setPopupWidth","targetType","collision","X","Y","relateTo","position","enableRtl","offsetY","visibility","inputEvent","timeKeyActionHandle","unWireTimeListEvents","innerHTML","targetExitViewport","maxHeight","setDimension","indexOf","inputWidth","parseFloat","toString","onMouseClick","onMouseOver","onMouseLeave","currentLi","setTimeHover","removeTimeHover","li","isValidLI","getPopupHeight","height","parseInt","popupHeight","changeEvent","valueOf","setInputValue","updateValue","changedArgs","isInteracted","previousDate","popupElement","selectedElement","findScrollTop","setScrollTo","listHeight","nextElement","nextElementSibling","offsetTop","lineHeight","scrollTop","items","initialTime","scrollTime","getDateObject","getTime","Math","round","previousElementValue","getFullDateTime","tempVal","activeIndex","createMask","updateIconState","combineDateTime","day","month","year","hour","minutes","seconds","timeValue","setSelection","index","slice","setTimeActiveClass","collections","setTimeActiveDescendant","removeTimeSelection","hoveredItem","getTimeHoverItem","calculateStartEnd","range","method","hours","milliseconds","date","tempStartValue","start","tempMin","tempEndValue","tempMax","getUTCFullYear","dateTimeCloseEventCallback","allowEdit","setAllowEdit","outerHTML","animModel","delay","preRender","checkFormat","inputElementCopy","getProperty","val","isDynamic","htmlAttributes","keys","_i","attributes_1","prop","requiredModules","modules","push","args","member","maskedDateModule","getTimeActiveElement","createDateObj","text","dateValue","status_1","minute","second","millisecond","findNextTimeElement","textVal","dateTimeVal","listCount","action","timeElementValue","setTimeValue","dateString","time","newval","timeKeyHandler","nextItemValue","keyCode","isNavigate","stopPropagation","strictModeUpdate","onPropertyChanged","newProp","oldProp","_a","isDynamicValueChanged","invalidValueString","checkInvalidValue","popupUpdate","changeTrigger","preventChange","isAngular","setEnableRtl","replace","setCssClass","setLocale","setPlaceholder","setEnabled","setWidth","setReadonly","removeFloating","addFloating","restoreValue","currentDate","inputValueCopy","dayOfTheWeek"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\nimport { EventHandler, Internationalization, Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { Animation, Event, cldrData, getDefaultDateObject, detach } from '@syncfusion/ej2-base';\nimport { createElement, remove, addClass, L10n, removeClass, closest, append, attributes } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, isNullOrUndefined, formatUnit, getValue, rippleEffect } from '@syncfusion/ej2-base';\nimport { extend } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DatePicker } from '../datepicker/datepicker';\nimport { TimePickerBase } from '../timepicker/timepicker';\n//class constant defination\nvar DATEWRAPPER = 'e-date-wrapper';\nvar DATEPICKERROOT = 'e-datepicker';\nvar DATETIMEWRAPPER = 'e-datetime-wrapper';\nvar DAY = new Date().getDate();\nvar MONTH = new Date().getMonth();\nvar YEAR = new Date().getFullYear();\nvar HOUR = new Date().getHours();\nvar MINUTE = new Date().getMinutes();\nvar SECOND = new Date().getSeconds();\nvar MILLISECOND = new Date().getMilliseconds();\nvar ROOT = 'e-datetimepicker';\nvar DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar TIMEICON = 'e-time-icon';\nvar INPUTFOCUS = 'e-input-focus';\nvar POPUPDIMENSION = '250px';\nvar ICONANIMATION = 'e-icon-anim';\nvar DISABLED = 'e-disabled';\nvar ERROR = 'e-error';\nvar CONTENT = 'e-content';\nvar NAVIGATION = 'e-navigation';\nvar ACTIVE = 'e-active';\nvar HOVER = 'e-hover';\nvar ICONS = 'e-icons';\nvar HALFPOSITION = 2;\nvar LISTCLASS = 'e-list-item';\nvar ANIMATIONDURATION = 100;\nvar OVERFLOW = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\nvar DateTimePicker = /** @class */ (function (_super) {\n    __extends(DateTimePicker, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DateTimePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.valueWithMinutes = null;\n        _this.scrollInvoked = false;\n        _this.moduleName = _this.getModuleName();\n        _this.dateTimeOptions = options;\n        return _this;\n    }\n    DateTimePicker.prototype.focusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        addClass([this.inputWrapper.container], INPUTFOCUS);\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.focusIn = function () {\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n    };\n    DateTimePicker.prototype.blurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isTimePopupOpen() && this.isPreventBlur) {\n            this.inputElement.focus();\n            return;\n        }\n        removeClass([this.inputWrapper.container], INPUTFOCUS);\n        var blurArguments = {\n            model: this\n        };\n        if (this.isTimePopupOpen()) {\n            this.hide(e);\n        }\n        this.trigger('blur', blurArguments);\n    };\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.destroy = function () {\n        if (this.popupObject && this.popupObject.element.classList.contains(POPUP)) {\n            this.popupObject.destroy();\n            detach(this.dateTimeWrapper);\n            this.dateTimeWrapper = undefined;\n            this.liCollections = this.timeCollections = [];\n            if (!isNullOrUndefined(this.rippleFn)) {\n                this.rippleFn();\n            }\n        }\n        var ariaAttribute = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-invalid': 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObject = this.popupWrapper = null;\n            this.keyboardHandler.destroy();\n        }\n        this.unBindInputEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    DateTimePicker.prototype.render = function () {\n        this.timekeyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.valueWithMinutes = null;\n        this.previousDateTime = null;\n        this.isPreventBlur = false;\n        this.cloneElement = this.element.cloneNode(true);\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        this.initValue = this.value;\n        _super.prototype.updateHtmlAttributeToElement.call(this);\n        this.checkAttributes(false);\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('datetimepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        _super.prototype.render.call(this);\n        this.createInputElement();\n        _super.prototype.updateHtmlAttributeToWrapper.call(this);\n        this.bindInputEvents();\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n        this.setValue();\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo))) }, true);\n        this.previousDateTime = this.value && new Date(+this.value);\n        if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.removeAttribute('tabindex');\n            if (!this.enabled) {\n                this.inputElement.tabIndex = -1;\n            }\n        }\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n        }\n        this.renderComplete();\n    };\n    DateTimePicker.prototype.setValue = function () {\n        this.initValue = this.validateMinMaxRange(this.value);\n        if (!this.strictMode && this.isDateObject(this.initValue)) {\n            var value = this.validateMinMaxRange(this.initValue);\n            Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            if (isNullOrUndefined(this.value)) {\n                this.initValue = null;\n                this.setProperties({ value: null }, true);\n            }\n        }\n        this.valueWithMinutes = this.value;\n        _super.prototype.updateInput.call(this);\n    };\n    DateTimePicker.prototype.validateMinMaxRange = function (value) {\n        var result = value;\n        if (this.isDateObject(value)) {\n            result = this.validateValue(value);\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n            }\n        }\n        this.checkValidState(result);\n        return result;\n    };\n    DateTimePicker.prototype.checkValidState = function (value) {\n        this.isValidState = true;\n        if (!this.strictMode) {\n            if ((+(value) > +(this.max)) || (+(value) < +(this.min))) {\n                this.isValidState = false;\n            }\n        }\n        this.checkErrorState();\n    };\n    DateTimePicker.prototype.checkErrorState = function () {\n        if (this.isValidState) {\n            removeClass([this.inputWrapper.container], ERROR);\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR);\n        }\n        attributes(this.inputElement, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    DateTimePicker.prototype.validateValue = function (value) {\n        var dateVal = value;\n        if (this.strictMode) {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = this.max;\n            }\n            else if (+value < +this.min) {\n                dateVal = this.min;\n            }\n            else if (+value > +this.max) {\n                dateVal = this.max;\n            }\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = value;\n            }\n        }\n        return dateVal;\n    };\n    DateTimePicker.prototype.disablePopupButton = function (isDisable) {\n        if (isDisable) {\n            addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED);\n            this.hide();\n        }\n        else {\n            removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED);\n        }\n    };\n    DateTimePicker.prototype.getFormattedValue = function (value) {\n        var dateOptions;\n        if (!isNullOrUndefined(value)) {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            return this.globalize.formatDate(value, dateOptions);\n        }\n        else {\n            return null;\n        }\n    };\n    DateTimePicker.prototype.isDateObject = function (value) {\n        return (!isNullOrUndefined(value) && !isNaN(+value)) ? true : false;\n    };\n    DateTimePicker.prototype.createInputElement = function () {\n        removeClass([this.inputElement], DATEPICKERROOT);\n        removeClass([this.inputWrapper.container], DATEWRAPPER);\n        addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n        addClass([this.inputElement], ROOT);\n        this.renderTimeIcon();\n    };\n    DateTimePicker.prototype.renderTimeIcon = function () {\n        this.timeIcon = Input.appendSpan(INPUTWRAPPER + ' ' + TIMEICON + ' ' + ICONS, this.inputWrapper.container);\n    };\n    DateTimePicker.prototype.bindInputEvents = function () {\n        EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyAction.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    };\n    DateTimePicker.prototype.unBindInputEvents = function () {\n        EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n        }\n        if (this.keyboardHandler) {\n            this.keyboardHandler.destroy();\n        }\n    };\n    DateTimePicker.prototype.cldrTimeFormat = function () {\n        var cldrTime;\n        if (this.isNullOrEmpty(this.timeFormat)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.timeFormat;\n        }\n        return cldrTime;\n    };\n    DateTimePicker.prototype.cldrDateTimeFormat = function () {\n        var cldrTime;\n        var culture = new Internationalization(this.locale);\n        var dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateTimePicker.prototype.getCldrFormat = function (type) {\n        var cldrDateTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTime = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTime;\n    };\n    DateTimePicker.prototype.isNullOrEmpty = function (value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateTimePicker.prototype.getCultureTimeObject = function (ld, c) {\n        if (this.calendarMode === 'Gregorian') {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n        }\n    };\n    DateTimePicker.prototype.timeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        if (e.currentTarget === this.timeIcon) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isDatePopupOpen()) {\n                _super.prototype.hide.call(this, e);\n            }\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            else {\n                this.inputElement.focus();\n                this.popupCreation('time', e);\n                addClass([this.inputWrapper.container], [INPUTFOCUS]);\n            }\n        }\n        this.isIconClicked = false;\n    };\n    DateTimePicker.prototype.dateHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (e.currentTarget === this.inputWrapper.buttons[0]) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                this.popupCreation('date', e);\n            }\n        }\n    };\n    DateTimePicker.prototype.show = function (type, e) {\n        if ((this.enabled && this.readonly) || !this.enabled) {\n            return;\n        }\n        else {\n            if (type === 'time' && !this.dateTimeWrapper) {\n                if (this.isDatePopupOpen()) {\n                    this.hide(e);\n                }\n                this.popupCreation('time', e);\n            }\n            else if (!this.popupObj) {\n                if (this.isTimePopupOpen()) {\n                    this.hide(e);\n                }\n                _super.prototype.show.call(this);\n                this.popupCreation('date', e);\n            }\n        }\n    };\n    DateTimePicker.prototype.toggle = function (e) {\n        if (this.isDatePopupOpen()) {\n            _super.prototype.hide.call(this, e);\n            this.show('time', null);\n        }\n        else if (this.isTimePopupOpen()) {\n            this.hide(e);\n            _super.prototype.show.call(this, null, e);\n            this.popupCreation('date', null);\n        }\n        else {\n            this.show(null, e);\n        }\n    };\n    DateTimePicker.prototype.listCreation = function () {\n        var dateObject;\n        if (this.calendarMode === 'Gregorian') {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime'\n            });\n        }\n        else {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime', calendar: 'islamic'\n            });\n        }\n        var value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ?\n            dateObject :\n            new Date() : this.value;\n        this.valueWithMinutes = value;\n        this.listWrapper = createElement('div', { className: CONTENT, attrs: { 'tabindex': '0' } });\n        var min = this.startTime(value);\n        var max = this.endTime(value);\n        var listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n        this.timeCollections = listDetails.collection;\n        this.listTag = listDetails.list;\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([listDetails.list], this.listWrapper);\n        this.wireTimeListEvents();\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS);\n    };\n    DateTimePicker.prototype.popupCreation = function (type, e) {\n        if (Browser.isDevice) {\n            this.element.setAttribute('readonly', 'readonly');\n        }\n        if (type === 'date') {\n            if (!this.readonly && this.popupWrapper) {\n                addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n                attributes(this.popupWrapper, { 'id': this.element.id + '_datepopup' });\n            }\n        }\n        else {\n            if (!this.readonly) {\n                this.dateTimeWrapper = createElement('div', {\n                    className: ROOT + ' ' + POPUP,\n                    attrs: { 'id': this.element.id + '_timepopup', 'style': 'visibility:hidden ; display:block' }\n                });\n                if (!isNullOrUndefined(this.cssClass)) {\n                    this.dateTimeWrapper.className += ' ' + this.cssClass;\n                }\n                if (!isNullOrUndefined(this.step) && this.step > 0) {\n                    this.listCreation();\n                    append([this.listWrapper], this.dateTimeWrapper);\n                }\n                document.body.appendChild(this.dateTimeWrapper);\n                this.addTimeSelection();\n                this.renderPopup();\n                this.setTimeScrollPosition();\n                this.openPopup(e);\n                this.popupObject.refreshPosition(this.inputElement);\n            }\n        }\n    };\n    DateTimePicker.prototype.openPopup = function (e) {\n        var _this = this;\n        this.preventArgs = {\n            cancel: false,\n            popup: this.popupObject,\n            event: e || null\n        };\n        var eventArgs = this.preventArgs;\n        this.trigger('open', eventArgs, function (eventArgs) {\n            _this.preventArgs = eventArgs;\n            if (!_this.preventArgs.cancel && !_this.readonly) {\n                var openAnimation = {\n                    name: 'FadeIn',\n                    duration: ANIMATIONDURATION\n                };\n                if (_this.zIndex === 1000) {\n                    _this.popupObject.show(new Animation(openAnimation), _this.element);\n                }\n                else {\n                    _this.popupObject.show(new Animation(openAnimation), null);\n                }\n                addClass([_this.inputWrapper.container], [ICONANIMATION]);\n                attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                attributes(_this.inputElement, { 'aria-owns': _this.inputElement.id + '_options' });\n                EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n            }\n        });\n    };\n    DateTimePicker.prototype.documentClickHandler = function (event) {\n        var target = event.target;\n        if ((!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) && event.type !== 'mousedown' ||\n            (this.popupObject.element && this.popupObject.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]'))) && target !== this.inputElement\n            && target !== this.timeIcon && target !== this.inputWrapper.container) {\n            if (this.isTimePopupOpen()) {\n                this.hide(event);\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = ((document.activeElement === this.inputElement) && (Browser.isIE || Browser.info.name === 'edge')\n                    && target === this.popupObject.element);\n            }\n        }\n    };\n    DateTimePicker.prototype.isTimePopupOpen = function () {\n        return (this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT)) ? true : false;\n    };\n    DateTimePicker.prototype.isDatePopupOpen = function () {\n        return (this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER)) ? true : false;\n    };\n    DateTimePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        if (Browser.isDevice) {\n            this.timeModal = createElement('div');\n            this.timeModal.className = '' + ROOT + ' e-time-modal';\n            document.body.className += ' ' + OVERFLOW;\n            this.timeModal.style.display = 'block';\n            document.body.appendChild(this.timeModal);\n        }\n        var offset = 4;\n        this.popupObject = new Popup(this.dateTimeWrapper, {\n            width: this.setPopupWidth(),\n            zIndex: this.zIndex,\n            targetType: 'container',\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            enableRtl: this.enableRtl,\n            offsetY: offset,\n            open: function () {\n                _this.dateTimeWrapper.style.visibility = 'visible';\n                addClass([_this.timeIcon], ACTIVE);\n                if (!Browser.isDevice) {\n                    _this.timekeyConfigure = extend(_this.timekeyConfigure, _this.keyConfigs);\n                    _this.inputEvent = new KeyboardEvents(_this.inputWrapper.container, {\n                        keyAction: _this.timeKeyActionHandle.bind(_this),\n                        keyConfigs: _this.timekeyConfigure,\n                        eventName: 'keydown'\n                    });\n                }\n            }, close: function () {\n                removeClass([_this.timeIcon], ACTIVE);\n                _this.unWireTimeListEvents();\n                _this.inputElement.removeAttribute('aria-activedescendant');\n                remove(_this.popupObject.element);\n                _this.popupObject.destroy();\n                _this.dateTimeWrapper.innerHTML = '';\n                _this.listWrapper = _this.dateTimeWrapper = undefined;\n                if (_this.inputEvent) {\n                    _this.inputEvent.destroy();\n                }\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        this.popupObject.element.style.maxHeight = POPUPDIMENSION;\n    };\n    DateTimePicker.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            // eslint-disable-next-line no-self-assign\n            width = width;\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    DateTimePicker.prototype.setPopupWidth = function () {\n        var width = this.setDimension(this.width);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    DateTimePicker.prototype.wireTimeListEvents = function () {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DateTimePicker.prototype.unWireTimeListEvents = function () {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n            if (!Browser.isDevice) {\n                EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n                EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n            }\n        }\n    };\n    DateTimePicker.prototype.onMouseOver = function (event) {\n        var currentLi = closest(event.target, '.' + LISTCLASS);\n        this.setTimeHover(currentLi, HOVER);\n    };\n    DateTimePicker.prototype.onMouseLeave = function () {\n        this.removeTimeHover(HOVER);\n    };\n    DateTimePicker.prototype.setTimeHover = function (li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeTimeHover(className);\n            addClass([li], className);\n        }\n    };\n    DateTimePicker.prototype.getPopupHeight = function () {\n        var height = parseInt(POPUPDIMENSION, 10);\n        var popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    };\n    DateTimePicker.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n            _super.prototype.changeEvent.call(this, e);\n            this.valueWithMinutes = this.value;\n            this.setInputValue('date');\n            this.previousDateTime = this.value && new Date(+this.value);\n        }\n    };\n    DateTimePicker.prototype.updateValue = function (e) {\n        this.setInputValue('time');\n        if (+this.previousDateTime !== +this.value) {\n            this.changedArgs = {\n                value: this.value, event: e || null,\n                isInteracted: !isNullOrUndefined(e),\n                element: this.element\n            };\n            this.addTimeSelection();\n            this.trigger('change', this.changedArgs);\n            this.previousDateTime = this.previousDate = this.value;\n        }\n    };\n    DateTimePicker.prototype.setTimeScrollPosition = function () {\n        var popupElement = this.selectedElement;\n        if (!isNullOrUndefined(popupElement)) {\n            this.findScrollTop(popupElement);\n        }\n        else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    };\n    DateTimePicker.prototype.findScrollTop = function (element) {\n        var listHeight = this.getPopupHeight();\n        var nextElement = element.nextElementSibling;\n        var height = nextElement ? nextElement.offsetTop : element.offsetTop;\n        var lineHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.dateTimeWrapper.scrollTop = nextElement ? (height - (listHeight / HALFPOSITION + lineHeight / HALFPOSITION)) : height;\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    };\n    DateTimePicker.prototype.setScrollTo = function () {\n        var element;\n        var items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS);\n        if (items.length >= 0) {\n            this.scrollInvoked = true;\n            var initialTime = this.timeCollections[0];\n            var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n            element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    };\n    DateTimePicker.prototype.setInputValue = function (type) {\n        if (type === 'date') {\n            this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n            this.setProperties({ value: this.getFullDateTime() }, true);\n        }\n        else {\n            var tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n            Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousElementValue = this.inputElement.value;\n            this.setProperties({ value: new Date(this.timeCollections[this.activeIndex]) }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        this.updateIconState();\n    };\n    DateTimePicker.prototype.getFullDateTime = function () {\n        var value = null;\n        if (this.isDateObject(this.valueWithMinutes)) {\n            value = this.combineDateTime(this.valueWithMinutes);\n        }\n        else {\n            value = this.previousDate;\n        }\n        return this.validateMinMaxRange(value);\n    };\n    DateTimePicker.prototype.createMask = function () {\n        this.notify(\"createMask\", {\n            module: \"MaskedDateTime\",\n        });\n    };\n    DateTimePicker.prototype.combineDateTime = function (value) {\n        if (this.isDateObject(value)) {\n            var day = this.previousDate.getDate();\n            var month = this.previousDate.getMonth();\n            var year = this.previousDate.getFullYear();\n            var hour = value.getHours();\n            var minutes = value.getMinutes();\n            var seconds = value.getSeconds();\n            return new Date(year, month, day, hour, minutes, seconds);\n        }\n        else {\n            return this.previousDate;\n        }\n    };\n    DateTimePicker.prototype.onMouseClick = function (event) {\n        var target = event.target;\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.timeValue = li.getAttribute('data-value');\n            this.hide(event);\n        }\n        this.setSelection(li, event);\n    };\n    DateTimePicker.prototype.setSelection = function (li, event) {\n        if (this.isValidLI(li) && !li.classList.contains(ACTIVE)) {\n            this.selectedElement = li;\n            var index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.activeIndex = index;\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], ACTIVE);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.updateValue(event);\n        }\n    };\n    DateTimePicker.prototype.setTimeActiveClass = function () {\n        var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        if (!isNullOrUndefined(collections)) {\n            var items = collections.querySelectorAll('.' + LISTCLASS);\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    if (this.timeCollections[i] === +(this.valueWithMinutes)) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        this.setTimeActiveDescendant();\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    DateTimePicker.prototype.setTimeActiveDescendant = function () {\n        if (!isNullOrUndefined(this.selectedElement) && this.value) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    DateTimePicker.prototype.addTimeSelection = function () {\n        this.selectedElement = null;\n        this.removeTimeSelection();\n        this.setTimeActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], ACTIVE);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    };\n    DateTimePicker.prototype.removeTimeSelection = function () {\n        this.removeTimeHover(HOVER);\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            var items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE);\n            if (items.length) {\n                removeClass(items, ACTIVE);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DateTimePicker.prototype.removeTimeHover = function (className) {\n        var hoveredItem = this.getTimeHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n        }\n    };\n    DateTimePicker.prototype.getTimeHoverItem = function (className) {\n        var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        var hoveredItem;\n        if (!isNullOrUndefined(collections)) {\n            hoveredItem = collections.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    };\n    DateTimePicker.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(LISTCLASS) && !li.classList.contains(DISABLED));\n    };\n    DateTimePicker.prototype.calculateStartEnd = function (value, range, method) {\n        var day = value.getDate();\n        var month = value.getMonth();\n        var year = value.getFullYear();\n        var hours = value.getHours();\n        var minutes = value.getMinutes();\n        var seconds = value.getSeconds();\n        var milliseconds = value.getMilliseconds();\n        if (range) {\n            if (method === 'starttime') {\n                return new Date(year, month, day, 0, 0, 0);\n            }\n            else {\n                return new Date(year, month, day, 23, 59, 59);\n            }\n        }\n        else {\n            return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n        }\n    };\n    DateTimePicker.prototype.startTime = function (date) {\n        var tempStartValue;\n        var start;\n        var tempMin = this.min;\n        var value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() &&\n            +value.getFullYear() === +tempMin.getFullYear()) || ((+new Date(value.getFullYear(), value.getMonth(), value.getDate())) <=\n            +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate()))) {\n            start = false;\n            tempStartValue = this.min;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            start = true;\n            tempStartValue = value;\n        }\n        else if (+value >= +this.max) {\n            start = true;\n            tempStartValue = this.max;\n        }\n        return this.calculateStartEnd(tempStartValue, start, 'starttime');\n    };\n    DateTimePicker.prototype.endTime = function (date) {\n        var tempEndValue;\n        var end;\n        var tempMax = this.max;\n        var value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() &&\n            +value.getFullYear() === +tempMax.getFullYear()) || (+new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >=\n            +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate()))) {\n            end = false;\n            tempEndValue = this.max;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            end = true;\n            tempEndValue = value;\n        }\n        else if (+value <= +this.min) {\n            end = true;\n            tempEndValue = this.min;\n        }\n        return this.calculateStartEnd(tempEndValue, end, 'endtime');\n    };\n    DateTimePicker.prototype.hide = function (e) {\n        var _this = this;\n        if (this.popupObj || this.dateTimeWrapper) {\n            this.preventArgs = {\n                cancel: false,\n                popup: this.popupObj || this.popupObject,\n                event: e || null\n            };\n            var eventArgs = this.preventArgs;\n            if (isNullOrUndefined(this.popupObj)) {\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.dateTimeCloseEventCallback(e, eventArgs);\n                });\n            }\n            else {\n                this.dateTimeCloseEventCallback(e, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    };\n    DateTimePicker.prototype.dateTimeCloseEventCallback = function (e, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (!this.preventArgs.cancel) {\n            if (this.isDatePopupOpen()) {\n                _super.prototype.hide.call(this, e);\n            }\n            else if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n                removeClass([document.body], OVERFLOW);\n                if (Browser.isDevice && this.timeModal) {\n                    this.timeModal.style.display = 'none';\n                    this.timeModal.outerHTML = '';\n                    this.timeModal = null;\n                }\n                this.setTimeActiveDescendant();\n            }\n        }\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateTimePicker.prototype.closePopup = function (e) {\n        if (this.isTimePopupOpen() && this.popupObject) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: ANIMATIONDURATION,\n                delay: 0\n            };\n            this.popupObject.hide(new Animation(animModel));\n            this.inputWrapper.container.classList.remove(ICONANIMATION);\n            attributes(this.inputElement, { 'aria-expanded': 'false' });\n            this.inputElement.removeAttribute('aria-owns');\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n        }\n    };\n    DateTimePicker.prototype.preRender = function () {\n        this.checkFormat();\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        _super.prototype.preRender.call(this);\n        removeClass([this.inputElementCopy], [ROOT]);\n    };\n    DateTimePicker.prototype.getProperty = function (date, val) {\n        if (val === 'min') {\n            this.setProperties({ min: this.validateValue(date.min) }, true);\n        }\n        else {\n            this.setProperties({ max: this.validateValue(date.max) }, true);\n        }\n    };\n    DateTimePicker.prototype.checkAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n        var value;\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === 'true' ||\n                                this.inputElement.getAttribute(prop) === '' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    DateTimePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push(this.maskedDateModule());\n        }\n        return modules;\n    };\n    DateTimePicker.prototype.maskedDateModule = function () {\n        var modules = { args: [this], member: 'MaskedDateTime' };\n        return modules;\n    };\n    DateTimePicker.prototype.getTimeActiveElement = function () {\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE);\n        }\n        else {\n            return null;\n        }\n    };\n    DateTimePicker.prototype.createDateObj = function (val) {\n        return val instanceof Date ? val : null;\n    };\n    DateTimePicker.prototype.getDateObject = function (text) {\n        if (!this.isNullOrEmpty(text)) {\n            var dateValue = this.createDateObj(text);\n            var value = this.valueWithMinutes;\n            var status_1 = !isNullOrUndefined(value);\n            if (this.checkDateValue(dateValue)) {\n                var date = status_1 ? value.getDate() : DAY;\n                var month = status_1 ? value.getMonth() : MONTH;\n                var year = status_1 ? value.getFullYear() : YEAR;\n                var hour = status_1 ? value.getHours() : HOUR;\n                var minute = status_1 ? value.getMinutes() : MINUTE;\n                var second = status_1 ? value.getSeconds() : SECOND;\n                var millisecond = status_1 ? value.getMilliseconds() : MILLISECOND;\n                if (!this.scrollInvoked) {\n                    return new Date(year, month, date, hour, minute, second, millisecond);\n                }\n                else {\n                    this.scrollInvoked = false;\n                    return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n                }\n            }\n        }\n        return null;\n    };\n    DateTimePicker.prototype.findNextTimeElement = function (event) {\n        var textVal = (this.inputElement).value;\n        var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        var dateTimeVal = null;\n        var listCount = this.liCollections.length;\n        if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n            if (event.action === 'home') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[0])));\n                this.activeIndex = 0;\n            }\n            else if (event.action === 'end') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1])));\n                this.activeIndex = this.timeCollections.length - 1;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (var i = 0; i < listCount; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var i = listCount - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n        }\n    };\n    DateTimePicker.prototype.setTimeValue = function (date, value) {\n        var dateString;\n        var time;\n        var val = this.validateMinMaxRange(value);\n        var newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = new Date(+this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = new Date(+this.valueWithMinutes);\n        }\n        if (this.calendarMode === 'Gregorian') {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd'\n            });\n        }\n        else {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n            });\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        return time;\n    };\n    DateTimePicker.prototype.timeElementValue = function (value) {\n        if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n            var date = value instanceof Date ? value : this.getDateObject(value);\n            return this.setTimeValue(date, value);\n        }\n        return null;\n    };\n    DateTimePicker.prototype.timeKeyHandler = function (event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0) {\n            return;\n        }\n        var listCount = this.timeCollections.length;\n        if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    this.activeIndex = 0;\n                    this.selectedElement = this.liCollections[0];\n                    this.timeElementValue(new Date(this.timeCollections[0]));\n                }\n                else {\n                    this.findNextTimeElement(event);\n                }\n            }\n        }\n        else {\n            var nextItemValue = void 0;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (listCount) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (listCount - 1) : this.activeIndex;\n                nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                this.activeIndex = 0;\n                nextItemValue = this.timeCollections[0];\n            }\n            else if (event.action === 'end') {\n                this.activeIndex = listCount - 1;\n                nextItemValue = this.timeCollections[listCount - 1];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(new Date(nextItemValue));\n        }\n        this.isNavigate = true;\n        this.setTimeHover(this.selectedElement, NAVIGATION);\n        this.setTimeActiveDescendant();\n        if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setTimeScrollPosition();\n        }\n    };\n    DateTimePicker.prototype.timeKeyActionHandle = function (event) {\n        if (this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'up':\n                case 'down':\n                case 'home':\n                case 'end':\n                    this.timeKeyHandler(event);\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.setInputValue('time');\n                        if (+this.previousDateTime !== +this.value) {\n                            this.changedArgs.value = this.value;\n                            this.addTimeSelection();\n                            this.previousDateTime = this.value;\n                        }\n                    }\n                    else {\n                        this.updateValue(event);\n                    }\n                    this.hide(event);\n                    addClass([this.inputWrapper.container], INPUTFOCUS);\n                    this.isNavigate = false;\n                    event.stopPropagation();\n                    break;\n                case 'escape':\n                    this.hide(event);\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    };\n    DateTimePicker.prototype.inputKeyAction = function (event) {\n        switch (event.action) {\n            case 'altDownArrow':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.toggle(event);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n\n     */\n    DateTimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    newProp.value = this.validateValue(newProp.value);\n                    Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n                    this.valueWithMinutes = newProp.value;\n                    this.setProperties({ value: newProp.value }, true);\n                    if (this.popupObj) {\n                        this.popupUpdate();\n                    }\n                    this.previousDateTime = new Date(this.inputElement.value);\n                    this.updateInput();\n                    this.changeTrigger(null);\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask && this.value) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    this.updateInput();\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'cssClass':\n                    if (!isNullOrUndefined(oldProp.cssClass)) {\n                        oldProp.cssClass = (oldProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    if (!isNullOrUndefined(newProp.cssClass)) {\n                        newProp.cssClass = (newProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n                    if (this.dateTimeWrapper) {\n                        Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n                    this.dateTimeFormat = this.cldrDateTimeFormat();\n                    _super.prototype.updateInput.call(this);\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.dateTimeFormat = this.formatString;\n                    this.setValue();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        if (!this.value) {\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (!this.enabled) {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n                    }\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n                    }\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n                        if (this.dateTimeWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.maskedDateValue = '';\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n            }\n            if (!this.isDynamicValueChanged && !this.isIconClicked) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    DateTimePicker.prototype.getModuleName = function () {\n        return 'datetimepicker';\n    };\n    DateTimePicker.prototype.restoreValue = function () {\n        this.previousDateTime = this.previousDate;\n        this.currentDate = this.value ? this.value : new Date();\n        this.valueWithMinutes = this.value;\n        this.previousDate = this.value;\n        this.previousElementValue = this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.getFormattedValue(this.inputValueCopy);\n    };\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"timeFormat\", void 0);\n    __decorate([\n        Property(30)\n    ], DateTimePicker.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"scrollTo\", void 0);\n    __decorate([\n        Property(1000)\n    ], DateTimePicker.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property({})\n    ], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], DateTimePicker.prototype, \"allowEdit\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"values\", void 0);\n    __decorate([\n        Property(true)\n    ], DateTimePicker.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], DateTimePicker.prototype, \"min\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], DateTimePicker.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], DateTimePicker.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property('Month')\n    ], DateTimePicker.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], DateTimePicker.prototype, \"depth\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property(true)\n    ], DateTimePicker.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Short')\n    ], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"openOnFocus\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"enableMask\", void 0);\n    __decorate([\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n    ], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"cleared\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"destroyed\", void 0);\n    DateTimePicker = __decorate([\n        NotifyPropertyChanges\n    ], DateTimePicker);\n    return DateTimePicker;\n}(DatePicker));\nexport { DateTimePicker };\n"]},"metadata":{},"sourceType":"module"}