{"ast":null,"code":"import { createElement } from './dom';\nimport { getValue, containerObject, setValue, isNullOrUndefined } from './util';\nvar bypassKey = [115, 121, 110, 99, 102, 117, 115, 105, 111, 110, 46, 105, 115, 76, 105, 99, 86, 97, 108, 105, 100, 97, 116, 101, 100];\n/**\n * License validation module\n * @private\n */\n\nvar LicenseValidator =\n/** @class */\nfunction () {\n  function LicenseValidator(key) {\n    this.isValidated = false;\n    this.version = '20.3';\n    this.platform = /JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats/i;\n    this.errors = {\n      noLicense: 'This application was built using a trial version of Syncfusion Essential Studio.' + ' Please include a valid license to permanently remove this license validation message.' + ' You can also obtain a free 30 day evaluation license to temporarily remove this message ' + 'during the evaluation period. Please refer to this <a class=\"e-license\"' + 'href=\"https://help.syncfusion.com/common/essential-studio/licensing\">help topic</a> for more information.',\n      trailExpired: 'Your Syncfusion trial license has expired. Please refer to this ' + '<a class=\"e-license\"' + 'href=\"https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#trial-expired\">help topic</a> for more information.',\n      versionMismatched: 'The included Syncfusion license (v##LicenseVersion) is invalid for version ' + '##Requireversion. Please refer to this <a class=\"e-license\" ' + 'href=\"https://help.syncfusion.com/es/licensing/version-mismatch/\">help topic</a> for more information.',\n      platformMismatched: 'The included Syncfusion license is invalid (Platform mismatch). Please refer' + ' to this <a class=\"e-license\" ' + 'href=\"https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#platform-mismatch\">help topic</a> for more information.',\n      invalidKey: 'The included Syncfusion license is invalid. Please refer to this ' + '<a class=\"e-license\" ' + 'href=\"https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#invalid-key\">help topic</a> for more information.'\n    };\n    /**\n     * To manage licensing operation.\n     */\n\n    this.manager = function () {\n      var licKey = null;\n\n      function set(key) {\n        licKey = key;\n      }\n\n      function get() {\n        return licKey;\n      }\n\n      return {\n        setKey: set,\n        getKey: get\n      };\n    }();\n    /**\n     * To manage npx licensing operation.\n     */\n\n\n    this.npxManager = function () {\n      var npxLicKey = 'npxKeyReplace';\n\n      function get() {\n        return npxLicKey;\n      }\n\n      return {\n        getKey: get\n      };\n    }();\n\n    this.manager.setKey(key);\n  }\n  /**\n   * To validate the provided license key.\n  */\n\n\n  LicenseValidator.prototype.validate = function () {\n    if (!this.isValidated && containerObject && !getValue(convertToChar(bypassKey), containerObject) && !getValue('Blazor', containerObject)) {\n      var validateMsg = void 0;\n\n      if (this.manager && this.manager.getKey() || this.npxManager && this.npxManager.getKey() !== 'npxKeyReplace') {\n        var result = this.getInfoFromKey();\n\n        if (result && result.length) {\n          for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n            var res = result_1[_i];\n\n            if (!this.platform.test(res.platform) || res.invalidPlatform) {\n              validateMsg = this.errors.platformMismatched;\n            } else if (res.version.indexOf(this.version) === -1) {\n              validateMsg = this.errors.versionMismatched;\n              validateMsg = validateMsg.replace('##LicenseVersion', res.version);\n              validateMsg = validateMsg.replace('##Requireversion', this.version + '.x');\n            } else if (res.expiryDate) {\n              var expDate = new Date(res.expiryDate);\n              var currDate = new Date();\n\n              if (expDate !== currDate && expDate < currDate) {\n                validateMsg = this.errors.trailExpired;\n              } else {\n                break;\n              }\n            }\n          }\n        } else {\n          validateMsg = this.errors.invalidKey;\n        }\n      } else {\n        validateMsg = this.errors.noLicense;\n      }\n\n      if (validateMsg && typeof document !== 'undefined' && !isNullOrUndefined(document)) {\n        var errorDiv = createElement('div', {\n          innerHTML: validateMsg + '<span id=\"license-banner-event\" class=\"e-license-banner\" >' + '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\">' + '<line x1=\"5\" y1=\"5\" x2=\"15\" y2=\"15\" stroke=\"yellow\" stroke-width=\"2.5\" ' + 'stroke-miterlimit=\"10\" stroke-linecap=\"round\"></line><line x1=\"15\" y1=\"5\" ' + 'x2=\"5\" y2=\"15\" stroke=\"yellow\" stroke-width=\"2.5\" stroke-linecap=\"round\" ' + 'stroke-miterlimit=\"10\"></line></svg></span>',\n          styles: 'position:fixed;top:0;left:0;right:0;font-family:\"Segoe UI\";font-size:16px;' + 'background:repeating-linear-gradient(45deg,#d70f0f,#d70f0f 10px,#e12121 10px,#e12121 17px);' + 'color:#ffffff;z-index:999999999;text-align:center;padding:10px 50px 10px 25px;'\n        });\n        errorDiv.setAttribute('id', 'js-licensing');\n        document.body.appendChild(errorDiv);\n        document.getElementById('license-banner-event').addEventListener('click', function () {\n          document.getElementById('js-licensing').remove();\n        });\n      }\n\n      this.isValidated = true;\n      setValue(convertToChar(bypassKey), this.isValidated, containerObject);\n    }\n  };\n\n  LicenseValidator.prototype.getDecryptedData = function (key) {\n    try {\n      return atob(key);\n    } catch (error) {\n      return '';\n    }\n  };\n  /**\n   * Get license information from key.\n   */\n\n\n  LicenseValidator.prototype.getInfoFromKey = function () {\n    try {\n      var licKey = '';\n      var pkey = [5439488, 7929856, 5111808, 6488064, 4587520, 7667712, 5439488, 6881280, 5177344, 7208960, 4194304, 4456448, 6619136, 7733248, 5242880, 7077888, 6356992, 7602176, 4587520, 7274496, 7471104, 7143424];\n      var decryptedStr = [];\n      var resultArray = [];\n      var invalidPlatform = false;\n      var isNpxKey = false;\n\n      if (this.manager.getKey()) {\n        licKey = this.manager.getKey();\n      } else {\n        isNpxKey = true;\n        licKey = this.npxManager.getKey().split('npxKeyReplace')[1];\n      }\n\n      var licKeySplit = licKey.split(';');\n\n      for (var _i = 0, licKeySplit_1 = licKeySplit; _i < licKeySplit_1.length; _i++) {\n        var lKey = licKeySplit_1[_i];\n        var decodeStr = this.getDecryptedData(lKey);\n\n        if (!decodeStr) {\n          continue;\n        }\n\n        var k = 0;\n        var buffr = '';\n\n        if (!isNpxKey) {\n          for (var i = 0; i < decodeStr.length; i++, k++) {\n            if (k === pkey.length) {\n              k = 0;\n            }\n\n            var c = decodeStr.charCodeAt(i);\n            buffr += String.fromCharCode(c ^ pkey[k] >> 16);\n          }\n        } else {\n          var charKey = decodeStr[decodeStr.length - 1];\n          var decryptedKey = [];\n\n          for (var i = 0; i < decodeStr.length; i++) {\n            decryptedKey[i] = decodeStr[i].charCodeAt(0) - charKey.charCodeAt(0);\n          }\n\n          for (var i = 0; i < decryptedKey.length; i++) {\n            buffr += String.fromCharCode(decryptedKey[i]);\n          }\n        }\n\n        if (this.platform.test(buffr)) {\n          decryptedStr = buffr.split(';');\n          invalidPlatform = false; // checked the length to verify the key in proper strucutre\n\n          if (decryptedStr.length > 3) {\n            resultArray.push({\n              platform: decryptedStr[0],\n              version: decryptedStr[1],\n              expiryDate: decryptedStr[2]\n            });\n          }\n        } else if (buffr && buffr.split(';').length > 3) {\n          invalidPlatform = true;\n        }\n      }\n\n      if (invalidPlatform && !resultArray.length) {\n        return [{\n          invalidPlatform: invalidPlatform\n        }];\n      } else {\n        return resultArray.length ? resultArray : null;\n      }\n    } catch (error) {\n      return null;\n    }\n  };\n\n  return LicenseValidator;\n}();\n\nvar licenseValidator = new LicenseValidator();\n\nfunction convertToChar(cArr) {\n  var ret = '';\n\n  for (var _i = 0, cArr_1 = cArr; _i < cArr_1.length; _i++) {\n    var arr = cArr_1[_i];\n    ret += String.fromCharCode(arr);\n  }\n\n  return ret;\n}\n/**\n * To set license key.\n *\n * @param {string} key - license key\n */\n\n\nexport function registerLicense(key) {\n  licenseValidator = new LicenseValidator(key);\n}\nexport var validateLicense = function (key) {\n  if (key) {\n    registerLicense(key);\n  }\n\n  licenseValidator.validate();\n};\nexport var getVersion = function () {\n  return licenseValidator.version;\n};","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/@syncfusion/ej2-base/src/validate-lic.js"],"names":["createElement","getValue","containerObject","setValue","isNullOrUndefined","bypassKey","LicenseValidator","key","isValidated","version","platform","errors","noLicense","trailExpired","versionMismatched","platformMismatched","invalidKey","manager","licKey","set","get","setKey","getKey","npxManager","npxLicKey","prototype","validate","convertToChar","validateMsg","result","getInfoFromKey","length","_i","result_1","res","test","invalidPlatform","indexOf","replace","expiryDate","expDate","Date","currDate","document","errorDiv","innerHTML","styles","setAttribute","body","appendChild","getElementById","addEventListener","remove","getDecryptedData","atob","error","pkey","decryptedStr","resultArray","isNpxKey","split","licKeySplit","licKeySplit_1","lKey","decodeStr","k","buffr","i","c","charCodeAt","String","fromCharCode","charKey","decryptedKey","push","licenseValidator","cArr","ret","cArr_1","arr","registerLicense","validateLicense","getVersion"],"mappings":"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","sourcesContent":["import { createElement } from './dom';\nimport { getValue, containerObject, setValue, isNullOrUndefined } from './util';\nvar bypassKey = [115, 121, 110, 99, 102, 117, 115, 105,\n    111, 110, 46, 105, 115, 76, 105, 99, 86, 97, 108,\n    105, 100, 97, 116, 101, 100];\n/**\n * License validation module\n * @private\n */\nvar LicenseValidator = /** @class */ (function () {\n    function LicenseValidator(key) {\n        this.isValidated = false;\n        this.version = '20.3';\n        this.platform = /JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats/i;\n        this.errors = {\n            noLicense: 'This application was built using a trial version of Syncfusion Essential Studio.' +\n                ' Please include a valid license to permanently remove this license validation message.' +\n                ' You can also obtain a free 30 day evaluation license to temporarily remove this message ' +\n                'during the evaluation period. Please refer to this <a class=\"e-license\"' +\n                'href=\"https://help.syncfusion.com/common/essential-studio/licensing\">help topic</a> for more information.',\n            trailExpired: 'Your Syncfusion trial license has expired. Please refer to this ' +\n                '<a class=\"e-license\"' +\n                'href=\"https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#trial-expired\">help topic</a> for more information.',\n            versionMismatched: 'The included Syncfusion license (v##LicenseVersion) is invalid for version ' +\n                '##Requireversion. Please refer to this <a class=\"e-license\" ' +\n                'href=\"https://help.syncfusion.com/es/licensing/version-mismatch/\">help topic</a> for more information.',\n            platformMismatched: 'The included Syncfusion license is invalid (Platform mismatch). Please refer' +\n                ' to this <a class=\"e-license\" ' +\n                'href=\"https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#platform-mismatch\">help topic</a> for more information.',\n            invalidKey: 'The included Syncfusion license is invalid. Please refer to this ' +\n                '<a class=\"e-license\" ' +\n                'href=\"https://help.syncfusion.com/common/essential-studio/licensing/licensing-errors#invalid-key\">help topic</a> for more information.'\n        };\n        /**\n         * To manage licensing operation.\n         */\n        this.manager = (function () {\n            var licKey = null;\n            function set(key) { licKey = key; }\n            function get() { return licKey; }\n            return {\n                setKey: set,\n                getKey: get\n            };\n        })();\n        /**\n         * To manage npx licensing operation.\n         */\n        this.npxManager = (function () {\n            var npxLicKey = 'npxKeyReplace';\n            function get() { return npxLicKey; }\n            return {\n                getKey: get\n            };\n        })();\n        this.manager.setKey(key);\n    }\n    /**\n     * To validate the provided license key.\n    */\n    LicenseValidator.prototype.validate = function () {\n        if (!this.isValidated && (containerObject && !getValue(convertToChar(bypassKey), containerObject) && !getValue('Blazor', containerObject))) {\n            var validateMsg = void 0;\n            if ((this.manager && this.manager.getKey()) || (this.npxManager && this.npxManager.getKey() !== 'npxKeyReplace')) {\n                var result = this.getInfoFromKey();\n                if (result && result.length) {\n                    for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n                        var res = result_1[_i];\n                        if (!this.platform.test(res.platform) || res.invalidPlatform) {\n                            validateMsg = this.errors.platformMismatched;\n                        }\n                        else if (res.version.indexOf(this.version) === -1) {\n                            validateMsg = this.errors.versionMismatched;\n                            validateMsg = validateMsg.replace('##LicenseVersion', res.version);\n                            validateMsg = validateMsg.replace('##Requireversion', this.version + '.x');\n                        }\n                        else if (res.expiryDate) {\n                            var expDate = new Date(res.expiryDate);\n                            var currDate = new Date();\n                            if (expDate !== currDate && expDate < currDate) {\n                                validateMsg = this.errors.trailExpired;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                    }\n                }\n                else {\n                    validateMsg = this.errors.invalidKey;\n                }\n            }\n            else {\n                validateMsg = this.errors.noLicense;\n            }\n            if (validateMsg && typeof document !== 'undefined' && !isNullOrUndefined(document)) {\n                var errorDiv = createElement('div', {\n                    innerHTML: validateMsg +\n                        '<span id=\"license-banner-event\" class=\"e-license-banner\" >' +\n                        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\">' +\n                        '<line x1=\"5\" y1=\"5\" x2=\"15\" y2=\"15\" stroke=\"yellow\" stroke-width=\"2.5\" ' +\n                        'stroke-miterlimit=\"10\" stroke-linecap=\"round\"></line><line x1=\"15\" y1=\"5\" ' +\n                        'x2=\"5\" y2=\"15\" stroke=\"yellow\" stroke-width=\"2.5\" stroke-linecap=\"round\" ' +\n                        'stroke-miterlimit=\"10\"></line></svg></span>',\n                    styles: 'position:fixed;top:0;left:0;right:0;font-family:\"Segoe UI\";font-size:16px;' +\n                        'background:repeating-linear-gradient(45deg,#d70f0f,#d70f0f 10px,#e12121 10px,#e12121 17px);' +\n                        'color:#ffffff;z-index:999999999;text-align:center;padding:10px 50px 10px 25px;'\n                });\n                errorDiv.setAttribute('id', 'js-licensing');\n                document.body.appendChild(errorDiv);\n                document.getElementById('license-banner-event').addEventListener('click', function () {\n                    document.getElementById('js-licensing').remove();\n                });\n            }\n            this.isValidated = true;\n            setValue(convertToChar(bypassKey), this.isValidated, containerObject);\n        }\n    };\n    LicenseValidator.prototype.getDecryptedData = function (key) {\n        try {\n            return atob(key);\n        }\n        catch (error) {\n            return '';\n        }\n    };\n    /**\n     * Get license information from key.\n     */\n    LicenseValidator.prototype.getInfoFromKey = function () {\n        try {\n            var licKey = '';\n            var pkey = [5439488, 7929856, 5111808, 6488064, 4587520, 7667712, 5439488,\n                6881280, 5177344, 7208960, 4194304, 4456448, 6619136, 7733248, 5242880, 7077888,\n                6356992, 7602176, 4587520, 7274496, 7471104, 7143424];\n            var decryptedStr = [];\n            var resultArray = [];\n            var invalidPlatform = false;\n            var isNpxKey = false;\n            if (this.manager.getKey()) {\n                licKey = this.manager.getKey();\n            }\n            else {\n                isNpxKey = true;\n                licKey = this.npxManager.getKey().split('npxKeyReplace')[1];\n            }\n            var licKeySplit = licKey.split(';');\n            for (var _i = 0, licKeySplit_1 = licKeySplit; _i < licKeySplit_1.length; _i++) {\n                var lKey = licKeySplit_1[_i];\n                var decodeStr = this.getDecryptedData(lKey);\n                if (!decodeStr) {\n                    continue;\n                }\n                var k = 0;\n                var buffr = '';\n                if (!isNpxKey) {\n                    for (var i = 0; i < decodeStr.length; i++, k++) {\n                        if (k === pkey.length) {\n                            k = 0;\n                        }\n                        var c = decodeStr.charCodeAt(i);\n                        buffr += String.fromCharCode(c ^ (pkey[k] >> 16));\n                    }\n                }\n                else {\n                    var charKey = decodeStr[decodeStr.length - 1];\n                    var decryptedKey = [];\n                    for (var i = 0; i < decodeStr.length; i++) {\n                        decryptedKey[i] = decodeStr[i].charCodeAt(0) - charKey.charCodeAt(0);\n                    }\n                    for (var i = 0; i < decryptedKey.length; i++) {\n                        buffr += String.fromCharCode(decryptedKey[i]);\n                    }\n                }\n                if (this.platform.test(buffr)) {\n                    decryptedStr = buffr.split(';');\n                    invalidPlatform = false;\n                    // checked the length to verify the key in proper strucutre\n                    if (decryptedStr.length > 3) {\n                        resultArray.push({ platform: decryptedStr[0],\n                            version: decryptedStr[1],\n                            expiryDate: decryptedStr[2] });\n                    }\n                }\n                else if (buffr && buffr.split(';').length > 3) {\n                    invalidPlatform = true;\n                }\n            }\n            if (invalidPlatform && !resultArray.length) {\n                return [{ invalidPlatform: invalidPlatform }];\n            }\n            else {\n                return resultArray.length ? resultArray : null;\n            }\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    return LicenseValidator;\n}());\nvar licenseValidator = new LicenseValidator();\nfunction convertToChar(cArr) {\n    var ret = '';\n    for (var _i = 0, cArr_1 = cArr; _i < cArr_1.length; _i++) {\n        var arr = cArr_1[_i];\n        ret += String.fromCharCode(arr);\n    }\n    return ret;\n}\n/**\n * To set license key.\n *\n * @param {string} key - license key\n */\nexport function registerLicense(key) {\n    licenseValidator = new LicenseValidator(key);\n}\nexport var validateLicense = function (key) {\n    if (key) {\n        registerLicense(key);\n    }\n    licenseValidator.validate();\n};\nexport var getVersion = function () {\n    return licenseValidator.version;\n};\n"]},"metadata":{},"sourceType":"module"}