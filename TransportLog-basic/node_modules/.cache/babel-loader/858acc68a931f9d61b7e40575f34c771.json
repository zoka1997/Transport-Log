{"ast":null,"code":"var queryString = '';\nvar prevString = '';\nvar matches = [];\nvar activeClass = 'e-active';\nvar prevElementId = '';\n/**\n * Search and focus the list item based on key code matches with list text content\n *\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]} items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n * @param {string} elementId - Specifies the list element ID.\n * @returns {Element} Returns list item based on key code matches with list text content.\n */\n\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase, elementId) {\n  queryString += String.fromCharCode(keyCode);\n  setTimeout(function () {\n    queryString = '';\n  }, 1000);\n  var index;\n  queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n\n  if (prevElementId === elementId && prevString === queryString) {\n    for (var i = 0; i < matches.length; i++) {\n      if (matches[i].classList.contains(activeClass)) {\n        index = i;\n        break;\n      }\n    }\n\n    index = index + 1;\n    return matches[index] ? matches[index] : matches[0];\n  } else {\n    var listItems = items;\n    var strLength = queryString.length;\n    var text = void 0;\n    var item = void 0;\n    selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n    var i = selectedIndex;\n    matches = [];\n\n    do {\n      if (i === listItems.length) {\n        i = -1;\n      }\n\n      if (i === -1) {\n        index = 0;\n      } else {\n        index = i;\n      }\n\n      item = listItems[index];\n      text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n\n      if (text.substr(0, strLength) === queryString) {\n        matches.push(listItems[index]);\n      }\n\n      i++;\n    } while (i !== selectedIndex);\n\n    prevString = queryString;\n    prevElementId = elementId;\n    return matches[0];\n  }\n}\n/**\n * Search the list item based on given input value matches with search type.\n *\n * @param {string} inputVal - Specifies the given input value.\n * @param {HTMLElement[]} items - Specifies the list items.\n * @param {SearchType} searchType - Specifies the filter type.\n * @param {boolean} ignoreCase - Specifies the case sensitive option for search operation.\n * @returns {Element | number} Returns the search matched items.\n */\n\nexport function Search(inputVal, items, searchType, ignoreCase, dataSource, fields, type) {\n  var listItems = items;\n  ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n  var itemData = {\n    item: null,\n    index: null\n  };\n\n  if (inputVal && inputVal.length) {\n    var strLength = inputVal.length;\n    var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n    queryStr = escapeCharRegExp(queryStr);\n\n    var _loop_1 = function (i, itemsData) {\n      var item = itemsData[i];\n      var text = void 0;\n      var filterValue;\n\n      if (items && dataSource) {\n        var checkField_1 = item;\n        var fieldValue_1 = fields.text.split('.');\n        dataSource.filter(function (data) {\n          Array.prototype.slice.call(fieldValue_1).forEach(function (value) {\n            if (type === 'object' && checkField_1.textContent.toString().indexOf(data[value]) !== -1 && checkField_1.getAttribute('data-value') === data[fields.value] || type === 'string' && checkField_1.textContent.toString().indexOf(data) !== -1) {\n              filterValue = type === 'object' ? data[value] : data;\n            }\n          });\n        });\n      }\n\n      text = dataSource && filterValue ? (ignoreCase ? filterValue.toLocaleLowerCase() : filterValue).replace(/^\\s+|\\s+$/g, '') : (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n\n      if (searchType === 'Equal' && text === queryStr || searchType === 'StartsWith' && text.substr(0, strLength) === queryStr || searchType === 'EndsWith' && text.substr(text.length - queryStr.length) === queryStr || searchType === 'Contains' && new RegExp(queryStr, \"g\").test(text)) {\n        itemData.item = item;\n        itemData.index = i;\n        return {\n          value: {\n            item: item,\n            index: i\n          }\n        };\n      }\n    };\n\n    for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n      var state_1 = _loop_1(i, itemsData);\n\n      if (typeof state_1 === \"object\") return state_1.value;\n    }\n\n    return itemData;\n  }\n\n  return itemData;\n}\nexport function escapeCharRegExp(value) {\n  return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nexport function resetIncrementalSearchValues(elementId) {\n  if (prevElementId === elementId) {\n    prevElementId = '';\n    prevString = '';\n    queryString = '';\n    matches = [];\n  }\n}","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/@syncfusion/ej2-react-dropdowns/node_modules/@syncfusion/ej2-dropdowns/src/common/incremental-search.js"],"names":["queryString","prevString","matches","activeClass","prevElementId","incrementalSearch","keyCode","items","selectedIndex","ignoreCase","elementId","String","fromCharCode","setTimeout","index","toLowerCase","i","length","classList","contains","listItems","strLength","text","item","innerText","substr","push","Search","inputVal","searchType","dataSource","fields","type","undefined","itemData","queryStr","toLocaleLowerCase","escapeCharRegExp","_loop_1","itemsData","filterValue","checkField_1","fieldValue_1","split","filter","data","Array","prototype","slice","call","forEach","value","textContent","toString","indexOf","getAttribute","replace","RegExp","test","state_1","resetIncrementalSearchValues"],"mappings":"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","sourcesContent":["var queryString = '';\nvar prevString = '';\nvar matches = [];\nvar activeClass = 'e-active';\nvar prevElementId = '';\n/**\n * Search and focus the list item based on key code matches with list text content\n *\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]} items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n * @param {string} elementId - Specifies the list element ID.\n * @returns {Element} Returns list item based on key code matches with list text content.\n */\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase, elementId) {\n    queryString += String.fromCharCode(keyCode);\n    setTimeout(function () {\n        queryString = '';\n    }, 1000);\n    var index;\n    queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n    if (prevElementId === elementId && prevString === queryString) {\n        for (var i = 0; i < matches.length; i++) {\n            if (matches[i].classList.contains(activeClass)) {\n                index = i;\n                break;\n            }\n        }\n        index = index + 1;\n        return matches[index] ? matches[index] : matches[0];\n    }\n    else {\n        var listItems = items;\n        var strLength = queryString.length;\n        var text = void 0;\n        var item = void 0;\n        selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n        var i = selectedIndex;\n        matches = [];\n        do {\n            if (i === listItems.length) {\n                i = -1;\n            }\n            if (i === -1) {\n                index = 0;\n            }\n            else {\n                index = i;\n            }\n            item = listItems[index];\n            text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n            if (text.substr(0, strLength) === queryString) {\n                matches.push(listItems[index]);\n            }\n            i++;\n        } while (i !== selectedIndex);\n        prevString = queryString;\n        prevElementId = elementId;\n        return matches[0];\n    }\n}\n/**\n * Search the list item based on given input value matches with search type.\n *\n * @param {string} inputVal - Specifies the given input value.\n * @param {HTMLElement[]} items - Specifies the list items.\n * @param {SearchType} searchType - Specifies the filter type.\n * @param {boolean} ignoreCase - Specifies the case sensitive option for search operation.\n * @returns {Element | number} Returns the search matched items.\n */\nexport function Search(inputVal, items, searchType, ignoreCase, dataSource, fields, type) {\n    var listItems = items;\n    ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n    var itemData = { item: null, index: null };\n    if (inputVal && inputVal.length) {\n        var strLength = inputVal.length;\n        var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n        queryStr = escapeCharRegExp(queryStr);\n        var _loop_1 = function (i, itemsData) {\n            var item = itemsData[i];\n            var text = void 0;\n            var filterValue;\n            if (items && dataSource) {\n                var checkField_1 = item;\n                var fieldValue_1 = fields.text.split('.');\n                dataSource.filter(function (data) {\n                    Array.prototype.slice.call(fieldValue_1).forEach(function (value) {\n                        if (type === 'object' && checkField_1.textContent.toString().indexOf(data[value]) !== -1 && checkField_1.getAttribute('data-value') === data[fields.value] || type === 'string' && checkField_1.textContent.toString().indexOf(data) !== -1) {\n                            filterValue = type === 'object' ? data[value] : data;\n                        }\n                    });\n                });\n            }\n            text = dataSource && filterValue ? (ignoreCase ? filterValue.toLocaleLowerCase() : filterValue).replace(/^\\s+|\\s+$/g, '') : (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n            if ((searchType === 'Equal' && text === queryStr) || (searchType === 'StartsWith' && text.substr(0, strLength) === queryStr) || (searchType === 'EndsWith' && text.substr(text.length - queryStr.length) === queryStr) || (searchType === 'Contains' && new RegExp(queryStr, \"g\").test(text))) {\n                itemData.item = item;\n                itemData.index = i;\n                return { value: { item: item, index: i } };\n            }\n        };\n        for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n            var state_1 = _loop_1(i, itemsData);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return itemData;\n    }\n    return itemData;\n}\nexport function escapeCharRegExp(value) {\n    return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nexport function resetIncrementalSearchValues(elementId) {\n    if (prevElementId === elementId) {\n        prevElementId = '';\n        prevString = '';\n        queryString = '';\n        matches = [];\n    }\n}\n"]},"metadata":{},"sourceType":"module"}