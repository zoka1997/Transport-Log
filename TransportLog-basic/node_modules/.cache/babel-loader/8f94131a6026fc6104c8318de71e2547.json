{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/form/components/field_item.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../../core/renderer\";\nimport eventsEngine from \"../../../events/core/events_engine\";\nimport { name as clickEventName } from \"../../../events/click\";\nimport { getPublicElement } from \"../../../core/element\";\nimport { captionize } from \"../../../core/utils/inflector\";\nimport { format } from \"../../../core/utils/string\";\nimport { isMaterial } from \"../../themes\";\nimport errors from \"../../widget/ui.errors\";\nimport Validator from \"../../validator\";\nimport { FIELD_ITEM_CONTENT_CLASS } from \"../constants\";\nexport var FLEX_LAYOUT_CLASS = \"dx-flex-layout\";\nexport var FIELD_ITEM_OPTIONAL_CLASS = \"dx-field-item-optional\";\nexport var FIELD_ITEM_REQUIRED_CLASS = \"dx-field-item-required\";\nexport var FIELD_ITEM_CONTENT_WRAPPER_CLASS = \"dx-field-item-content-wrapper\";\nexport var FIELD_ITEM_CONTENT_LOCATION_CLASS = \"dx-field-item-content-location-\";\nexport var FIELD_ITEM_LABEL_ALIGN_CLASS = \"dx-field-item-label-align\";\nexport var FIELD_ITEM_HELP_TEXT_CLASS = \"dx-field-item-help-text\";\nexport var LABEL_VERTICAL_ALIGNMENT_CLASS = \"dx-label-v-align\";\nexport var LABEL_HORIZONTAL_ALIGNMENT_CLASS = \"dx-label-h-align\";\nimport { renderLabel } from \"./label\";\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\nvar VALIDATION_TARGET_CLASS = \"dx-validation-target\";\nvar INVALID_CLASS = \"dx-invalid\";\nexport function renderFieldItem(_ref) {\n  var {\n    $parent: $parent,\n    rootElementCssClassList: rootElementCssClassList,\n    formOrLayoutManager: formOrLayoutManager,\n    createComponentCallback: createComponentCallback,\n    useFlexLayout: useFlexLayout,\n    labelOptions: labelOptions,\n    labelNeedBaselineAlign: labelNeedBaselineAlign,\n    labelLocation: labelLocation,\n    needRenderLabel: needRenderLabel,\n    formLabelLocation: formLabelLocation,\n    item: item,\n    editorOptions: editorOptions,\n    isSimpleItem: isSimpleItem,\n    isRequired: isRequired,\n    template: template,\n    helpID: helpID,\n    labelID: labelID,\n    name: name,\n    helpText: helpText,\n    requiredMessageTemplate: requiredMessageTemplate,\n    validationGroup: validationGroup\n  } = _ref;\n  var $rootElement = $(\"<div>\").addClass(rootElementCssClassList.join(\" \")).appendTo($parent);\n  $rootElement.addClass(isRequired ? FIELD_ITEM_REQUIRED_CLASS : FIELD_ITEM_OPTIONAL_CLASS);\n\n  if (isSimpleItem && useFlexLayout) {\n    $rootElement.addClass(FLEX_LAYOUT_CLASS);\n  }\n\n  if (isSimpleItem && labelNeedBaselineAlign) {\n    $rootElement.addClass(FIELD_ITEM_LABEL_ALIGN_CLASS);\n  }\n\n  var $fieldEditorContainer = $(\"<div>\");\n  $fieldEditorContainer.data(\"dx-form-item\", item);\n  $fieldEditorContainer.addClass(FIELD_ITEM_CONTENT_CLASS).addClass(FIELD_ITEM_CONTENT_LOCATION_CLASS + {\n    right: \"left\",\n    left: \"right\",\n    top: \"bottom\"\n  }[formLabelLocation]);\n  var $label = needRenderLabel ? renderLabel(labelOptions) : null;\n\n  if ($label) {\n    $rootElement.append($label);\n\n    if (\"top\" === labelLocation || \"left\" === labelLocation) {\n      $rootElement.append($fieldEditorContainer);\n    }\n\n    if (\"right\" === labelLocation) {\n      $rootElement.prepend($fieldEditorContainer);\n    }\n\n    if (\"top\" === labelLocation) {\n      $rootElement.addClass(LABEL_VERTICAL_ALIGNMENT_CLASS);\n    } else {\n      $rootElement.addClass(LABEL_HORIZONTAL_ALIGNMENT_CLASS);\n    }\n\n    if (\"dxCheckBox\" === item.editorType || \"dxSwitch\" === item.editorType) {\n      eventsEngine.on($label, clickEventName, function () {\n        eventsEngine.trigger($fieldEditorContainer.children(), clickEventName);\n      });\n    }\n  } else {\n    $rootElement.append($fieldEditorContainer);\n  }\n\n  var widgetInstance;\n\n  if (template) {\n    template.render({\n      container: getPublicElement($fieldEditorContainer),\n      model: {\n        dataField: item.dataField,\n        editorType: item.editorType,\n        editorOptions: editorOptions,\n        component: formOrLayoutManager,\n        name: item.name\n      },\n\n      onRendered() {\n        var $validationTarget = getValidationTarget($fieldEditorContainer);\n        var validationTargetInstance = tryGetValidationTargetInstance($validationTarget);\n        subscribeWrapperInvalidClassToggle(validationTargetInstance);\n      }\n\n    });\n  } else {\n    var $div = $(\"<div>\").appendTo($fieldEditorContainer);\n\n    try {\n      widgetInstance = createComponentCallback($div, item.editorType, editorOptions);\n      widgetInstance.setAria(\"describedby\", helpID);\n\n      if (labelID) {\n        widgetInstance.setAria(\"labelledby\", labelID);\n      }\n\n      widgetInstance.setAria(\"required\", isRequired);\n    } catch (e) {\n      errors.log(\"E1035\", e.message);\n    }\n  }\n\n  var $validationTarget = getValidationTarget($fieldEditorContainer);\n  var validationTargetInstance = $validationTarget && $validationTarget.data(VALIDATION_TARGET_CLASS);\n\n  if (validationTargetInstance) {\n    var isItemHaveCustomLabel = item.label && item.label.text;\n    var itemName = isItemHaveCustomLabel ? null : name;\n    var fieldName = isItemHaveCustomLabel ? item.label.text : itemName && captionize(itemName);\n    var validationRules;\n\n    if (isSimpleItem) {\n      if (item.validationRules) {\n        validationRules = item.validationRules;\n      } else {\n        var requiredMessage = format(requiredMessageTemplate, fieldName || \"\");\n        validationRules = item.isRequired ? [{\n          type: \"required\",\n          message: requiredMessage\n        }] : null;\n      }\n    }\n\n    if (Array.isArray(validationRules) && validationRules.length) {\n      createComponentCallback($validationTarget, Validator, {\n        validationRules: validationRules,\n        validationGroup: validationGroup,\n        dataGetter: function () {\n          return {\n            formItem: item\n          };\n        }\n      });\n    }\n\n    subscribeWrapperInvalidClassToggle(validationTargetInstance);\n  }\n\n  if (helpText && isSimpleItem) {\n    var $editorParent = $fieldEditorContainer.parent();\n    $editorParent.append($(\"<div>\").addClass(FIELD_ITEM_CONTENT_WRAPPER_CLASS).append($fieldEditorContainer).append($(\"<div>\").addClass(FIELD_ITEM_HELP_TEXT_CLASS).attr(\"id\", helpID).text(helpText)));\n  }\n\n  return {\n    $fieldEditorContainer: $fieldEditorContainer,\n    $rootElement: $rootElement,\n    widgetInstance: widgetInstance\n  };\n}\n\nfunction getValidationTarget($fieldEditorContainer) {\n  var $editor = $fieldEditorContainer.children().first();\n  return $editor.hasClass(TEMPLATE_WRAPPER_CLASS) ? $editor.children().first() : $editor;\n}\n\nfunction tryGetValidationTargetInstance($validationTarget) {\n  var _$validationTarget$pa, _$validationTarget$pa2;\n\n  return (null === $validationTarget || void 0 === $validationTarget ? void 0 : $validationTarget.data(VALIDATION_TARGET_CLASS)) || (null === $validationTarget || void 0 === $validationTarget ? void 0 : null === (_$validationTarget$pa = $validationTarget.parent) || void 0 === _$validationTarget$pa ? void 0 : null === (_$validationTarget$pa2 = _$validationTarget$pa.call($validationTarget)) || void 0 === _$validationTarget$pa2 ? void 0 : _$validationTarget$pa2.data(VALIDATION_TARGET_CLASS));\n}\n\nfunction subscribeWrapperInvalidClassToggle(validationTargetInstance) {\n  if (validationTargetInstance && isMaterial()) {\n    var wrapperClass = \".\".concat(FIELD_ITEM_CONTENT_WRAPPER_CLASS);\n\n    var toggleInvalidClass = _ref2 => {\n      var {\n        element: element,\n        component: component\n      } = _ref2;\n      var {\n        isValid: isValid,\n        validationMessageMode: validationMessageMode\n      } = component.option();\n      $(element).parents(wrapperClass).toggleClass(INVALID_CLASS, false === isValid && (component._isFocused() || \"always\" === validationMessageMode));\n    };\n\n    validationTargetInstance.on(\"optionChanged\", e => {\n      if (\"isValid\" !== e.name) {\n        return;\n      }\n\n      toggleInvalidClass(e);\n    });\n    validationTargetInstance.on(\"focusIn\", toggleInvalidClass).on(\"focusOut\", toggleInvalidClass).on(\"enterKey\", toggleInvalidClass);\n  }\n}","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/devextreme/esm/ui/form/components/field_item.js"],"names":["$","eventsEngine","name","clickEventName","getPublicElement","captionize","format","isMaterial","errors","Validator","FIELD_ITEM_CONTENT_CLASS","FLEX_LAYOUT_CLASS","FIELD_ITEM_OPTIONAL_CLASS","FIELD_ITEM_REQUIRED_CLASS","FIELD_ITEM_CONTENT_WRAPPER_CLASS","FIELD_ITEM_CONTENT_LOCATION_CLASS","FIELD_ITEM_LABEL_ALIGN_CLASS","FIELD_ITEM_HELP_TEXT_CLASS","LABEL_VERTICAL_ALIGNMENT_CLASS","LABEL_HORIZONTAL_ALIGNMENT_CLASS","renderLabel","TEMPLATE_WRAPPER_CLASS","VALIDATION_TARGET_CLASS","INVALID_CLASS","renderFieldItem","_ref","$parent","rootElementCssClassList","formOrLayoutManager","createComponentCallback","useFlexLayout","labelOptions","labelNeedBaselineAlign","labelLocation","needRenderLabel","formLabelLocation","item","editorOptions","isSimpleItem","isRequired","template","helpID","labelID","helpText","requiredMessageTemplate","validationGroup","$rootElement","addClass","join","appendTo","$fieldEditorContainer","data","right","left","top","$label","append","prepend","editorType","on","trigger","children","widgetInstance","render","container","model","dataField","component","onRendered","$validationTarget","getValidationTarget","validationTargetInstance","tryGetValidationTargetInstance","subscribeWrapperInvalidClassToggle","$div","setAria","e","log","message","isItemHaveCustomLabel","label","text","itemName","fieldName","validationRules","requiredMessage","type","Array","isArray","length","dataGetter","formItem","$editorParent","parent","attr","$editor","first","hasClass","_$validationTarget$pa","_$validationTarget$pa2","call","wrapperClass","concat","toggleInvalidClass","_ref2","element","isValid","validationMessageMode","option","parents","toggleClass","_isFocused"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/form/components/field_item.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nimport eventsEngine from \"../../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../../events/click\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../../core/element\";\r\nimport {\r\n    captionize\r\n} from \"../../../core/utils/inflector\";\r\nimport {\r\n    format\r\n} from \"../../../core/utils/string\";\r\nimport {\r\n    isMaterial\r\n} from \"../../themes\";\r\nimport errors from \"../../widget/ui.errors\";\r\nimport Validator from \"../../validator\";\r\nimport {\r\n    FIELD_ITEM_CONTENT_CLASS\r\n} from \"../constants\";\r\nexport var FLEX_LAYOUT_CLASS = \"dx-flex-layout\";\r\nexport var FIELD_ITEM_OPTIONAL_CLASS = \"dx-field-item-optional\";\r\nexport var FIELD_ITEM_REQUIRED_CLASS = \"dx-field-item-required\";\r\nexport var FIELD_ITEM_CONTENT_WRAPPER_CLASS = \"dx-field-item-content-wrapper\";\r\nexport var FIELD_ITEM_CONTENT_LOCATION_CLASS = \"dx-field-item-content-location-\";\r\nexport var FIELD_ITEM_LABEL_ALIGN_CLASS = \"dx-field-item-label-align\";\r\nexport var FIELD_ITEM_HELP_TEXT_CLASS = \"dx-field-item-help-text\";\r\nexport var LABEL_VERTICAL_ALIGNMENT_CLASS = \"dx-label-v-align\";\r\nexport var LABEL_HORIZONTAL_ALIGNMENT_CLASS = \"dx-label-h-align\";\r\nimport {\r\n    renderLabel\r\n} from \"./label\";\r\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\r\nvar VALIDATION_TARGET_CLASS = \"dx-validation-target\";\r\nvar INVALID_CLASS = \"dx-invalid\";\r\nexport function renderFieldItem(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        labelOptions: labelOptions,\r\n        labelNeedBaselineAlign: labelNeedBaselineAlign,\r\n        labelLocation: labelLocation,\r\n        needRenderLabel: needRenderLabel,\r\n        formLabelLocation: formLabelLocation,\r\n        item: item,\r\n        editorOptions: editorOptions,\r\n        isSimpleItem: isSimpleItem,\r\n        isRequired: isRequired,\r\n        template: template,\r\n        helpID: helpID,\r\n        labelID: labelID,\r\n        name: name,\r\n        helpText: helpText,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup\r\n    } = _ref;\r\n    var $rootElement = $(\"<div>\").addClass(rootElementCssClassList.join(\" \")).appendTo($parent);\r\n    $rootElement.addClass(isRequired ? FIELD_ITEM_REQUIRED_CLASS : FIELD_ITEM_OPTIONAL_CLASS);\r\n    if (isSimpleItem && useFlexLayout) {\r\n        $rootElement.addClass(FLEX_LAYOUT_CLASS)\r\n    }\r\n    if (isSimpleItem && labelNeedBaselineAlign) {\r\n        $rootElement.addClass(FIELD_ITEM_LABEL_ALIGN_CLASS)\r\n    }\r\n    var $fieldEditorContainer = $(\"<div>\");\r\n    $fieldEditorContainer.data(\"dx-form-item\", item);\r\n    $fieldEditorContainer.addClass(FIELD_ITEM_CONTENT_CLASS).addClass(FIELD_ITEM_CONTENT_LOCATION_CLASS + {\r\n        right: \"left\",\r\n        left: \"right\",\r\n        top: \"bottom\"\r\n    } [formLabelLocation]);\r\n    var $label = needRenderLabel ? renderLabel(labelOptions) : null;\r\n    if ($label) {\r\n        $rootElement.append($label);\r\n        if (\"top\" === labelLocation || \"left\" === labelLocation) {\r\n            $rootElement.append($fieldEditorContainer)\r\n        }\r\n        if (\"right\" === labelLocation) {\r\n            $rootElement.prepend($fieldEditorContainer)\r\n        }\r\n        if (\"top\" === labelLocation) {\r\n            $rootElement.addClass(LABEL_VERTICAL_ALIGNMENT_CLASS)\r\n        } else {\r\n            $rootElement.addClass(LABEL_HORIZONTAL_ALIGNMENT_CLASS)\r\n        }\r\n        if (\"dxCheckBox\" === item.editorType || \"dxSwitch\" === item.editorType) {\r\n            eventsEngine.on($label, clickEventName, (function() {\r\n                eventsEngine.trigger($fieldEditorContainer.children(), clickEventName)\r\n            }))\r\n        }\r\n    } else {\r\n        $rootElement.append($fieldEditorContainer)\r\n    }\r\n    var widgetInstance;\r\n    if (template) {\r\n        template.render({\r\n            container: getPublicElement($fieldEditorContainer),\r\n            model: {\r\n                dataField: item.dataField,\r\n                editorType: item.editorType,\r\n                editorOptions: editorOptions,\r\n                component: formOrLayoutManager,\r\n                name: item.name\r\n            },\r\n            onRendered() {\r\n                var $validationTarget = getValidationTarget($fieldEditorContainer);\r\n                var validationTargetInstance = tryGetValidationTargetInstance($validationTarget);\r\n                subscribeWrapperInvalidClassToggle(validationTargetInstance)\r\n            }\r\n        })\r\n    } else {\r\n        var $div = $(\"<div>\").appendTo($fieldEditorContainer);\r\n        try {\r\n            widgetInstance = createComponentCallback($div, item.editorType, editorOptions);\r\n            widgetInstance.setAria(\"describedby\", helpID);\r\n            if (labelID) {\r\n                widgetInstance.setAria(\"labelledby\", labelID)\r\n            }\r\n            widgetInstance.setAria(\"required\", isRequired)\r\n        } catch (e) {\r\n            errors.log(\"E1035\", e.message)\r\n        }\r\n    }\r\n    var $validationTarget = getValidationTarget($fieldEditorContainer);\r\n    var validationTargetInstance = $validationTarget && $validationTarget.data(VALIDATION_TARGET_CLASS);\r\n    if (validationTargetInstance) {\r\n        var isItemHaveCustomLabel = item.label && item.label.text;\r\n        var itemName = isItemHaveCustomLabel ? null : name;\r\n        var fieldName = isItemHaveCustomLabel ? item.label.text : itemName && captionize(itemName);\r\n        var validationRules;\r\n        if (isSimpleItem) {\r\n            if (item.validationRules) {\r\n                validationRules = item.validationRules\r\n            } else {\r\n                var requiredMessage = format(requiredMessageTemplate, fieldName || \"\");\r\n                validationRules = item.isRequired ? [{\r\n                    type: \"required\",\r\n                    message: requiredMessage\r\n                }] : null\r\n            }\r\n        }\r\n        if (Array.isArray(validationRules) && validationRules.length) {\r\n            createComponentCallback($validationTarget, Validator, {\r\n                validationRules: validationRules,\r\n                validationGroup: validationGroup,\r\n                dataGetter: function() {\r\n                    return {\r\n                        formItem: item\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        subscribeWrapperInvalidClassToggle(validationTargetInstance)\r\n    }\r\n    if (helpText && isSimpleItem) {\r\n        var $editorParent = $fieldEditorContainer.parent();\r\n        $editorParent.append($(\"<div>\").addClass(FIELD_ITEM_CONTENT_WRAPPER_CLASS).append($fieldEditorContainer).append($(\"<div>\").addClass(FIELD_ITEM_HELP_TEXT_CLASS).attr(\"id\", helpID).text(helpText)))\r\n    }\r\n    return {\r\n        $fieldEditorContainer: $fieldEditorContainer,\r\n        $rootElement: $rootElement,\r\n        widgetInstance: widgetInstance\r\n    }\r\n}\r\n\r\nfunction getValidationTarget($fieldEditorContainer) {\r\n    var $editor = $fieldEditorContainer.children().first();\r\n    return $editor.hasClass(TEMPLATE_WRAPPER_CLASS) ? $editor.children().first() : $editor\r\n}\r\n\r\nfunction tryGetValidationTargetInstance($validationTarget) {\r\n    var _$validationTarget$pa, _$validationTarget$pa2;\r\n    return (null === $validationTarget || void 0 === $validationTarget ? void 0 : $validationTarget.data(VALIDATION_TARGET_CLASS)) || (null === $validationTarget || void 0 === $validationTarget ? void 0 : null === (_$validationTarget$pa = $validationTarget.parent) || void 0 === _$validationTarget$pa ? void 0 : null === (_$validationTarget$pa2 = _$validationTarget$pa.call($validationTarget)) || void 0 === _$validationTarget$pa2 ? void 0 : _$validationTarget$pa2.data(VALIDATION_TARGET_CLASS))\r\n}\r\n\r\nfunction subscribeWrapperInvalidClassToggle(validationTargetInstance) {\r\n    if (validationTargetInstance && isMaterial()) {\r\n        var wrapperClass = \".\".concat(FIELD_ITEM_CONTENT_WRAPPER_CLASS);\r\n        var toggleInvalidClass = _ref2 => {\r\n            var {\r\n                element: element,\r\n                component: component\r\n            } = _ref2;\r\n            var {\r\n                isValid: isValid,\r\n                validationMessageMode: validationMessageMode\r\n            } = component.option();\r\n            $(element).parents(wrapperClass).toggleClass(INVALID_CLASS, false === isValid && (component._isFocused() || \"always\" === validationMessageMode))\r\n        };\r\n        validationTargetInstance.on(\"optionChanged\", e => {\r\n            if (\"isValid\" !== e.name) {\r\n                return\r\n            }\r\n            toggleInvalidClass(e)\r\n        });\r\n        validationTargetInstance.on(\"focusIn\", toggleInvalidClass).on(\"focusOut\", toggleInvalidClass).on(\"enterKey\", toggleInvalidClass)\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}