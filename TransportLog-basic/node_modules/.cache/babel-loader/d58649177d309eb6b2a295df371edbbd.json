{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.header_panel.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport $ from \"../../core/renderer\";\nimport Toolbar from \"../toolbar\";\nimport { ColumnsView } from \"./ui.grid_core.columns_view\";\nimport { noop } from \"../../core/utils/common\";\nimport { isDefined, isString } from \"../../core/utils/type\";\nimport messageLocalization from \"../../localization/message\";\nimport \"../drop_down_menu\";\nimport { extend } from \"../../core/utils/extend\";\nimport { getPathParts } from \"../../core/utils/data\";\nvar HEADER_PANEL_CLASS = \"header-panel\";\nvar TOOLBAR_BUTTON_CLASS = \"toolbar-button\";\nvar TOOLBAR_ARIA_LABEL = \"-ariaToolbar\";\nvar DEFAULT_TOOLBAR_ITEM_NAMES = [\"addRowButton\", \"applyFilterButton\", \"columnChooserButton\", \"exportButton\", \"groupPanel\", \"revertButton\", \"saveButton\", \"searchPanel\"];\nvar HeaderPanel = ColumnsView.inherit({\n  _getToolbarItems: function () {\n    return [];\n  },\n  _getButtonContainer: function () {\n    return $(\"<div>\").addClass(this.addWidgetPrefix(TOOLBAR_BUTTON_CLASS));\n  },\n  _getToolbarButtonClass: function (specificClass) {\n    var secondClass = specificClass ? \" \" + specificClass : \"\";\n    return this.addWidgetPrefix(TOOLBAR_BUTTON_CLASS) + secondClass;\n  },\n  _getToolbarOptions: function () {\n    var userToolbarOptions = this.option(\"toolbar\");\n    var options = {\n      toolbarOptions: {\n        items: this._getToolbarItems(),\n        visible: null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.visible,\n        disabled: null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.disabled,\n        onItemRendered: function (e) {\n          var itemRenderedCallback = e.itemData.onItemRendered;\n\n          if (itemRenderedCallback) {\n            itemRenderedCallback(e);\n          }\n        }\n      }\n    };\n    var userItems = null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.items;\n    options.toolbarOptions.items = this._normalizeToolbarItems(options.toolbarOptions.items, userItems);\n    this.executeAction(\"onToolbarPreparing\", options);\n\n    if (options.toolbarOptions && !isDefined(options.toolbarOptions.visible)) {\n      var toolbarItems = options.toolbarOptions.items;\n      options.toolbarOptions.visible = !!(null !== toolbarItems && void 0 !== toolbarItems && toolbarItems.length);\n    }\n\n    return options.toolbarOptions;\n  },\n\n  _normalizeToolbarItems(defaultItems, userItems) {\n    defaultItems.forEach(button => {\n      if (!DEFAULT_TOOLBAR_ITEM_NAMES.includes(button.name)) {\n        throw new Error(\"Default toolbar item '\".concat(button.name, \"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES\"));\n      }\n    });\n    var defaultProps = {\n      location: \"after\"\n    };\n    var isArray = Array.isArray(userItems);\n\n    if (!isDefined(userItems)) {\n      return defaultItems;\n    }\n\n    if (!isArray) {\n      userItems = [userItems];\n    }\n\n    var defaultButtonsByNames = {};\n    defaultItems.forEach(button => {\n      defaultButtonsByNames[button.name] = button;\n    });\n    var normalizedItems = userItems.map(button => {\n      if (isString(button)) {\n        button = {\n          name: button\n        };\n      }\n\n      if (isDefined(button.name)) {\n        if (isDefined(defaultButtonsByNames[button.name])) {\n          button = extend(true, {}, defaultButtonsByNames[button.name], button);\n        } else if (DEFAULT_TOOLBAR_ITEM_NAMES.includes(button.name)) {\n          button = _extends({}, button, {\n            visible: false\n          });\n        }\n      }\n\n      return extend(true, {}, defaultProps, button);\n    });\n    return isArray ? normalizedItems : normalizedItems[0];\n  },\n\n  _renderCore: function () {\n    if (!this._toolbar) {\n      var $headerPanel = this.element();\n      $headerPanel.addClass(this.addWidgetPrefix(HEADER_PANEL_CLASS));\n      var label = messageLocalization.format(this.component.NAME + TOOLBAR_ARIA_LABEL);\n      var $toolbar = $(\"<div>\").attr(\"aria-label\", label).appendTo($headerPanel);\n      this._toolbar = this._createComponent($toolbar, Toolbar, this._toolbarOptions);\n    } else {\n      this._toolbar.option(this._toolbarOptions);\n    }\n  },\n  _columnOptionChanged: noop,\n  _handleDataChanged: function () {\n    if (this._requireReady) {\n      this.render();\n    }\n  },\n  init: function () {\n    this.callBase();\n    this.createAction(\"onToolbarPreparing\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  render: function () {\n    this._toolbarOptions = this._getToolbarOptions();\n    this.callBase.apply(this, arguments);\n  },\n  setToolbarItemDisabled: function (name, optionValue) {\n    var toolbarInstance = this._toolbar;\n\n    if (toolbarInstance) {\n      var items = toolbarInstance.option(\"items\") || [];\n      var itemIndex = items.indexOf(items.filter(function (item) {\n        return item.name === name;\n      })[0]);\n\n      if (itemIndex >= 0) {\n        var itemOptionPrefix = \"items[\" + itemIndex + \"]\";\n\n        if (toolbarInstance.option(itemOptionPrefix + \".options\")) {\n          toolbarInstance.option(itemOptionPrefix + \".options.disabled\", optionValue);\n        } else {\n          toolbarInstance.option(itemOptionPrefix + \".disabled\", optionValue);\n        }\n      }\n    }\n  },\n  updateToolbarDimensions: function () {\n    var _this$_toolbar;\n\n    null === (_this$_toolbar = this._toolbar) || void 0 === _this$_toolbar ? void 0 : _this$_toolbar.updateDimensions();\n  },\n  getHeaderPanel: function () {\n    return this.element();\n  },\n  getHeight: function () {\n    return this.getElementHeight();\n  },\n  optionChanged: function (args) {\n    if (\"onToolbarPreparing\" === args.name) {\n      this._invalidate();\n\n      args.handled = true;\n    }\n\n    if (\"toolbar\" === args.name) {\n      args.handled = true;\n\n      if (this._toolbar) {\n        var parts = getPathParts(args.fullName);\n        var optionName = args.fullName.replace(/^toolbar\\./, \"\");\n\n        if (1 === parts.length) {\n          var toolbarOptions = this._getToolbarOptions();\n\n          this._toolbar.option(toolbarOptions);\n        } else if (\"items\" === parts[1]) {\n          if (2 === parts.length) {\n            var _toolbarOptions = this._getToolbarOptions();\n\n            this._toolbar.option(\"items\", _toolbarOptions.items);\n          } else if (3 === parts.length) {\n            var normalizedItem = this._normalizeToolbarItems(this._getToolbarItems(), args.value);\n\n            this._toolbar.option(optionName, normalizedItem);\n          } else if (parts.length >= 4) {\n            this._toolbar.option(optionName, args.value);\n          }\n        } else {\n          this._toolbar.option(optionName, args.value);\n        }\n      }\n    }\n\n    this.callBase(args);\n  },\n  isVisible: function () {\n    return this._toolbarOptions && this._toolbarOptions.visible;\n  },\n  allowDragging: noop\n});\nexport var headerPanelModule = {\n  defaultOptions: function () {\n    return {};\n  },\n  views: {\n    headerPanel: HeaderPanel\n  },\n  extenders: {\n    controllers: {\n      resizing: {\n        _updateDimensionsCore: function () {\n          this.callBase.apply(this, arguments);\n          this.getView(\"headerPanel\").updateToolbarDimensions();\n        }\n      }\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/devextreme/esm/ui/grid_core/ui.grid_core.header_panel.js"],"names":["_extends","$","Toolbar","ColumnsView","noop","isDefined","isString","messageLocalization","extend","getPathParts","HEADER_PANEL_CLASS","TOOLBAR_BUTTON_CLASS","TOOLBAR_ARIA_LABEL","DEFAULT_TOOLBAR_ITEM_NAMES","HeaderPanel","inherit","_getToolbarItems","_getButtonContainer","addClass","addWidgetPrefix","_getToolbarButtonClass","specificClass","secondClass","_getToolbarOptions","userToolbarOptions","option","options","toolbarOptions","items","visible","disabled","onItemRendered","e","itemRenderedCallback","itemData","userItems","_normalizeToolbarItems","executeAction","toolbarItems","length","defaultItems","forEach","button","includes","name","Error","concat","defaultProps","location","isArray","Array","defaultButtonsByNames","normalizedItems","map","_renderCore","_toolbar","$headerPanel","element","label","format","component","NAME","$toolbar","attr","appendTo","_createComponent","_toolbarOptions","_columnOptionChanged","_handleDataChanged","_requireReady","render","init","callBase","createAction","excludeValidators","apply","arguments","setToolbarItemDisabled","optionValue","toolbarInstance","itemIndex","indexOf","filter","item","itemOptionPrefix","updateToolbarDimensions","_this$_toolbar","updateDimensions","getHeaderPanel","getHeight","getElementHeight","optionChanged","args","_invalidate","handled","parts","fullName","optionName","replace","normalizedItem","value","isVisible","allowDragging","headerPanelModule","defaultOptions","views","headerPanel","extenders","controllers","resizing","_updateDimensionsCore","getView"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.header_panel.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../core/renderer\";\r\nimport Toolbar from \"../toolbar\";\r\nimport {\r\n    ColumnsView\r\n} from \"./ui.grid_core.columns_view\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport \"../drop_down_menu\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getPathParts\r\n} from \"../../core/utils/data\";\r\nvar HEADER_PANEL_CLASS = \"header-panel\";\r\nvar TOOLBAR_BUTTON_CLASS = \"toolbar-button\";\r\nvar TOOLBAR_ARIA_LABEL = \"-ariaToolbar\";\r\nvar DEFAULT_TOOLBAR_ITEM_NAMES = [\"addRowButton\", \"applyFilterButton\", \"columnChooserButton\", \"exportButton\", \"groupPanel\", \"revertButton\", \"saveButton\", \"searchPanel\"];\r\nvar HeaderPanel = ColumnsView.inherit({\r\n    _getToolbarItems: function() {\r\n        return []\r\n    },\r\n    _getButtonContainer: function() {\r\n        return $(\"<div>\").addClass(this.addWidgetPrefix(TOOLBAR_BUTTON_CLASS))\r\n    },\r\n    _getToolbarButtonClass: function(specificClass) {\r\n        var secondClass = specificClass ? \" \" + specificClass : \"\";\r\n        return this.addWidgetPrefix(TOOLBAR_BUTTON_CLASS) + secondClass\r\n    },\r\n    _getToolbarOptions: function() {\r\n        var userToolbarOptions = this.option(\"toolbar\");\r\n        var options = {\r\n            toolbarOptions: {\r\n                items: this._getToolbarItems(),\r\n                visible: null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.visible,\r\n                disabled: null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.disabled,\r\n                onItemRendered: function(e) {\r\n                    var itemRenderedCallback = e.itemData.onItemRendered;\r\n                    if (itemRenderedCallback) {\r\n                        itemRenderedCallback(e)\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var userItems = null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.items;\r\n        options.toolbarOptions.items = this._normalizeToolbarItems(options.toolbarOptions.items, userItems);\r\n        this.executeAction(\"onToolbarPreparing\", options);\r\n        if (options.toolbarOptions && !isDefined(options.toolbarOptions.visible)) {\r\n            var toolbarItems = options.toolbarOptions.items;\r\n            options.toolbarOptions.visible = !!(null !== toolbarItems && void 0 !== toolbarItems && toolbarItems.length)\r\n        }\r\n        return options.toolbarOptions\r\n    },\r\n    _normalizeToolbarItems(defaultItems, userItems) {\r\n        defaultItems.forEach(button => {\r\n            if (!DEFAULT_TOOLBAR_ITEM_NAMES.includes(button.name)) {\r\n                throw new Error(\"Default toolbar item '\".concat(button.name, \"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES\"))\r\n            }\r\n        });\r\n        var defaultProps = {\r\n            location: \"after\"\r\n        };\r\n        var isArray = Array.isArray(userItems);\r\n        if (!isDefined(userItems)) {\r\n            return defaultItems\r\n        }\r\n        if (!isArray) {\r\n            userItems = [userItems]\r\n        }\r\n        var defaultButtonsByNames = {};\r\n        defaultItems.forEach(button => {\r\n            defaultButtonsByNames[button.name] = button\r\n        });\r\n        var normalizedItems = userItems.map(button => {\r\n            if (isString(button)) {\r\n                button = {\r\n                    name: button\r\n                }\r\n            }\r\n            if (isDefined(button.name)) {\r\n                if (isDefined(defaultButtonsByNames[button.name])) {\r\n                    button = extend(true, {}, defaultButtonsByNames[button.name], button)\r\n                } else if (DEFAULT_TOOLBAR_ITEM_NAMES.includes(button.name)) {\r\n                    button = _extends({}, button, {\r\n                        visible: false\r\n                    })\r\n                }\r\n            }\r\n            return extend(true, {}, defaultProps, button)\r\n        });\r\n        return isArray ? normalizedItems : normalizedItems[0]\r\n    },\r\n    _renderCore: function() {\r\n        if (!this._toolbar) {\r\n            var $headerPanel = this.element();\r\n            $headerPanel.addClass(this.addWidgetPrefix(HEADER_PANEL_CLASS));\r\n            var label = messageLocalization.format(this.component.NAME + TOOLBAR_ARIA_LABEL);\r\n            var $toolbar = $(\"<div>\").attr(\"aria-label\", label).appendTo($headerPanel);\r\n            this._toolbar = this._createComponent($toolbar, Toolbar, this._toolbarOptions)\r\n        } else {\r\n            this._toolbar.option(this._toolbarOptions)\r\n        }\r\n    },\r\n    _columnOptionChanged: noop,\r\n    _handleDataChanged: function() {\r\n        if (this._requireReady) {\r\n            this.render()\r\n        }\r\n    },\r\n    init: function() {\r\n        this.callBase();\r\n        this.createAction(\"onToolbarPreparing\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    render: function() {\r\n        this._toolbarOptions = this._getToolbarOptions();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    setToolbarItemDisabled: function(name, optionValue) {\r\n        var toolbarInstance = this._toolbar;\r\n        if (toolbarInstance) {\r\n            var items = toolbarInstance.option(\"items\") || [];\r\n            var itemIndex = items.indexOf(items.filter((function(item) {\r\n                return item.name === name\r\n            }))[0]);\r\n            if (itemIndex >= 0) {\r\n                var itemOptionPrefix = \"items[\" + itemIndex + \"]\";\r\n                if (toolbarInstance.option(itemOptionPrefix + \".options\")) {\r\n                    toolbarInstance.option(itemOptionPrefix + \".options.disabled\", optionValue)\r\n                } else {\r\n                    toolbarInstance.option(itemOptionPrefix + \".disabled\", optionValue)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    updateToolbarDimensions: function() {\r\n        var _this$_toolbar;\r\n        null === (_this$_toolbar = this._toolbar) || void 0 === _this$_toolbar ? void 0 : _this$_toolbar.updateDimensions()\r\n    },\r\n    getHeaderPanel: function() {\r\n        return this.element()\r\n    },\r\n    getHeight: function() {\r\n        return this.getElementHeight()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"onToolbarPreparing\" === args.name) {\r\n            this._invalidate();\r\n            args.handled = true\r\n        }\r\n        if (\"toolbar\" === args.name) {\r\n            args.handled = true;\r\n            if (this._toolbar) {\r\n                var parts = getPathParts(args.fullName);\r\n                var optionName = args.fullName.replace(/^toolbar\\./, \"\");\r\n                if (1 === parts.length) {\r\n                    var toolbarOptions = this._getToolbarOptions();\r\n                    this._toolbar.option(toolbarOptions)\r\n                } else if (\"items\" === parts[1]) {\r\n                    if (2 === parts.length) {\r\n                        var _toolbarOptions = this._getToolbarOptions();\r\n                        this._toolbar.option(\"items\", _toolbarOptions.items)\r\n                    } else if (3 === parts.length) {\r\n                        var normalizedItem = this._normalizeToolbarItems(this._getToolbarItems(), args.value);\r\n                        this._toolbar.option(optionName, normalizedItem)\r\n                    } else if (parts.length >= 4) {\r\n                        this._toolbar.option(optionName, args.value)\r\n                    }\r\n                } else {\r\n                    this._toolbar.option(optionName, args.value)\r\n                }\r\n            }\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    isVisible: function() {\r\n        return this._toolbarOptions && this._toolbarOptions.visible\r\n    },\r\n    allowDragging: noop\r\n});\r\nexport var headerPanelModule = {\r\n    defaultOptions: function() {\r\n        return {}\r\n    },\r\n    views: {\r\n        headerPanel: HeaderPanel\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            resizing: {\r\n                _updateDimensionsCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this.getView(\"headerPanel\").updateToolbarDimensions()\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}