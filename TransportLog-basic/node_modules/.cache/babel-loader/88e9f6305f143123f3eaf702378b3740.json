{"ast":null,"code":"/**\r\n * DevExtreme (esm/renovation/ui/scheduler/appointment/layout.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"isAllDay\"];\nimport { createVNode, createComponentVNode } from \"inferno\";\nimport { InfernoEffect, InfernoWrapperComponent } from \"@devextreme/runtime/inferno\";\nimport { Appointment } from \"./appointment\";\nimport { OverflowIndicator } from \"./overflow_indicator/layout\";\nimport { combineClasses } from \"../../../utils/combine_classes\";\nimport { AppointmentsContext } from \"../appointments_context\";\nimport { subscribeToDXPointerDownEvent } from \"../../../utils/subscribe_to_event\";\nvar SELECTOR = {\n  appointment: \".dx-scheduler-appointment\",\n  allDay: \"dx-scheduler-all-day-appointment\",\n  collector: \"dx-scheduler-appointment-collector\"\n};\nexport var viewFunction = _ref => {\n  var {\n    appointments: appointments,\n    appointmentsContextValue: {\n      appointmentTemplate: appointmentTemplate,\n      groups: groups,\n      hideReducedIconTooltip: hideReducedIconTooltip,\n      onAppointmentClick: onAppointmentClick,\n      onAppointmentDoubleClick: onAppointmentDoubleClick,\n      overflowIndicatorTemplate: overflowIndicatorTemplate,\n      showReducedIconTooltip: showReducedIconTooltip\n    },\n    classes: classes,\n    layoutRef: layoutRef,\n    overflowIndicators: overflowIndicators\n  } = _ref;\n  return createVNode(1, \"div\", classes, [appointments.map((item, index) => createComponentVNode(2, Appointment, {\n    viewModel: item,\n    appointmentTemplate: appointmentTemplate,\n    index: index,\n    groups: groups,\n    onItemClick: onAppointmentClick,\n    onItemDoubleClick: onAppointmentDoubleClick,\n    showReducedIconTooltip: showReducedIconTooltip,\n    hideReducedIconTooltip: hideReducedIconTooltip\n  }, item.key)), overflowIndicators.map((item, index) => createComponentVNode(2, OverflowIndicator, {\n    viewModel: item,\n    groups: groups,\n    overflowIndicatorTemplate: overflowIndicatorTemplate,\n    \"data-index\": index\n  }, item.key))], 0, null, null, layoutRef);\n};\nexport var AppointmentLayoutProps = {\n  isAllDay: false\n};\nimport { createReRenderEffect } from \"@devextreme/runtime/inferno\";\nimport { createRef as infernoCreateRef } from \"inferno\";\nexport class AppointmentLayout extends InfernoWrapperComponent {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.layoutRef = infernoCreateRef();\n    this.__getterCache = {};\n    this.pointerEventsEffect = this.pointerEventsEffect.bind(this);\n    this.onAppointmentPointerDown = this.onAppointmentPointerDown.bind(this);\n  }\n\n  get appointmentsContextValue() {\n    if (\"AppointmentsContext\" in this.context) {\n      return this.context.AppointmentsContext;\n    }\n\n    return AppointmentsContext;\n  }\n\n  createEffects() {\n    return [new InfernoEffect(this.pointerEventsEffect, [this.appointmentsContextValue]), createReRenderEffect()];\n  }\n\n  updateEffects() {\n    var _this$_effects$;\n\n    null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.appointmentsContextValue]);\n  }\n\n  pointerEventsEffect() {\n    var disposePointerDown = subscribeToDXPointerDownEvent(this.layoutRef.current, e => this.onAppointmentPointerDown(e));\n    return () => {\n      disposePointerDown();\n    };\n  }\n\n  get classes() {\n    var {\n      isAllDay: isAllDay\n    } = this.props;\n    return combineClasses({\n      \"dx-scheduler-scrollable-appointments\": !isAllDay,\n      \"dx-scheduler-all-day-appointments\": isAllDay\n    });\n  }\n\n  get appointments() {\n    if (void 0 !== this.__getterCache.appointments) {\n      return this.__getterCache.appointments;\n    }\n\n    return this.__getterCache.appointments = (() => {\n      if (this.props.isAllDay) {\n        return this.appointmentsContextValue.viewModel.allDay;\n      }\n\n      return this.appointmentsContextValue.viewModel.regular;\n    })();\n  }\n\n  get overflowIndicators() {\n    if (void 0 !== this.__getterCache.overflowIndicators) {\n      return this.__getterCache.overflowIndicators;\n    }\n\n    return this.__getterCache.overflowIndicators = (() => {\n      if (this.props.isAllDay) {\n        return this.appointmentsContextValue.viewModel.allDayCompact;\n      }\n\n      return this.appointmentsContextValue.viewModel.regularCompact;\n    })();\n  }\n\n  onAppointmentPointerDown(e) {\n    var appointmentElement = e.target.closest(SELECTOR.appointment);\n\n    if (appointmentElement) {\n      var {\n        index: index\n      } = appointmentElement.dataset;\n      var focusedAppointmentIndex = index ? parseInt(index, 10) : -1;\n      var isAllDay = appointmentElement.classList.contains(SELECTOR.allDay);\n      var isCompact = appointmentElement.classList.contains(SELECTOR.collector);\n      var typeMap = {\n        allDayCompact: isAllDay && isCompact,\n        allDay: isAllDay && !isCompact,\n        regularCompact: !isAllDay && isCompact,\n        regular: !isAllDay && !isCompact\n      };\n      var appointmentType = Object.entries(typeMap).filter(item => item[1])[0][0];\n      this.appointmentsContextValue.updateFocusedAppointment(appointmentType, focusedAppointmentIndex);\n    }\n  }\n\n  get restAttributes() {\n    var _this$props = this.props,\n        restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    return restProps;\n  }\n\n  componentWillUpdate(nextProps, nextState, context) {\n    super.componentWillUpdate();\n\n    if (this.props.isAllDay !== nextProps.isAllDay || this.context.AppointmentsContext !== context.AppointmentsContext) {\n      this.__getterCache.appointments = void 0;\n    }\n\n    if (this.props.isAllDay !== nextProps.isAllDay || this.context.AppointmentsContext !== context.AppointmentsContext) {\n      this.__getterCache.overflowIndicators = void 0;\n    }\n  }\n\n  render() {\n    var props = this.props;\n    return viewFunction({\n      props: _extends({}, props),\n      layoutRef: this.layoutRef,\n      appointmentsContextValue: this.appointmentsContextValue,\n      classes: this.classes,\n      appointments: this.appointments,\n      overflowIndicators: this.overflowIndicators,\n      onAppointmentPointerDown: this.onAppointmentPointerDown,\n      restAttributes: this.restAttributes\n    });\n  }\n\n}\nAppointmentLayout.defaultProps = AppointmentLayoutProps;","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/devextreme/esm/renovation/ui/scheduler/appointment/layout.js"],"names":["_extends","_objectWithoutPropertiesLoose","_excluded","createVNode","createComponentVNode","InfernoEffect","InfernoWrapperComponent","Appointment","OverflowIndicator","combineClasses","AppointmentsContext","subscribeToDXPointerDownEvent","SELECTOR","appointment","allDay","collector","viewFunction","_ref","appointments","appointmentsContextValue","appointmentTemplate","groups","hideReducedIconTooltip","onAppointmentClick","onAppointmentDoubleClick","overflowIndicatorTemplate","showReducedIconTooltip","classes","layoutRef","overflowIndicators","map","item","index","viewModel","onItemClick","onItemDoubleClick","key","AppointmentLayoutProps","isAllDay","createReRenderEffect","createRef","infernoCreateRef","AppointmentLayout","constructor","props","state","__getterCache","pointerEventsEffect","bind","onAppointmentPointerDown","context","createEffects","updateEffects","_this$_effects$","_effects","update","disposePointerDown","current","e","regular","allDayCompact","regularCompact","appointmentElement","target","closest","dataset","focusedAppointmentIndex","parseInt","classList","contains","isCompact","typeMap","appointmentType","Object","entries","filter","updateFocusedAppointment","restAttributes","_this$props","restProps","componentWillUpdate","nextProps","nextState","render","defaultProps"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/renovation/ui/scheduler/appointment/layout.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"isAllDay\"];\r\nimport {\r\n    createVNode,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoWrapperComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    Appointment\r\n} from \"./appointment\";\r\nimport {\r\n    OverflowIndicator\r\n} from \"./overflow_indicator/layout\";\r\nimport {\r\n    combineClasses\r\n} from \"../../../utils/combine_classes\";\r\nimport {\r\n    AppointmentsContext\r\n} from \"../appointments_context\";\r\nimport {\r\n    subscribeToDXPointerDownEvent\r\n} from \"../../../utils/subscribe_to_event\";\r\nvar SELECTOR = {\r\n    appointment: \".dx-scheduler-appointment\",\r\n    allDay: \"dx-scheduler-all-day-appointment\",\r\n    collector: \"dx-scheduler-appointment-collector\"\r\n};\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        appointments: appointments,\r\n        appointmentsContextValue: {\r\n            appointmentTemplate: appointmentTemplate,\r\n            groups: groups,\r\n            hideReducedIconTooltip: hideReducedIconTooltip,\r\n            onAppointmentClick: onAppointmentClick,\r\n            onAppointmentDoubleClick: onAppointmentDoubleClick,\r\n            overflowIndicatorTemplate: overflowIndicatorTemplate,\r\n            showReducedIconTooltip: showReducedIconTooltip\r\n        },\r\n        classes: classes,\r\n        layoutRef: layoutRef,\r\n        overflowIndicators: overflowIndicators\r\n    } = _ref;\r\n    return createVNode(1, \"div\", classes, [appointments.map((item, index) => createComponentVNode(2, Appointment, {\r\n        viewModel: item,\r\n        appointmentTemplate: appointmentTemplate,\r\n        index: index,\r\n        groups: groups,\r\n        onItemClick: onAppointmentClick,\r\n        onItemDoubleClick: onAppointmentDoubleClick,\r\n        showReducedIconTooltip: showReducedIconTooltip,\r\n        hideReducedIconTooltip: hideReducedIconTooltip\r\n    }, item.key)), overflowIndicators.map((item, index) => createComponentVNode(2, OverflowIndicator, {\r\n        viewModel: item,\r\n        groups: groups,\r\n        overflowIndicatorTemplate: overflowIndicatorTemplate,\r\n        \"data-index\": index\r\n    }, item.key))], 0, null, null, layoutRef)\r\n};\r\nexport var AppointmentLayoutProps = {\r\n    isAllDay: false\r\n};\r\nimport {\r\n    createReRenderEffect\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nexport class AppointmentLayout extends InfernoWrapperComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.layoutRef = infernoCreateRef();\r\n        this.__getterCache = {};\r\n        this.pointerEventsEffect = this.pointerEventsEffect.bind(this);\r\n        this.onAppointmentPointerDown = this.onAppointmentPointerDown.bind(this)\r\n    }\r\n    get appointmentsContextValue() {\r\n        if (\"AppointmentsContext\" in this.context) {\r\n            return this.context.AppointmentsContext\r\n        }\r\n        return AppointmentsContext\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.pointerEventsEffect, [this.appointmentsContextValue]), createReRenderEffect()]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$;\r\n        null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.appointmentsContextValue])\r\n    }\r\n    pointerEventsEffect() {\r\n        var disposePointerDown = subscribeToDXPointerDownEvent(this.layoutRef.current, e => this.onAppointmentPointerDown(e));\r\n        return () => {\r\n            disposePointerDown()\r\n        }\r\n    }\r\n    get classes() {\r\n        var {\r\n            isAllDay: isAllDay\r\n        } = this.props;\r\n        return combineClasses({\r\n            \"dx-scheduler-scrollable-appointments\": !isAllDay,\r\n            \"dx-scheduler-all-day-appointments\": isAllDay\r\n        })\r\n    }\r\n    get appointments() {\r\n        if (void 0 !== this.__getterCache.appointments) {\r\n            return this.__getterCache.appointments\r\n        }\r\n        return this.__getterCache.appointments = (() => {\r\n            if (this.props.isAllDay) {\r\n                return this.appointmentsContextValue.viewModel.allDay\r\n            }\r\n            return this.appointmentsContextValue.viewModel.regular\r\n        })()\r\n    }\r\n    get overflowIndicators() {\r\n        if (void 0 !== this.__getterCache.overflowIndicators) {\r\n            return this.__getterCache.overflowIndicators\r\n        }\r\n        return this.__getterCache.overflowIndicators = (() => {\r\n            if (this.props.isAllDay) {\r\n                return this.appointmentsContextValue.viewModel.allDayCompact\r\n            }\r\n            return this.appointmentsContextValue.viewModel.regularCompact\r\n        })()\r\n    }\r\n    onAppointmentPointerDown(e) {\r\n        var appointmentElement = e.target.closest(SELECTOR.appointment);\r\n        if (appointmentElement) {\r\n            var {\r\n                index: index\r\n            } = appointmentElement.dataset;\r\n            var focusedAppointmentIndex = index ? parseInt(index, 10) : -1;\r\n            var isAllDay = appointmentElement.classList.contains(SELECTOR.allDay);\r\n            var isCompact = appointmentElement.classList.contains(SELECTOR.collector);\r\n            var typeMap = {\r\n                allDayCompact: isAllDay && isCompact,\r\n                allDay: isAllDay && !isCompact,\r\n                regularCompact: !isAllDay && isCompact,\r\n                regular: !isAllDay && !isCompact\r\n            };\r\n            var appointmentType = Object.entries(typeMap).filter(item => item[1])[0][0];\r\n            this.appointmentsContextValue.updateFocusedAppointment(appointmentType, focusedAppointmentIndex)\r\n        }\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    componentWillUpdate(nextProps, nextState, context) {\r\n        super.componentWillUpdate();\r\n        if (this.props.isAllDay !== nextProps.isAllDay || this.context.AppointmentsContext !== context.AppointmentsContext) {\r\n            this.__getterCache.appointments = void 0\r\n        }\r\n        if (this.props.isAllDay !== nextProps.isAllDay || this.context.AppointmentsContext !== context.AppointmentsContext) {\r\n            this.__getterCache.overflowIndicators = void 0\r\n        }\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            layoutRef: this.layoutRef,\r\n            appointmentsContextValue: this.appointmentsContextValue,\r\n            classes: this.classes,\r\n            appointments: this.appointments,\r\n            overflowIndicators: this.overflowIndicators,\r\n            onAppointmentPointerDown: this.onAppointmentPointerDown,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nAppointmentLayout.defaultProps = AppointmentLayoutProps;\r\n"]},"metadata":{},"sourceType":"module"}