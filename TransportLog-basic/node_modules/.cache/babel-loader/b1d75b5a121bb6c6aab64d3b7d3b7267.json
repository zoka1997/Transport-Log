{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/overlay/overlay_position_controller.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { isDefined, isString, isWindow, isEvent } from \"../../core/utils/type\";\nimport { extend } from \"../../core/utils/extend\";\nimport positionUtils from \"../../animation/position\";\nimport { resetPosition, move, locate } from \"../../animation/translator\";\nimport { getWindow } from \"../../core/utils/window\";\nimport swatch from \"../widget/swatch_container\";\nvar window = getWindow();\nvar OVERLAY_POSITION_ALIASES = {\n  top: {\n    my: \"top center\",\n    at: \"top center\"\n  },\n  bottom: {\n    my: \"bottom center\",\n    at: \"bottom center\"\n  },\n  right: {\n    my: \"right center\",\n    at: \"right center\"\n  },\n  left: {\n    my: \"left center\",\n    at: \"left center\"\n  },\n  center: {\n    my: \"center\",\n    at: \"center\"\n  },\n  \"right bottom\": {\n    my: \"right bottom\",\n    at: \"right bottom\"\n  },\n  \"right top\": {\n    my: \"right top\",\n    at: \"right top\"\n  },\n  \"left bottom\": {\n    my: \"left bottom\",\n    at: \"left bottom\"\n  },\n  \"left top\": {\n    my: \"left top\",\n    at: \"left top\"\n  }\n};\nvar OVERLAY_DEFAULT_BOUNDARY_OFFSET = {\n  h: 0,\n  v: 0\n};\n\nclass OverlayPositionController {\n  constructor(_ref) {\n    var {\n      position: position,\n      container: container,\n      visualContainer: visualContainer,\n      $root: $root,\n      $content: $content,\n      $wrapper: $wrapper,\n      onPositioned: onPositioned,\n      onVisualPositionChanged: onVisualPositionChanged,\n      restorePosition: restorePosition,\n      _fixWrapperPosition: _fixWrapperPosition\n    } = _ref;\n    this._props = {\n      position: position,\n      container: container,\n      visualContainer: visualContainer,\n      restorePosition: restorePosition,\n      onPositioned: onPositioned,\n      onVisualPositionChanged: onVisualPositionChanged,\n      _fixWrapperPosition: _fixWrapperPosition\n    };\n    this._$root = $root;\n    this._$content = $content;\n    this._$wrapper = $wrapper;\n    this._$markupContainer = void 0;\n    this._$visualContainer = void 0;\n    this._shouldRenderContentInitialPosition = true;\n    this._visualPosition = void 0;\n    this._initialPosition = void 0;\n    this._previousVisualPosition = void 0;\n    this.updateContainer(container);\n    this.updatePosition(position);\n    this.updateVisualContainer(visualContainer);\n  }\n\n  get $container() {\n    this.updateContainer();\n    return this._$markupContainer;\n  }\n\n  get $visualContainer() {\n    return this._$visualContainer;\n  }\n\n  get position() {\n    return this._position;\n  }\n\n  set fixWrapperPosition(fixWrapperPosition) {\n    this._props._fixWrapperPosition = fixWrapperPosition;\n    this.styleWrapperPosition();\n  }\n\n  set restorePosition(restorePosition) {\n    this._props.restorePosition = restorePosition;\n  }\n\n  restorePositionOnNextRender(value) {\n    this._shouldRenderContentInitialPosition = value || !this._visualPosition;\n  }\n\n  openingHandled() {\n    var shouldRestorePosition = this._props.restorePosition;\n    this.restorePositionOnNextRender(shouldRestorePosition);\n  }\n\n  updatePosition(positionProp) {\n    this._props.position = positionProp;\n    this._position = this._normalizePosition(positionProp);\n    this.updateVisualContainer();\n  }\n\n  updateContainer() {\n    var containerProp = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._props.container;\n    this._props.container = containerProp;\n    this._$markupContainer = containerProp ? $(containerProp) : swatch.getSwatchContainer(this._$root);\n    this.updateVisualContainer(this._props.visualContainer);\n  }\n\n  updateVisualContainer() {\n    var visualContainer = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._props.visualContainer;\n    this._props.visualContainer = visualContainer;\n    this._$visualContainer = this._getVisualContainer();\n  }\n\n  detectVisualPositionChange(event) {\n    this._updateVisualPositionValue();\n\n    this._raisePositionedEvents(event);\n  }\n\n  positionContent() {\n    if (this._shouldRenderContentInitialPosition) {\n      this._renderContentInitialPosition();\n    } else {\n      move(this._$content, this._visualPosition);\n      this.detectVisualPositionChange();\n    }\n  }\n\n  positionWrapper() {\n    if (this._$visualContainer) {\n      positionUtils.setup(this._$wrapper, {\n        my: \"top left\",\n        at: \"top left\",\n        of: this._$visualContainer\n      });\n    }\n  }\n\n  styleWrapperPosition() {\n    var useFixed = isWindow(this.$visualContainer.get(0)) || this._props._fixWrapperPosition;\n\n    var positionStyle = useFixed ? \"fixed\" : \"absolute\";\n\n    this._$wrapper.css(\"position\", positionStyle);\n  }\n\n  _updateVisualPositionValue() {\n    this._previousVisualPosition = this._visualPosition;\n    this._visualPosition = locate(this._$content);\n  }\n\n  _renderContentInitialPosition() {\n    this._renderBoundaryOffset();\n\n    resetPosition(this._$content);\n\n    var wrapperOverflow = this._$wrapper.css(\"overflow\");\n\n    this._$wrapper.css(\"overflow\", \"hidden\");\n\n    var resultPosition = positionUtils.setup(this._$content, this._position);\n\n    this._$wrapper.css(\"overflow\", wrapperOverflow);\n\n    this._initialPosition = resultPosition;\n    this.detectVisualPositionChange();\n  }\n\n  _raisePositionedEvents(event) {\n    var previousPosition = this._previousVisualPosition;\n    var newPosition = this._visualPosition;\n    var isVisualPositionChanged = (null === previousPosition || void 0 === previousPosition ? void 0 : previousPosition.top) !== newPosition.top || (null === previousPosition || void 0 === previousPosition ? void 0 : previousPosition.left) !== newPosition.left;\n\n    if (isVisualPositionChanged) {\n      this._props.onVisualPositionChanged({\n        previousPosition: previousPosition,\n        position: newPosition,\n        event: event\n      });\n    }\n\n    this._props.onPositioned({\n      position: this._initialPosition\n    });\n  }\n\n  _renderBoundaryOffset() {\n    var _this$_position;\n\n    var boundaryOffset = null !== (_this$_position = this._position) && void 0 !== _this$_position ? _this$_position : {\n      boundaryOffset: OVERLAY_DEFAULT_BOUNDARY_OFFSET\n    };\n\n    this._$content.css(\"margin\", \"\".concat(boundaryOffset.v, \"px \").concat(boundaryOffset.h, \"px\"));\n  }\n\n  _getVisualContainer() {\n    var _this$_props$position, _this$_props$position2;\n\n    var containerProp = this._props.container;\n    var visualContainerProp = this._props.visualContainer;\n    var positionOf = isEvent(null === (_this$_props$position = this._props.position) || void 0 === _this$_props$position ? void 0 : _this$_props$position.of) ? this._props.position.of.target : null === (_this$_props$position2 = this._props.position) || void 0 === _this$_props$position2 ? void 0 : _this$_props$position2.of;\n\n    if (visualContainerProp) {\n      return $(visualContainerProp);\n    }\n\n    if (containerProp) {\n      return $(containerProp);\n    }\n\n    if (positionOf) {\n      return $(positionOf);\n    }\n\n    return $(window);\n  }\n\n  _normalizePosition(positionProp) {\n    var defaultPositionConfig = {\n      boundaryOffset: OVERLAY_DEFAULT_BOUNDARY_OFFSET\n    };\n\n    if (isDefined(positionProp)) {\n      return extend(true, {}, defaultPositionConfig, this._positionToObject(positionProp));\n    } else {\n      return defaultPositionConfig;\n    }\n  }\n\n  _positionToObject(position) {\n    if (isString(position)) {\n      return extend({}, OVERLAY_POSITION_ALIASES[position]);\n    }\n\n    return position;\n  }\n\n}\n\nexport { OVERLAY_POSITION_ALIASES, OverlayPositionController };","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/devextreme/esm/ui/overlay/overlay_position_controller.js"],"names":["$","isDefined","isString","isWindow","isEvent","extend","positionUtils","resetPosition","move","locate","getWindow","swatch","window","OVERLAY_POSITION_ALIASES","top","my","at","bottom","right","left","center","OVERLAY_DEFAULT_BOUNDARY_OFFSET","h","v","OverlayPositionController","constructor","_ref","position","container","visualContainer","$root","$content","$wrapper","onPositioned","onVisualPositionChanged","restorePosition","_fixWrapperPosition","_props","_$root","_$content","_$wrapper","_$markupContainer","_$visualContainer","_shouldRenderContentInitialPosition","_visualPosition","_initialPosition","_previousVisualPosition","updateContainer","updatePosition","updateVisualContainer","$container","$visualContainer","_position","fixWrapperPosition","styleWrapperPosition","restorePositionOnNextRender","value","openingHandled","shouldRestorePosition","positionProp","_normalizePosition","containerProp","arguments","length","getSwatchContainer","_getVisualContainer","detectVisualPositionChange","event","_updateVisualPositionValue","_raisePositionedEvents","positionContent","_renderContentInitialPosition","positionWrapper","setup","of","useFixed","get","positionStyle","css","_renderBoundaryOffset","wrapperOverflow","resultPosition","previousPosition","newPosition","isVisualPositionChanged","_this$_position","boundaryOffset","concat","_this$_props$position","_this$_props$position2","visualContainerProp","positionOf","target","defaultPositionConfig","_positionToObject"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/overlay/overlay_position_controller.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    isDefined,\r\n    isString,\r\n    isWindow,\r\n    isEvent\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport positionUtils from \"../../animation/position\";\r\nimport {\r\n    resetPosition,\r\n    move,\r\n    locate\r\n} from \"../../animation/translator\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport swatch from \"../widget/swatch_container\";\r\nvar window = getWindow();\r\nvar OVERLAY_POSITION_ALIASES = {\r\n    top: {\r\n        my: \"top center\",\r\n        at: \"top center\"\r\n    },\r\n    bottom: {\r\n        my: \"bottom center\",\r\n        at: \"bottom center\"\r\n    },\r\n    right: {\r\n        my: \"right center\",\r\n        at: \"right center\"\r\n    },\r\n    left: {\r\n        my: \"left center\",\r\n        at: \"left center\"\r\n    },\r\n    center: {\r\n        my: \"center\",\r\n        at: \"center\"\r\n    },\r\n    \"right bottom\": {\r\n        my: \"right bottom\",\r\n        at: \"right bottom\"\r\n    },\r\n    \"right top\": {\r\n        my: \"right top\",\r\n        at: \"right top\"\r\n    },\r\n    \"left bottom\": {\r\n        my: \"left bottom\",\r\n        at: \"left bottom\"\r\n    },\r\n    \"left top\": {\r\n        my: \"left top\",\r\n        at: \"left top\"\r\n    }\r\n};\r\nvar OVERLAY_DEFAULT_BOUNDARY_OFFSET = {\r\n    h: 0,\r\n    v: 0\r\n};\r\nclass OverlayPositionController {\r\n    constructor(_ref) {\r\n        var {\r\n            position: position,\r\n            container: container,\r\n            visualContainer: visualContainer,\r\n            $root: $root,\r\n            $content: $content,\r\n            $wrapper: $wrapper,\r\n            onPositioned: onPositioned,\r\n            onVisualPositionChanged: onVisualPositionChanged,\r\n            restorePosition: restorePosition,\r\n            _fixWrapperPosition: _fixWrapperPosition\r\n        } = _ref;\r\n        this._props = {\r\n            position: position,\r\n            container: container,\r\n            visualContainer: visualContainer,\r\n            restorePosition: restorePosition,\r\n            onPositioned: onPositioned,\r\n            onVisualPositionChanged: onVisualPositionChanged,\r\n            _fixWrapperPosition: _fixWrapperPosition\r\n        };\r\n        this._$root = $root;\r\n        this._$content = $content;\r\n        this._$wrapper = $wrapper;\r\n        this._$markupContainer = void 0;\r\n        this._$visualContainer = void 0;\r\n        this._shouldRenderContentInitialPosition = true;\r\n        this._visualPosition = void 0;\r\n        this._initialPosition = void 0;\r\n        this._previousVisualPosition = void 0;\r\n        this.updateContainer(container);\r\n        this.updatePosition(position);\r\n        this.updateVisualContainer(visualContainer)\r\n    }\r\n    get $container() {\r\n        this.updateContainer();\r\n        return this._$markupContainer\r\n    }\r\n    get $visualContainer() {\r\n        return this._$visualContainer\r\n    }\r\n    get position() {\r\n        return this._position\r\n    }\r\n    set fixWrapperPosition(fixWrapperPosition) {\r\n        this._props._fixWrapperPosition = fixWrapperPosition;\r\n        this.styleWrapperPosition()\r\n    }\r\n    set restorePosition(restorePosition) {\r\n        this._props.restorePosition = restorePosition\r\n    }\r\n    restorePositionOnNextRender(value) {\r\n        this._shouldRenderContentInitialPosition = value || !this._visualPosition\r\n    }\r\n    openingHandled() {\r\n        var shouldRestorePosition = this._props.restorePosition;\r\n        this.restorePositionOnNextRender(shouldRestorePosition)\r\n    }\r\n    updatePosition(positionProp) {\r\n        this._props.position = positionProp;\r\n        this._position = this._normalizePosition(positionProp);\r\n        this.updateVisualContainer()\r\n    }\r\n    updateContainer() {\r\n        var containerProp = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._props.container;\r\n        this._props.container = containerProp;\r\n        this._$markupContainer = containerProp ? $(containerProp) : swatch.getSwatchContainer(this._$root);\r\n        this.updateVisualContainer(this._props.visualContainer)\r\n    }\r\n    updateVisualContainer() {\r\n        var visualContainer = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._props.visualContainer;\r\n        this._props.visualContainer = visualContainer;\r\n        this._$visualContainer = this._getVisualContainer()\r\n    }\r\n    detectVisualPositionChange(event) {\r\n        this._updateVisualPositionValue();\r\n        this._raisePositionedEvents(event)\r\n    }\r\n    positionContent() {\r\n        if (this._shouldRenderContentInitialPosition) {\r\n            this._renderContentInitialPosition()\r\n        } else {\r\n            move(this._$content, this._visualPosition);\r\n            this.detectVisualPositionChange()\r\n        }\r\n    }\r\n    positionWrapper() {\r\n        if (this._$visualContainer) {\r\n            positionUtils.setup(this._$wrapper, {\r\n                my: \"top left\",\r\n                at: \"top left\",\r\n                of: this._$visualContainer\r\n            })\r\n        }\r\n    }\r\n    styleWrapperPosition() {\r\n        var useFixed = isWindow(this.$visualContainer.get(0)) || this._props._fixWrapperPosition;\r\n        var positionStyle = useFixed ? \"fixed\" : \"absolute\";\r\n        this._$wrapper.css(\"position\", positionStyle)\r\n    }\r\n    _updateVisualPositionValue() {\r\n        this._previousVisualPosition = this._visualPosition;\r\n        this._visualPosition = locate(this._$content)\r\n    }\r\n    _renderContentInitialPosition() {\r\n        this._renderBoundaryOffset();\r\n        resetPosition(this._$content);\r\n        var wrapperOverflow = this._$wrapper.css(\"overflow\");\r\n        this._$wrapper.css(\"overflow\", \"hidden\");\r\n        var resultPosition = positionUtils.setup(this._$content, this._position);\r\n        this._$wrapper.css(\"overflow\", wrapperOverflow);\r\n        this._initialPosition = resultPosition;\r\n        this.detectVisualPositionChange()\r\n    }\r\n    _raisePositionedEvents(event) {\r\n        var previousPosition = this._previousVisualPosition;\r\n        var newPosition = this._visualPosition;\r\n        var isVisualPositionChanged = (null === previousPosition || void 0 === previousPosition ? void 0 : previousPosition.top) !== newPosition.top || (null === previousPosition || void 0 === previousPosition ? void 0 : previousPosition.left) !== newPosition.left;\r\n        if (isVisualPositionChanged) {\r\n            this._props.onVisualPositionChanged({\r\n                previousPosition: previousPosition,\r\n                position: newPosition,\r\n                event: event\r\n            })\r\n        }\r\n        this._props.onPositioned({\r\n            position: this._initialPosition\r\n        })\r\n    }\r\n    _renderBoundaryOffset() {\r\n        var _this$_position;\r\n        var boundaryOffset = null !== (_this$_position = this._position) && void 0 !== _this$_position ? _this$_position : {\r\n            boundaryOffset: OVERLAY_DEFAULT_BOUNDARY_OFFSET\r\n        };\r\n        this._$content.css(\"margin\", \"\".concat(boundaryOffset.v, \"px \").concat(boundaryOffset.h, \"px\"))\r\n    }\r\n    _getVisualContainer() {\r\n        var _this$_props$position, _this$_props$position2;\r\n        var containerProp = this._props.container;\r\n        var visualContainerProp = this._props.visualContainer;\r\n        var positionOf = isEvent(null === (_this$_props$position = this._props.position) || void 0 === _this$_props$position ? void 0 : _this$_props$position.of) ? this._props.position.of.target : null === (_this$_props$position2 = this._props.position) || void 0 === _this$_props$position2 ? void 0 : _this$_props$position2.of;\r\n        if (visualContainerProp) {\r\n            return $(visualContainerProp)\r\n        }\r\n        if (containerProp) {\r\n            return $(containerProp)\r\n        }\r\n        if (positionOf) {\r\n            return $(positionOf)\r\n        }\r\n        return $(window)\r\n    }\r\n    _normalizePosition(positionProp) {\r\n        var defaultPositionConfig = {\r\n            boundaryOffset: OVERLAY_DEFAULT_BOUNDARY_OFFSET\r\n        };\r\n        if (isDefined(positionProp)) {\r\n            return extend(true, {}, defaultPositionConfig, this._positionToObject(positionProp))\r\n        } else {\r\n            return defaultPositionConfig\r\n        }\r\n    }\r\n    _positionToObject(position) {\r\n        if (isString(position)) {\r\n            return extend({}, OVERLAY_POSITION_ALIASES[position])\r\n        }\r\n        return position\r\n    }\r\n}\r\nexport {\r\n    OVERLAY_POSITION_ALIASES,\r\n    OverlayPositionController\r\n};\r\n"]},"metadata":{},"sourceType":"module"}