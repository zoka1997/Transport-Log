{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/tabs.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth, getOuterWidth } from \"../core/utils/size\";\nimport $ from \"../core/renderer\";\nimport eventsEngine from \"../events/core/events_engine\";\nimport devices from \"../core/devices\";\nimport registerComponent from \"../core/component_registrator\";\nimport Button from \"./button\";\nimport { render } from \"./widget/utils.ink_ripple\";\nimport { addNamespace } from \"../events/utils/index\";\nimport { extend } from \"../core/utils/extend\";\nimport { isPlainObject } from \"../core/utils/type\";\nimport pointerEvents from \"../events/pointer\";\nimport { each } from \"../core/utils/iterator\";\nimport TabsItem from \"./tabs/item\";\nimport { TABS_EXPANDED_CLASS } from \"./tabs/constants\";\nimport { isMaterial, current as currentTheme } from \"./themes\";\nimport holdEvent from \"../events/hold\";\nimport Scrollable from \"./scroll_view/ui.scrollable\";\nimport { default as CollectionWidget } from \"./collection/ui.collection_widget.live_update\";\nimport { getImageContainer } from \"../core/utils/icon\";\nimport { BindableTemplate } from \"../core/templates/bindable_template\";\nimport { Deferred, when } from \"../core/utils/deferred\";\nimport { isReachedLeft, isReachedRight } from \"../renovation/ui/scroll_view/utils/get_boundary_props\";\nimport { getScrollLeftMax } from \"../renovation/ui/scroll_view/utils/get_scroll_left_max\";\nvar TABS_CLASS = \"dx-tabs\";\nvar TABS_WRAPPER_CLASS = \"dx-tabs-wrapper\";\nvar TABS_STRETCHED_CLASS = \"dx-tabs-stretched\";\nvar TABS_SCROLLABLE_CLASS = \"dx-tabs-scrollable\";\nvar TABS_NAV_BUTTONS_CLASS = \"dx-tabs-nav-buttons\";\nvar OVERFLOW_HIDDEN_CLASS = \"dx-overflow-hidden\";\nvar TABS_ITEM_CLASS = \"dx-tab\";\nvar TABS_ITEM_SELECTED_CLASS = \"dx-tab-selected\";\nvar TABS_NAV_BUTTON_CLASS = \"dx-tabs-nav-button\";\nvar TABS_LEFT_NAV_BUTTON_CLASS = \"dx-tabs-nav-button-left\";\nvar TABS_RIGHT_NAV_BUTTON_CLASS = \"dx-tabs-nav-button-right\";\nvar TABS_ITEM_TEXT_CLASS = \"dx-tab-text\";\nvar TABS_ITEM_DATA_KEY = \"dxTabData\";\nvar BUTTON_NEXT_ICON = \"chevronnext\";\nvar BUTTON_PREV_ICON = \"chevronprev\";\nvar FEEDBACK_HIDE_TIMEOUT = 100;\nvar FEEDBACK_DURATION_INTERVAL = 5;\nvar FEEDBACK_SCROLL_TIMEOUT = 300;\nvar TAB_OFFSET = 30;\nvar Tabs = CollectionWidget.inherit({\n  _activeStateUnit: \".\" + TABS_ITEM_CLASS,\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      hoverStateEnabled: true,\n      showNavButtons: true,\n      scrollByContent: true,\n      scrollingEnabled: true,\n      selectionMode: \"single\",\n      activeStateEnabled: true,\n      selectionRequired: false,\n      selectOnFocus: true,\n      loopItemFocus: false,\n      useInkRipple: false,\n      badgeExpr: function (data) {\n        return data ? data.badge : void 0;\n      },\n      _itemAttributes: {\n        role: \"tab\"\n      }\n    });\n  },\n  _defaultOptionsRules: function () {\n    var themeName = currentTheme();\n    return this.callBase().concat([{\n      device: function () {\n        return \"desktop\" !== devices.real().deviceType;\n      },\n      options: {\n        showNavButtons: false\n      }\n    }, {\n      device: {\n        deviceType: \"desktop\"\n      },\n      options: {\n        scrollByContent: false\n      }\n    }, {\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function () {\n        return isMaterial(themeName);\n      },\n      options: {\n        useInkRipple: true,\n        selectOnFocus: false\n      }\n    }]);\n  },\n  _init: function () {\n    this.callBase();\n    this.setAria(\"role\", \"tablist\");\n    this.$element().addClass(TABS_CLASS);\n\n    this._renderWrapper();\n\n    this._renderMultiple();\n\n    this._feedbackHideTimeout = FEEDBACK_HIDE_TIMEOUT;\n  },\n  _initTemplates: function () {\n    this.callBase();\n\n    this._templateManager.addDefaultTemplates({\n      item: new BindableTemplate(function ($container, data) {\n        if (isPlainObject(data)) {\n          this._prepareDefaultItemTemplate(data, $container);\n        } else {\n          $container.text(String(data));\n        }\n\n        var $iconElement = getImageContainer(data.icon);\n        $iconElement && $iconElement.prependTo($container);\n        $container.wrapInner($(\"<span>\").addClass(TABS_ITEM_TEXT_CLASS));\n      }.bind(this), [\"text\", \"html\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\n    });\n  },\n  _createItemByTemplate: function (itemTemplate, renderArgs) {\n    var {\n      itemData: itemData,\n      container: container,\n      index: index\n    } = renderArgs;\n    this._deferredTemplates[index] = new Deferred();\n    return itemTemplate.render({\n      model: itemData,\n      container: container,\n      index: index,\n      onRendered: () => this._deferredTemplates[index].resolve()\n    });\n  },\n  _itemClass: function () {\n    return TABS_ITEM_CLASS;\n  },\n  _selectedItemClass: function () {\n    return TABS_ITEM_SELECTED_CLASS;\n  },\n  _itemDataKey: function () {\n    return TABS_ITEM_DATA_KEY;\n  },\n  _initMarkup: function () {\n    this._deferredTemplates = [];\n    this.callBase();\n    this.option(\"useInkRipple\") && this._renderInkRipple();\n    this.$element().addClass(OVERFLOW_HIDDEN_CLASS);\n  },\n  _render: function () {\n    this.callBase();\n\n    this._deferRenderScrolling();\n  },\n\n  _deferRenderScrolling() {\n    when.apply(this, this._deferredTemplates).done(() => this._renderScrolling());\n  },\n\n  _renderScrolling: function () {\n    var removeClasses = [TABS_STRETCHED_CLASS, TABS_EXPANDED_CLASS, OVERFLOW_HIDDEN_CLASS];\n    this.$element().removeClass(removeClasses.join(\" \"));\n\n    if (this.option(\"scrollingEnabled\") && this._isItemsWidthExceeded()) {\n      if (!this._scrollable) {\n        this._renderScrollable();\n\n        this._renderNavButtons();\n      }\n\n      var scrollable = this.getScrollable();\n      scrollable.update();\n\n      if (this.option(\"rtlEnabled\")) {\n        var maxLeftOffset = getScrollLeftMax($(this.getScrollable().container()).get(0));\n        scrollable.scrollTo({\n          left: maxLeftOffset\n        });\n      }\n\n      this._updateNavButtonsVisibility();\n\n      this._scrollToItem(this.option(\"selectedItem\"));\n    }\n\n    if (!(this.option(\"scrollingEnabled\") && this._isItemsWidthExceeded())) {\n      this._cleanScrolling();\n\n      if (this._needStretchItems() && !this._isItemsWidthExceeded()) {\n        this.$element().addClass(TABS_STRETCHED_CLASS);\n      }\n\n      this.$element().removeClass(TABS_NAV_BUTTONS_CLASS).addClass(TABS_EXPANDED_CLASS);\n    }\n  },\n  _isItemsWidthExceeded: function () {\n    var tabItemsWidth = this._getSummaryItemsWidth(this._getVisibleItems(), true);\n\n    return tabItemsWidth - 1 > getWidth(this.$element());\n  },\n  _needStretchItems: function () {\n    var $visibleItems = this._getVisibleItems();\n\n    var elementWidth = getWidth(this.$element());\n    var itemsWidth = [];\n    each($visibleItems, (_, item) => {\n      itemsWidth.push(getOuterWidth(item, true));\n    });\n    var maxTabWidth = Math.max.apply(null, itemsWidth);\n    return maxTabWidth > elementWidth / $visibleItems.length;\n  },\n  _cleanNavButtons: function () {\n    if (!this._leftButton || !this._rightButton) {\n      return;\n    }\n\n    this._leftButton.$element().remove();\n\n    this._rightButton.$element().remove();\n\n    this._leftButton = null;\n    this._rightButton = null;\n  },\n  _cleanScrolling: function () {\n    if (!this._scrollable) {\n      return;\n    }\n\n    this._$wrapper.appendTo(this.$element());\n\n    this._scrollable.$element().remove();\n\n    this._scrollable = null;\n\n    this._cleanNavButtons();\n  },\n  _renderInkRipple: function () {\n    this._inkRipple = render();\n  },\n  _toggleActiveState: function ($element, value, e) {\n    this.callBase.apply(this, arguments);\n\n    if (!this._inkRipple) {\n      return;\n    }\n\n    var config = {\n      element: $element,\n      event: e\n    };\n\n    if (value) {\n      this._inkRipple.showWave(config);\n    } else {\n      this._inkRipple.hideWave(config);\n    }\n  },\n  _renderMultiple: function () {\n    if (\"multiple\" === this.option(\"selectionMode\")) {\n      this.option(\"selectOnFocus\", false);\n    }\n  },\n  _renderWrapper: function () {\n    this._$wrapper = $(\"<div>\").addClass(TABS_WRAPPER_CLASS);\n    this.$element().append(this._$wrapper);\n  },\n  _itemContainer: function () {\n    return this._$wrapper;\n  },\n  _renderScrollable: function () {\n    var $itemContainer = this.$element().wrapInner($(\"<div>\").addClass(TABS_SCROLLABLE_CLASS)).children();\n    this._scrollable = this._createComponent($itemContainer, Scrollable, {\n      direction: \"horizontal\",\n      showScrollbar: \"never\",\n      useKeyboard: false,\n      useNative: false,\n      scrollByContent: this.option(\"scrollByContent\"),\n      onScroll: () => {\n        this._updateNavButtonsVisibility();\n      }\n    });\n    this.$element().append(this._scrollable.$element());\n  },\n  _scrollToItem: function (itemData) {\n    if (!this._scrollable) {\n      return;\n    }\n\n    var $item = this._editStrategy.getItemElement(itemData);\n\n    this._scrollable.scrollToElement($item);\n  },\n  _renderNavButtons: function () {\n    this.$element().toggleClass(TABS_NAV_BUTTONS_CLASS, this.option(\"showNavButtons\"));\n\n    if (!this.option(\"showNavButtons\")) {\n      return;\n    }\n\n    var rtlEnabled = this.option(\"rtlEnabled\");\n    this._leftButton = this._createNavButton(-TAB_OFFSET, rtlEnabled ? BUTTON_NEXT_ICON : BUTTON_PREV_ICON);\n\n    var $leftButton = this._leftButton.$element();\n\n    $leftButton.addClass(TABS_LEFT_NAV_BUTTON_CLASS);\n    this.$element().prepend($leftButton);\n    this._rightButton = this._createNavButton(TAB_OFFSET, rtlEnabled ? BUTTON_PREV_ICON : BUTTON_NEXT_ICON);\n\n    var $rightButton = this._rightButton.$element();\n\n    $rightButton.addClass(TABS_RIGHT_NAV_BUTTON_CLASS);\n    this.$element().append($rightButton);\n  },\n  _updateNavButtonsVisibility: function () {\n    var scrollable = this.getScrollable();\n    this._leftButton && this._leftButton.option(\"disabled\", isReachedLeft(scrollable.scrollLeft(), 1));\n    this._rightButton && this._rightButton.option(\"disabled\", isReachedRight($(scrollable.container()).get(0), scrollable.scrollLeft(), 1));\n  },\n  _updateScrollPosition: function (offset, duration) {\n    this._scrollable.update();\n\n    this._scrollable.scrollBy(offset / duration);\n  },\n  _createNavButton: function (offset, icon) {\n    var that = this;\n\n    var holdAction = that._createAction(function () {\n      that._holdInterval = setInterval(function () {\n        that._updateScrollPosition(offset, FEEDBACK_DURATION_INTERVAL);\n      }, FEEDBACK_DURATION_INTERVAL);\n    });\n\n    var holdEventName = addNamespace(holdEvent.name, \"dxNavButton\");\n    var pointerUpEventName = addNamespace(pointerEvents.up, \"dxNavButton\");\n    var pointerOutEventName = addNamespace(pointerEvents.out, \"dxNavButton\");\n\n    var navButton = this._createComponent($(\"<div>\").addClass(TABS_NAV_BUTTON_CLASS), Button, {\n      focusStateEnabled: false,\n      icon: icon,\n      onClick: function () {\n        that._updateScrollPosition(offset, 1);\n      },\n      integrationOptions: {}\n    });\n\n    var $navButton = navButton.$element();\n    eventsEngine.on($navButton, holdEventName, {\n      timeout: FEEDBACK_SCROLL_TIMEOUT\n    }, function (e) {\n      holdAction({\n        event: e\n      });\n    }.bind(this));\n    eventsEngine.on($navButton, pointerUpEventName, function () {\n      that._clearInterval();\n    });\n    eventsEngine.on($navButton, pointerOutEventName, function () {\n      that._clearInterval();\n    });\n    return navButton;\n  },\n  _clearInterval: function () {\n    if (this._holdInterval) {\n      clearInterval(this._holdInterval);\n    }\n  },\n  _updateSelection: function (addedSelection) {\n    this._scrollable && this._scrollable.scrollToElement(this.itemElements().eq(addedSelection[0]), {\n      left: 1,\n      right: 1\n    });\n  },\n  _visibilityChanged: function (visible) {\n    if (visible) {\n      this._dimensionChanged();\n    }\n  },\n  _dimensionChanged: function () {\n    this._renderScrolling();\n  },\n  _itemSelectHandler: function (e) {\n    if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\n      return;\n    }\n\n    this.callBase(e);\n  },\n  _clean: function () {\n    this._deferredTemplates = [];\n\n    this._cleanScrolling();\n\n    this.callBase();\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"useInkRipple\":\n      case \"scrollingEnabled\":\n      case \"showNavButtons\":\n        this._invalidate();\n\n        break;\n\n      case \"scrollByContent\":\n        this._scrollable && this._scrollable.option(args.name, args.value);\n        break;\n\n      case \"width\":\n        this.callBase(args);\n\n        this._dimensionChanged();\n\n        break;\n\n      case \"selectionMode\":\n        this._renderMultiple();\n\n        this.callBase(args);\n        break;\n\n      case \"badgeExpr\":\n        this._invalidate();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n\n  _afterItemElementInserted() {\n    this.callBase();\n\n    this._deferRenderScrolling();\n  },\n\n  _afterItemElementDeleted($item, deletedActionArgs) {\n    this.callBase($item, deletedActionArgs);\n\n    this._renderScrolling();\n  },\n\n  getScrollable() {\n    return this._scrollable;\n  }\n\n});\nTabs.ItemClass = TabsItem;\nregisterComponent(\"dxTabs\", Tabs);\nexport default Tabs;","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/devextreme/esm/ui/tabs.js"],"names":["getWidth","getOuterWidth","$","eventsEngine","devices","registerComponent","Button","render","addNamespace","extend","isPlainObject","pointerEvents","each","TabsItem","TABS_EXPANDED_CLASS","isMaterial","current","currentTheme","holdEvent","Scrollable","default","CollectionWidget","getImageContainer","BindableTemplate","Deferred","when","isReachedLeft","isReachedRight","getScrollLeftMax","TABS_CLASS","TABS_WRAPPER_CLASS","TABS_STRETCHED_CLASS","TABS_SCROLLABLE_CLASS","TABS_NAV_BUTTONS_CLASS","OVERFLOW_HIDDEN_CLASS","TABS_ITEM_CLASS","TABS_ITEM_SELECTED_CLASS","TABS_NAV_BUTTON_CLASS","TABS_LEFT_NAV_BUTTON_CLASS","TABS_RIGHT_NAV_BUTTON_CLASS","TABS_ITEM_TEXT_CLASS","TABS_ITEM_DATA_KEY","BUTTON_NEXT_ICON","BUTTON_PREV_ICON","FEEDBACK_HIDE_TIMEOUT","FEEDBACK_DURATION_INTERVAL","FEEDBACK_SCROLL_TIMEOUT","TAB_OFFSET","Tabs","inherit","_activeStateUnit","_getDefaultOptions","callBase","hoverStateEnabled","showNavButtons","scrollByContent","scrollingEnabled","selectionMode","activeStateEnabled","selectionRequired","selectOnFocus","loopItemFocus","useInkRipple","badgeExpr","data","badge","_itemAttributes","role","_defaultOptionsRules","themeName","concat","device","real","deviceType","options","isSimulator","focusStateEnabled","_init","setAria","$element","addClass","_renderWrapper","_renderMultiple","_feedbackHideTimeout","_initTemplates","_templateManager","addDefaultTemplates","item","$container","_prepareDefaultItemTemplate","text","String","$iconElement","icon","prependTo","wrapInner","bind","option","_createItemByTemplate","itemTemplate","renderArgs","itemData","container","index","_deferredTemplates","model","onRendered","resolve","_itemClass","_selectedItemClass","_itemDataKey","_initMarkup","_renderInkRipple","_render","_deferRenderScrolling","apply","done","_renderScrolling","removeClasses","removeClass","join","_isItemsWidthExceeded","_scrollable","_renderScrollable","_renderNavButtons","scrollable","getScrollable","update","maxLeftOffset","get","scrollTo","left","_updateNavButtonsVisibility","_scrollToItem","_cleanScrolling","_needStretchItems","tabItemsWidth","_getSummaryItemsWidth","_getVisibleItems","$visibleItems","elementWidth","itemsWidth","_","push","maxTabWidth","Math","max","length","_cleanNavButtons","_leftButton","_rightButton","remove","_$wrapper","appendTo","_inkRipple","_toggleActiveState","value","e","arguments","config","element","event","showWave","hideWave","append","_itemContainer","$itemContainer","children","_createComponent","direction","showScrollbar","useKeyboard","useNative","onScroll","$item","_editStrategy","getItemElement","scrollToElement","toggleClass","rtlEnabled","_createNavButton","$leftButton","prepend","$rightButton","scrollLeft","_updateScrollPosition","offset","duration","scrollBy","that","holdAction","_createAction","_holdInterval","setInterval","holdEventName","name","pointerUpEventName","up","pointerOutEventName","out","navButton","onClick","integrationOptions","$navButton","on","timeout","_clearInterval","clearInterval","_updateSelection","addedSelection","itemElements","eq","right","_visibilityChanged","visible","_dimensionChanged","_itemSelectHandler","isItemSelected","currentTarget","_clean","_optionChanged","args","_invalidate","_afterItemElementInserted","_afterItemElementDeleted","deletedActionArgs","ItemClass"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/tabs.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport Button from \"./button\";\r\nimport {\r\n    render\r\n} from \"./widget/utils.ink_ripple\";\r\nimport {\r\n    addNamespace\r\n} from \"../events/utils/index\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    isPlainObject\r\n} from \"../core/utils/type\";\r\nimport pointerEvents from \"../events/pointer\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport TabsItem from \"./tabs/item\";\r\nimport {\r\n    TABS_EXPANDED_CLASS\r\n} from \"./tabs/constants\";\r\nimport {\r\n    isMaterial,\r\n    current as currentTheme\r\n} from \"./themes\";\r\nimport holdEvent from \"../events/hold\";\r\nimport Scrollable from \"./scroll_view/ui.scrollable\";\r\nimport {\r\n    default as CollectionWidget\r\n} from \"./collection/ui.collection_widget.live_update\";\r\nimport {\r\n    getImageContainer\r\n} from \"../core/utils/icon\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    isReachedLeft,\r\n    isReachedRight\r\n} from \"../renovation/ui/scroll_view/utils/get_boundary_props\";\r\nimport {\r\n    getScrollLeftMax\r\n} from \"../renovation/ui/scroll_view/utils/get_scroll_left_max\";\r\nvar TABS_CLASS = \"dx-tabs\";\r\nvar TABS_WRAPPER_CLASS = \"dx-tabs-wrapper\";\r\nvar TABS_STRETCHED_CLASS = \"dx-tabs-stretched\";\r\nvar TABS_SCROLLABLE_CLASS = \"dx-tabs-scrollable\";\r\nvar TABS_NAV_BUTTONS_CLASS = \"dx-tabs-nav-buttons\";\r\nvar OVERFLOW_HIDDEN_CLASS = \"dx-overflow-hidden\";\r\nvar TABS_ITEM_CLASS = \"dx-tab\";\r\nvar TABS_ITEM_SELECTED_CLASS = \"dx-tab-selected\";\r\nvar TABS_NAV_BUTTON_CLASS = \"dx-tabs-nav-button\";\r\nvar TABS_LEFT_NAV_BUTTON_CLASS = \"dx-tabs-nav-button-left\";\r\nvar TABS_RIGHT_NAV_BUTTON_CLASS = \"dx-tabs-nav-button-right\";\r\nvar TABS_ITEM_TEXT_CLASS = \"dx-tab-text\";\r\nvar TABS_ITEM_DATA_KEY = \"dxTabData\";\r\nvar BUTTON_NEXT_ICON = \"chevronnext\";\r\nvar BUTTON_PREV_ICON = \"chevronprev\";\r\nvar FEEDBACK_HIDE_TIMEOUT = 100;\r\nvar FEEDBACK_DURATION_INTERVAL = 5;\r\nvar FEEDBACK_SCROLL_TIMEOUT = 300;\r\nvar TAB_OFFSET = 30;\r\nvar Tabs = CollectionWidget.inherit({\r\n    _activeStateUnit: \".\" + TABS_ITEM_CLASS,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            showNavButtons: true,\r\n            scrollByContent: true,\r\n            scrollingEnabled: true,\r\n            selectionMode: \"single\",\r\n            activeStateEnabled: true,\r\n            selectionRequired: false,\r\n            selectOnFocus: true,\r\n            loopItemFocus: false,\r\n            useInkRipple: false,\r\n            badgeExpr: function(data) {\r\n                return data ? data.badge : void 0\r\n            },\r\n            _itemAttributes: {\r\n                role: \"tab\"\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = currentTheme();\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" !== devices.real().deviceType\r\n            },\r\n            options: {\r\n                showNavButtons: false\r\n            }\r\n        }, {\r\n            device: {\r\n                deviceType: \"desktop\"\r\n            },\r\n            options: {\r\n                scrollByContent: false\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial(themeName)\r\n            },\r\n            options: {\r\n                useInkRipple: true,\r\n                selectOnFocus: false\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.setAria(\"role\", \"tablist\");\r\n        this.$element().addClass(TABS_CLASS);\r\n        this._renderWrapper();\r\n        this._renderMultiple();\r\n        this._feedbackHideTimeout = FEEDBACK_HIDE_TIMEOUT\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new BindableTemplate(function($container, data) {\r\n                if (isPlainObject(data)) {\r\n                    this._prepareDefaultItemTemplate(data, $container)\r\n                } else {\r\n                    $container.text(String(data))\r\n                }\r\n                var $iconElement = getImageContainer(data.icon);\r\n                $iconElement && $iconElement.prependTo($container);\r\n                $container.wrapInner($(\"<span>\").addClass(TABS_ITEM_TEXT_CLASS))\r\n            }.bind(this), [\"text\", \"html\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _createItemByTemplate: function(itemTemplate, renderArgs) {\r\n        var {\r\n            itemData: itemData,\r\n            container: container,\r\n            index: index\r\n        } = renderArgs;\r\n        this._deferredTemplates[index] = new Deferred;\r\n        return itemTemplate.render({\r\n            model: itemData,\r\n            container: container,\r\n            index: index,\r\n            onRendered: () => this._deferredTemplates[index].resolve()\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return TABS_ITEM_CLASS\r\n    },\r\n    _selectedItemClass: function() {\r\n        return TABS_ITEM_SELECTED_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return TABS_ITEM_DATA_KEY\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredTemplates = [];\r\n        this.callBase();\r\n        this.option(\"useInkRipple\") && this._renderInkRipple();\r\n        this.$element().addClass(OVERFLOW_HIDDEN_CLASS)\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._deferRenderScrolling()\r\n    },\r\n    _deferRenderScrolling() {\r\n        when.apply(this, this._deferredTemplates).done(() => this._renderScrolling())\r\n    },\r\n    _renderScrolling: function() {\r\n        var removeClasses = [TABS_STRETCHED_CLASS, TABS_EXPANDED_CLASS, OVERFLOW_HIDDEN_CLASS];\r\n        this.$element().removeClass(removeClasses.join(\" \"));\r\n        if (this.option(\"scrollingEnabled\") && this._isItemsWidthExceeded()) {\r\n            if (!this._scrollable) {\r\n                this._renderScrollable();\r\n                this._renderNavButtons()\r\n            }\r\n            var scrollable = this.getScrollable();\r\n            scrollable.update();\r\n            if (this.option(\"rtlEnabled\")) {\r\n                var maxLeftOffset = getScrollLeftMax($(this.getScrollable().container()).get(0));\r\n                scrollable.scrollTo({\r\n                    left: maxLeftOffset\r\n                })\r\n            }\r\n            this._updateNavButtonsVisibility();\r\n            this._scrollToItem(this.option(\"selectedItem\"))\r\n        }\r\n        if (!(this.option(\"scrollingEnabled\") && this._isItemsWidthExceeded())) {\r\n            this._cleanScrolling();\r\n            if (this._needStretchItems() && !this._isItemsWidthExceeded()) {\r\n                this.$element().addClass(TABS_STRETCHED_CLASS)\r\n            }\r\n            this.$element().removeClass(TABS_NAV_BUTTONS_CLASS).addClass(TABS_EXPANDED_CLASS)\r\n        }\r\n    },\r\n    _isItemsWidthExceeded: function() {\r\n        var tabItemsWidth = this._getSummaryItemsWidth(this._getVisibleItems(), true);\r\n        return tabItemsWidth - 1 > getWidth(this.$element())\r\n    },\r\n    _needStretchItems: function() {\r\n        var $visibleItems = this._getVisibleItems();\r\n        var elementWidth = getWidth(this.$element());\r\n        var itemsWidth = [];\r\n        each($visibleItems, (_, item) => {\r\n            itemsWidth.push(getOuterWidth(item, true))\r\n        });\r\n        var maxTabWidth = Math.max.apply(null, itemsWidth);\r\n        return maxTabWidth > elementWidth / $visibleItems.length\r\n    },\r\n    _cleanNavButtons: function() {\r\n        if (!this._leftButton || !this._rightButton) {\r\n            return\r\n        }\r\n        this._leftButton.$element().remove();\r\n        this._rightButton.$element().remove();\r\n        this._leftButton = null;\r\n        this._rightButton = null\r\n    },\r\n    _cleanScrolling: function() {\r\n        if (!this._scrollable) {\r\n            return\r\n        }\r\n        this._$wrapper.appendTo(this.$element());\r\n        this._scrollable.$element().remove();\r\n        this._scrollable = null;\r\n        this._cleanNavButtons()\r\n    },\r\n    _renderInkRipple: function() {\r\n        this._inkRipple = render()\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this.callBase.apply(this, arguments);\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: $element,\r\n            event: e\r\n        };\r\n        if (value) {\r\n            this._inkRipple.showWave(config)\r\n        } else {\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    },\r\n    _renderMultiple: function() {\r\n        if (\"multiple\" === this.option(\"selectionMode\")) {\r\n            this.option(\"selectOnFocus\", false)\r\n        }\r\n    },\r\n    _renderWrapper: function() {\r\n        this._$wrapper = $(\"<div>\").addClass(TABS_WRAPPER_CLASS);\r\n        this.$element().append(this._$wrapper)\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$wrapper\r\n    },\r\n    _renderScrollable: function() {\r\n        var $itemContainer = this.$element().wrapInner($(\"<div>\").addClass(TABS_SCROLLABLE_CLASS)).children();\r\n        this._scrollable = this._createComponent($itemContainer, Scrollable, {\r\n            direction: \"horizontal\",\r\n            showScrollbar: \"never\",\r\n            useKeyboard: false,\r\n            useNative: false,\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            onScroll: () => {\r\n                this._updateNavButtonsVisibility()\r\n            }\r\n        });\r\n        this.$element().append(this._scrollable.$element())\r\n    },\r\n    _scrollToItem: function(itemData) {\r\n        if (!this._scrollable) {\r\n            return\r\n        }\r\n        var $item = this._editStrategy.getItemElement(itemData);\r\n        this._scrollable.scrollToElement($item)\r\n    },\r\n    _renderNavButtons: function() {\r\n        this.$element().toggleClass(TABS_NAV_BUTTONS_CLASS, this.option(\"showNavButtons\"));\r\n        if (!this.option(\"showNavButtons\")) {\r\n            return\r\n        }\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        this._leftButton = this._createNavButton(-TAB_OFFSET, rtlEnabled ? BUTTON_NEXT_ICON : BUTTON_PREV_ICON);\r\n        var $leftButton = this._leftButton.$element();\r\n        $leftButton.addClass(TABS_LEFT_NAV_BUTTON_CLASS);\r\n        this.$element().prepend($leftButton);\r\n        this._rightButton = this._createNavButton(TAB_OFFSET, rtlEnabled ? BUTTON_PREV_ICON : BUTTON_NEXT_ICON);\r\n        var $rightButton = this._rightButton.$element();\r\n        $rightButton.addClass(TABS_RIGHT_NAV_BUTTON_CLASS);\r\n        this.$element().append($rightButton)\r\n    },\r\n    _updateNavButtonsVisibility: function() {\r\n        var scrollable = this.getScrollable();\r\n        this._leftButton && this._leftButton.option(\"disabled\", isReachedLeft(scrollable.scrollLeft(), 1));\r\n        this._rightButton && this._rightButton.option(\"disabled\", isReachedRight($(scrollable.container()).get(0), scrollable.scrollLeft(), 1))\r\n    },\r\n    _updateScrollPosition: function(offset, duration) {\r\n        this._scrollable.update();\r\n        this._scrollable.scrollBy(offset / duration)\r\n    },\r\n    _createNavButton: function(offset, icon) {\r\n        var that = this;\r\n        var holdAction = that._createAction((function() {\r\n            that._holdInterval = setInterval((function() {\r\n                that._updateScrollPosition(offset, FEEDBACK_DURATION_INTERVAL)\r\n            }), FEEDBACK_DURATION_INTERVAL)\r\n        }));\r\n        var holdEventName = addNamespace(holdEvent.name, \"dxNavButton\");\r\n        var pointerUpEventName = addNamespace(pointerEvents.up, \"dxNavButton\");\r\n        var pointerOutEventName = addNamespace(pointerEvents.out, \"dxNavButton\");\r\n        var navButton = this._createComponent($(\"<div>\").addClass(TABS_NAV_BUTTON_CLASS), Button, {\r\n            focusStateEnabled: false,\r\n            icon: icon,\r\n            onClick: function() {\r\n                that._updateScrollPosition(offset, 1)\r\n            },\r\n            integrationOptions: {}\r\n        });\r\n        var $navButton = navButton.$element();\r\n        eventsEngine.on($navButton, holdEventName, {\r\n            timeout: FEEDBACK_SCROLL_TIMEOUT\r\n        }, function(e) {\r\n            holdAction({\r\n                event: e\r\n            })\r\n        }.bind(this));\r\n        eventsEngine.on($navButton, pointerUpEventName, (function() {\r\n            that._clearInterval()\r\n        }));\r\n        eventsEngine.on($navButton, pointerOutEventName, (function() {\r\n            that._clearInterval()\r\n        }));\r\n        return navButton\r\n    },\r\n    _clearInterval: function() {\r\n        if (this._holdInterval) {\r\n            clearInterval(this._holdInterval)\r\n        }\r\n    },\r\n    _updateSelection: function(addedSelection) {\r\n        this._scrollable && this._scrollable.scrollToElement(this.itemElements().eq(addedSelection[0]), {\r\n            left: 1,\r\n            right: 1\r\n        })\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._renderScrolling()\r\n    },\r\n    _itemSelectHandler: function(e) {\r\n        if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _clean: function() {\r\n        this._deferredTemplates = [];\r\n        this._cleanScrolling();\r\n        this.callBase()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"useInkRipple\":\r\n            case \"scrollingEnabled\":\r\n            case \"showNavButtons\":\r\n                this._invalidate();\r\n                break;\r\n            case \"scrollByContent\":\r\n                this._scrollable && this._scrollable.option(args.name, args.value);\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._dimensionChanged();\r\n                break;\r\n            case \"selectionMode\":\r\n                this._renderMultiple();\r\n                this.callBase(args);\r\n                break;\r\n            case \"badgeExpr\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _afterItemElementInserted() {\r\n        this.callBase();\r\n        this._deferRenderScrolling()\r\n    },\r\n    _afterItemElementDeleted($item, deletedActionArgs) {\r\n        this.callBase($item, deletedActionArgs);\r\n        this._renderScrolling()\r\n    },\r\n    getScrollable() {\r\n        return this._scrollable\r\n    }\r\n});\r\nTabs.ItemClass = TabsItem;\r\nregisterComponent(\"dxTabs\", Tabs);\r\nexport default Tabs;\r\n"]},"metadata":{},"sourceType":"module"}