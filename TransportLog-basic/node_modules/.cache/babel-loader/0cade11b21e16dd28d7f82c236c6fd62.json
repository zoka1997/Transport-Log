{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/form/ui.form.layout_manager.utils.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extend } from \"../../core/utils/extend\";\nimport { isDefined } from \"../../core/utils/type\";\nimport { each } from \"../../core/utils/iterator\";\nimport { captionize } from \"../../core/utils/inflector\";\nimport Guid from \"../../core/guid\";\nimport { SIMPLE_ITEM_TYPE } from \"./constants\";\nvar EDITORS_WITH_ARRAY_VALUE = [\"dxTagBox\", \"dxRangeSlider\"];\nexport var EDITORS_WITHOUT_LABELS = [\"dxCalendar\", \"dxCheckBox\", \"dxHtmlEditor\", \"dxRadioGroup\", \"dxRangeSlider\", \"dxSlider\", \"dxSwitch\"];\nexport function convertToRenderFieldItemOptions(_ref) {\n  var {\n    $parent: $parent,\n    rootElementCssClassList: rootElementCssClassList,\n    formOrLayoutManager: formOrLayoutManager,\n    createComponentCallback: createComponentCallback,\n    useFlexLayout: useFlexLayout,\n    item: item,\n    template: template,\n    name: name,\n    formLabelLocation: formLabelLocation,\n    requiredMessageTemplate: requiredMessageTemplate,\n    validationGroup: validationGroup,\n    editorValue: editorValue,\n    canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\n    editorValidationBoundary: editorValidationBoundary,\n    editorStylingMode: editorStylingMode,\n    showColonAfterLabel: showColonAfterLabel,\n    managerLabelLocation: managerLabelLocation,\n    itemId: itemId,\n    managerMarkOptions: managerMarkOptions,\n    labelMode: labelMode\n  } = _ref;\n  var isRequired = isDefined(item.isRequired) ? item.isRequired : !!_hasRequiredRuleInSet(item.validationRules);\n  var isSimpleItem = item.itemType === SIMPLE_ITEM_TYPE;\n  var helpID = item.helpText ? \"dx-\" + new Guid() : null;\n\n  var labelOptions = _convertToLabelOptions({\n    item: item,\n    id: itemId,\n    isRequired: isRequired,\n    managerMarkOptions: managerMarkOptions,\n    showColonAfterLabel: showColonAfterLabel,\n    labelLocation: managerLabelLocation,\n    formLabelMode: labelMode\n  });\n\n  var needRenderLabel = labelOptions.visible && labelOptions.text;\n  var {\n    location: labelLocation,\n    labelID: labelID\n  } = labelOptions;\n  var labelNeedBaselineAlign = \"top\" !== labelLocation && (!!item.helpText && !useFlexLayout || [\"dxTextArea\", \"dxRadioGroup\", \"dxCalendar\", \"dxHtmlEditor\"].includes(item.editorType));\n\n  var editorOptions = _convertToEditorOptions({\n    editorType: item.editorType,\n    editorValue: editorValue,\n    defaultEditorName: item.dataField,\n    canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\n    externalEditorOptions: item.editorOptions,\n    editorInputId: itemId,\n    editorValidationBoundary: editorValidationBoundary,\n    editorStylingMode: editorStylingMode,\n    formLabelMode: labelMode,\n    labelText: labelOptions.textWithoutColon,\n    labelMark: labelOptions.markOptions.showRequiredMark ? String.fromCharCode(160) + labelOptions.markOptions.requiredMark : \"\"\n  });\n\n  var needRenderOptionalMarkAsHelpText = labelOptions.markOptions.showOptionalMark && !labelOptions.visible && \"hidden\" !== editorOptions.labelMode && !isDefined(item.helpText);\n  var helpText = needRenderOptionalMarkAsHelpText ? labelOptions.markOptions.optionalMark : item.helpText;\n  return {\n    $parent: $parent,\n    rootElementCssClassList: rootElementCssClassList,\n    formOrLayoutManager: formOrLayoutManager,\n    createComponentCallback: createComponentCallback,\n    useFlexLayout: useFlexLayout,\n    labelOptions: labelOptions,\n    labelNeedBaselineAlign: labelNeedBaselineAlign,\n    labelLocation: labelLocation,\n    needRenderLabel: needRenderLabel,\n    item: item,\n    isSimpleItem: isSimpleItem,\n    isRequired: isRequired,\n    template: template,\n    helpID: helpID,\n    labelID: labelID,\n    name: name,\n    helpText: helpText,\n    formLabelLocation: formLabelLocation,\n    requiredMessageTemplate: requiredMessageTemplate,\n    validationGroup: validationGroup,\n    editorOptions: editorOptions\n  };\n}\nexport function getLabelMarkText(_ref2) {\n  var {\n    showRequiredMark: showRequiredMark,\n    requiredMark: requiredMark,\n    showOptionalMark: showOptionalMark,\n    optionalMark: optionalMark\n  } = _ref2;\n\n  if (!showRequiredMark && !showOptionalMark) {\n    return \"\";\n  }\n\n  return String.fromCharCode(160) + (showRequiredMark ? requiredMark : optionalMark);\n}\nexport function convertToLabelMarkOptions(_ref3, isRequired) {\n  var {\n    showRequiredMark: showRequiredMark,\n    requiredMark: requiredMark,\n    showOptionalMark: showOptionalMark,\n    optionalMark: optionalMark\n  } = _ref3;\n  return {\n    showRequiredMark: showRequiredMark && isRequired,\n    requiredMark: requiredMark,\n    showOptionalMark: showOptionalMark && !isRequired,\n    optionalMark: optionalMark\n  };\n}\n\nfunction _convertToEditorOptions(_ref4) {\n  var {\n    editorType: editorType,\n    defaultEditorName: defaultEditorName,\n    editorValue: editorValue,\n    canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\n    externalEditorOptions: externalEditorOptions,\n    editorInputId: editorInputId,\n    editorValidationBoundary: editorValidationBoundary,\n    editorStylingMode: editorStylingMode,\n    formLabelMode: formLabelMode,\n    labelText: labelText,\n    labelMark: labelMark\n  } = _ref4;\n  var editorOptionsWithValue = {};\n\n  if (void 0 !== editorValue || canAssignUndefinedValueToEditor) {\n    editorOptionsWithValue.value = editorValue;\n  }\n\n  if (-1 !== EDITORS_WITH_ARRAY_VALUE.indexOf(editorType)) {\n    editorOptionsWithValue.value = editorOptionsWithValue.value || [];\n  }\n\n  var labelMode = null === externalEditorOptions || void 0 === externalEditorOptions ? void 0 : externalEditorOptions.labelMode;\n\n  if (!isDefined(labelMode)) {\n    labelMode = \"outside\" === formLabelMode ? \"hidden\" : formLabelMode;\n  }\n\n  var stylingMode = (null === externalEditorOptions || void 0 === externalEditorOptions ? void 0 : externalEditorOptions.stylingMode) || editorStylingMode;\n  var result = extend(true, editorOptionsWithValue, externalEditorOptions, {\n    inputAttr: {\n      id: editorInputId\n    },\n    validationBoundary: editorValidationBoundary,\n    stylingMode: stylingMode,\n    label: labelText,\n    labelMode: labelMode,\n    labelMark: labelMark\n  });\n\n  if (externalEditorOptions) {\n    if (result.dataSource) {\n      result.dataSource = externalEditorOptions.dataSource;\n    }\n\n    if (result.items) {\n      result.items = externalEditorOptions.items;\n    }\n  }\n\n  if (defaultEditorName && !result.name) {\n    result.name = defaultEditorName;\n  }\n\n  return result;\n}\n\nfunction _hasRequiredRuleInSet(rules) {\n  var hasRequiredRule;\n\n  if (rules && rules.length) {\n    each(rules, function (index, rule) {\n      if (\"required\" === rule.type) {\n        hasRequiredRule = true;\n        return false;\n      }\n    });\n  }\n\n  return hasRequiredRule;\n}\n\nfunction _convertToLabelOptions(_ref5) {\n  var {\n    item: item,\n    id: id,\n    isRequired: isRequired,\n    managerMarkOptions: managerMarkOptions,\n    showColonAfterLabel: showColonAfterLabel,\n    labelLocation: labelLocation,\n    formLabelMode: formLabelMode\n  } = _ref5;\n  var isEditorWithoutLabels = EDITORS_WITHOUT_LABELS.includes(item.editorType);\n  var labelOptions = extend({\n    showColon: showColonAfterLabel,\n    location: labelLocation,\n    id: id,\n    visible: \"outside\" === formLabelMode || isEditorWithoutLabels && \"hidden\" !== formLabelMode,\n    isRequired: isRequired\n  }, item ? item.label : {}, {\n    markOptions: convertToLabelMarkOptions(managerMarkOptions, isRequired)\n  });\n\n  if ([\"dxRadioGroup\", \"dxCheckBox\", \"dxLookup\", \"dxSlider\", \"dxRangeSlider\", \"dxSwitch\", \"dxHtmlEditor\"].includes(item.editorType)) {\n    labelOptions.labelID = \"dx-label-\".concat(new Guid());\n  }\n\n  if (!labelOptions.text && item.dataField) {\n    labelOptions.text = captionize(item.dataField);\n  }\n\n  if (labelOptions.text) {\n    labelOptions.textWithoutColon = labelOptions.text;\n    labelOptions.text += labelOptions.showColon ? \":\" : \"\";\n  }\n\n  return labelOptions;\n}","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/devextreme/esm/ui/form/ui.form.layout_manager.utils.js"],"names":["extend","isDefined","each","captionize","Guid","SIMPLE_ITEM_TYPE","EDITORS_WITH_ARRAY_VALUE","EDITORS_WITHOUT_LABELS","convertToRenderFieldItemOptions","_ref","$parent","rootElementCssClassList","formOrLayoutManager","createComponentCallback","useFlexLayout","item","template","name","formLabelLocation","requiredMessageTemplate","validationGroup","editorValue","canAssignUndefinedValueToEditor","editorValidationBoundary","editorStylingMode","showColonAfterLabel","managerLabelLocation","itemId","managerMarkOptions","labelMode","isRequired","_hasRequiredRuleInSet","validationRules","isSimpleItem","itemType","helpID","helpText","labelOptions","_convertToLabelOptions","id","labelLocation","formLabelMode","needRenderLabel","visible","text","location","labelID","labelNeedBaselineAlign","includes","editorType","editorOptions","_convertToEditorOptions","defaultEditorName","dataField","externalEditorOptions","editorInputId","labelText","textWithoutColon","labelMark","markOptions","showRequiredMark","String","fromCharCode","requiredMark","needRenderOptionalMarkAsHelpText","showOptionalMark","optionalMark","getLabelMarkText","_ref2","convertToLabelMarkOptions","_ref3","_ref4","editorOptionsWithValue","value","indexOf","stylingMode","result","inputAttr","validationBoundary","label","dataSource","items","rules","hasRequiredRule","length","index","rule","type","_ref5","isEditorWithoutLabels","showColon","concat"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,MADJ,QAEO,yBAFP;AAGA,SACIC,SADJ,QAEO,uBAFP;AAGA,SACIC,IADJ,QAEO,2BAFP;AAGA,SACIC,UADJ,QAEO,4BAFP;AAGA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,SACIC,gBADJ,QAEO,aAFP;AAGA,IAAIC,wBAAwB,GAAG,CAAC,UAAD,EAAa,eAAb,CAA/B;AACA,OAAO,IAAIC,sBAAsB,GAAG,CAAC,YAAD,EAAe,YAAf,EAA6B,cAA7B,EAA6C,cAA7C,EAA6D,eAA7D,EAA8E,UAA9E,EAA0F,UAA1F,CAA7B;AACP,OAAO,SAASC,+BAAT,CAAyCC,IAAzC,EAA+C;AAClD,MAAI;AACAC,IAAAA,OAAO,EAAEA,OADT;AAEAC,IAAAA,uBAAuB,EAAEA,uBAFzB;AAGAC,IAAAA,mBAAmB,EAAEA,mBAHrB;AAIAC,IAAAA,uBAAuB,EAAEA,uBAJzB;AAKAC,IAAAA,aAAa,EAAEA,aALf;AAMAC,IAAAA,IAAI,EAAEA,IANN;AAOAC,IAAAA,QAAQ,EAAEA,QAPV;AAQAC,IAAAA,IAAI,EAAEA,IARN;AASAC,IAAAA,iBAAiB,EAAEA,iBATnB;AAUAC,IAAAA,uBAAuB,EAAEA,uBAVzB;AAWAC,IAAAA,eAAe,EAAEA,eAXjB;AAYAC,IAAAA,WAAW,EAAEA,WAZb;AAaAC,IAAAA,+BAA+B,EAAEA,+BAbjC;AAcAC,IAAAA,wBAAwB,EAAEA,wBAd1B;AAeAC,IAAAA,iBAAiB,EAAEA,iBAfnB;AAgBAC,IAAAA,mBAAmB,EAAEA,mBAhBrB;AAiBAC,IAAAA,oBAAoB,EAAEA,oBAjBtB;AAkBAC,IAAAA,MAAM,EAAEA,MAlBR;AAmBAC,IAAAA,kBAAkB,EAAEA,kBAnBpB;AAoBAC,IAAAA,SAAS,EAAEA;AApBX,MAqBApB,IArBJ;AAsBA,MAAIqB,UAAU,GAAG7B,SAAS,CAACc,IAAI,CAACe,UAAN,CAAT,GAA6Bf,IAAI,CAACe,UAAlC,GAA+C,CAAC,CAACC,qBAAqB,CAAChB,IAAI,CAACiB,eAAN,CAAvF;AACA,MAAIC,YAAY,GAAGlB,IAAI,CAACmB,QAAL,KAAkB7B,gBAArC;AACA,MAAI8B,MAAM,GAAGpB,IAAI,CAACqB,QAAL,GAAgB,QAAQ,IAAIhC,IAAJ,EAAxB,GAAmC,IAAhD;;AACA,MAAIiC,YAAY,GAAGC,sBAAsB,CAAC;AACtCvB,IAAAA,IAAI,EAAEA,IADgC;AAEtCwB,IAAAA,EAAE,EAAEZ,MAFkC;AAGtCG,IAAAA,UAAU,EAAEA,UAH0B;AAItCF,IAAAA,kBAAkB,EAAEA,kBAJkB;AAKtCH,IAAAA,mBAAmB,EAAEA,mBALiB;AAMtCe,IAAAA,aAAa,EAAEd,oBANuB;AAOtCe,IAAAA,aAAa,EAAEZ;AAPuB,GAAD,CAAzC;;AASA,MAAIa,eAAe,GAAGL,YAAY,CAACM,OAAb,IAAwBN,YAAY,CAACO,IAA3D;AACA,MAAI;AACAC,IAAAA,QAAQ,EAAEL,aADV;AAEAM,IAAAA,OAAO,EAAEA;AAFT,MAGAT,YAHJ;AAIA,MAAIU,sBAAsB,GAAG,UAAUP,aAAV,KAA4B,CAAC,CAACzB,IAAI,CAACqB,QAAP,IAAmB,CAACtB,aAApB,IAAqC,CAAC,YAAD,EAAe,cAAf,EAA+B,YAA/B,EAA6C,cAA7C,EAA6DkC,QAA7D,CAAsEjC,IAAI,CAACkC,UAA3E,CAAjE,CAA7B;;AACA,MAAIC,aAAa,GAAGC,uBAAuB,CAAC;AACxCF,IAAAA,UAAU,EAAElC,IAAI,CAACkC,UADuB;AAExC5B,IAAAA,WAAW,EAAEA,WAF2B;AAGxC+B,IAAAA,iBAAiB,EAAErC,IAAI,CAACsC,SAHgB;AAIxC/B,IAAAA,+BAA+B,EAAEA,+BAJO;AAKxCgC,IAAAA,qBAAqB,EAAEvC,IAAI,CAACmC,aALY;AAMxCK,IAAAA,aAAa,EAAE5B,MANyB;AAOxCJ,IAAAA,wBAAwB,EAAEA,wBAPc;AAQxCC,IAAAA,iBAAiB,EAAEA,iBARqB;AASxCiB,IAAAA,aAAa,EAAEZ,SATyB;AAUxC2B,IAAAA,SAAS,EAAEnB,YAAY,CAACoB,gBAVgB;AAWxCC,IAAAA,SAAS,EAAErB,YAAY,CAACsB,WAAb,CAAyBC,gBAAzB,GAA4CC,MAAM,CAACC,YAAP,CAAoB,GAApB,IAA2BzB,YAAY,CAACsB,WAAb,CAAyBI,YAAhG,GAA+G;AAXlF,GAAD,CAA3C;;AAaA,MAAIC,gCAAgC,GAAG3B,YAAY,CAACsB,WAAb,CAAyBM,gBAAzB,IAA6C,CAAC5B,YAAY,CAACM,OAA3D,IAAsE,aAAaO,aAAa,CAACrB,SAAjG,IAA8G,CAAC5B,SAAS,CAACc,IAAI,CAACqB,QAAN,CAA/J;AACA,MAAIA,QAAQ,GAAG4B,gCAAgC,GAAG3B,YAAY,CAACsB,WAAb,CAAyBO,YAA5B,GAA2CnD,IAAI,CAACqB,QAA/F;AACA,SAAO;AACH1B,IAAAA,OAAO,EAAEA,OADN;AAEHC,IAAAA,uBAAuB,EAAEA,uBAFtB;AAGHC,IAAAA,mBAAmB,EAAEA,mBAHlB;AAIHC,IAAAA,uBAAuB,EAAEA,uBAJtB;AAKHC,IAAAA,aAAa,EAAEA,aALZ;AAMHuB,IAAAA,YAAY,EAAEA,YANX;AAOHU,IAAAA,sBAAsB,EAAEA,sBAPrB;AAQHP,IAAAA,aAAa,EAAEA,aARZ;AASHE,IAAAA,eAAe,EAAEA,eATd;AAUH3B,IAAAA,IAAI,EAAEA,IAVH;AAWHkB,IAAAA,YAAY,EAAEA,YAXX;AAYHH,IAAAA,UAAU,EAAEA,UAZT;AAaHd,IAAAA,QAAQ,EAAEA,QAbP;AAcHmB,IAAAA,MAAM,EAAEA,MAdL;AAeHW,IAAAA,OAAO,EAAEA,OAfN;AAgBH7B,IAAAA,IAAI,EAAEA,IAhBH;AAiBHmB,IAAAA,QAAQ,EAAEA,QAjBP;AAkBHlB,IAAAA,iBAAiB,EAAEA,iBAlBhB;AAmBHC,IAAAA,uBAAuB,EAAEA,uBAnBtB;AAoBHC,IAAAA,eAAe,EAAEA,eApBd;AAqBH8B,IAAAA,aAAa,EAAEA;AArBZ,GAAP;AAuBH;AACD,OAAO,SAASiB,gBAAT,CAA0BC,KAA1B,EAAiC;AACpC,MAAI;AACAR,IAAAA,gBAAgB,EAAEA,gBADlB;AAEAG,IAAAA,YAAY,EAAEA,YAFd;AAGAE,IAAAA,gBAAgB,EAAEA,gBAHlB;AAIAC,IAAAA,YAAY,EAAEA;AAJd,MAKAE,KALJ;;AAMA,MAAI,CAACR,gBAAD,IAAqB,CAACK,gBAA1B,EAA4C;AACxC,WAAO,EAAP;AACH;;AACD,SAAOJ,MAAM,CAACC,YAAP,CAAoB,GAApB,KAA4BF,gBAAgB,GAAGG,YAAH,GAAkBG,YAA9D,CAAP;AACH;AACD,OAAO,SAASG,yBAAT,CAAmCC,KAAnC,EAA0CxC,UAA1C,EAAsD;AACzD,MAAI;AACA8B,IAAAA,gBAAgB,EAAEA,gBADlB;AAEAG,IAAAA,YAAY,EAAEA,YAFd;AAGAE,IAAAA,gBAAgB,EAAEA,gBAHlB;AAIAC,IAAAA,YAAY,EAAEA;AAJd,MAKAI,KALJ;AAMA,SAAO;AACHV,IAAAA,gBAAgB,EAAEA,gBAAgB,IAAI9B,UADnC;AAEHiC,IAAAA,YAAY,EAAEA,YAFX;AAGHE,IAAAA,gBAAgB,EAAEA,gBAAgB,IAAI,CAACnC,UAHpC;AAIHoC,IAAAA,YAAY,EAAEA;AAJX,GAAP;AAMH;;AAED,SAASf,uBAAT,CAAiCoB,KAAjC,EAAwC;AACpC,MAAI;AACAtB,IAAAA,UAAU,EAAEA,UADZ;AAEAG,IAAAA,iBAAiB,EAAEA,iBAFnB;AAGA/B,IAAAA,WAAW,EAAEA,WAHb;AAIAC,IAAAA,+BAA+B,EAAEA,+BAJjC;AAKAgC,IAAAA,qBAAqB,EAAEA,qBALvB;AAMAC,IAAAA,aAAa,EAAEA,aANf;AAOAhC,IAAAA,wBAAwB,EAAEA,wBAP1B;AAQAC,IAAAA,iBAAiB,EAAEA,iBARnB;AASAiB,IAAAA,aAAa,EAAEA,aATf;AAUAe,IAAAA,SAAS,EAAEA,SAVX;AAWAE,IAAAA,SAAS,EAAEA;AAXX,MAYAa,KAZJ;AAaA,MAAIC,sBAAsB,GAAG,EAA7B;;AACA,MAAI,KAAK,CAAL,KAAWnD,WAAX,IAA0BC,+BAA9B,EAA+D;AAC3DkD,IAAAA,sBAAsB,CAACC,KAAvB,GAA+BpD,WAA/B;AACH;;AACD,MAAI,CAAC,CAAD,KAAOf,wBAAwB,CAACoE,OAAzB,CAAiCzB,UAAjC,CAAX,EAAyD;AACrDuB,IAAAA,sBAAsB,CAACC,KAAvB,GAA+BD,sBAAsB,CAACC,KAAvB,IAAgC,EAA/D;AACH;;AACD,MAAI5C,SAAS,GAAG,SAASyB,qBAAT,IAAkC,KAAK,CAAL,KAAWA,qBAA7C,GAAqE,KAAK,CAA1E,GAA8EA,qBAAqB,CAACzB,SAApH;;AACA,MAAI,CAAC5B,SAAS,CAAC4B,SAAD,CAAd,EAA2B;AACvBA,IAAAA,SAAS,GAAG,cAAcY,aAAd,GAA8B,QAA9B,GAAyCA,aAArD;AACH;;AACD,MAAIkC,WAAW,GAAG,CAAC,SAASrB,qBAAT,IAAkC,KAAK,CAAL,KAAWA,qBAA7C,GAAqE,KAAK,CAA1E,GAA8EA,qBAAqB,CAACqB,WAArG,KAAqHnD,iBAAvI;AACA,MAAIoD,MAAM,GAAG5E,MAAM,CAAC,IAAD,EAAOwE,sBAAP,EAA+BlB,qBAA/B,EAAsD;AACrEuB,IAAAA,SAAS,EAAE;AACPtC,MAAAA,EAAE,EAAEgB;AADG,KAD0D;AAIrEuB,IAAAA,kBAAkB,EAAEvD,wBAJiD;AAKrEoD,IAAAA,WAAW,EAAEA,WALwD;AAMrEI,IAAAA,KAAK,EAAEvB,SAN8D;AAOrE3B,IAAAA,SAAS,EAAEA,SAP0D;AAQrE6B,IAAAA,SAAS,EAAEA;AAR0D,GAAtD,CAAnB;;AAUA,MAAIJ,qBAAJ,EAA2B;AACvB,QAAIsB,MAAM,CAACI,UAAX,EAAuB;AACnBJ,MAAAA,MAAM,CAACI,UAAP,GAAoB1B,qBAAqB,CAAC0B,UAA1C;AACH;;AACD,QAAIJ,MAAM,CAACK,KAAX,EAAkB;AACdL,MAAAA,MAAM,CAACK,KAAP,GAAe3B,qBAAqB,CAAC2B,KAArC;AACH;AACJ;;AACD,MAAI7B,iBAAiB,IAAI,CAACwB,MAAM,CAAC3D,IAAjC,EAAuC;AACnC2D,IAAAA,MAAM,CAAC3D,IAAP,GAAcmC,iBAAd;AACH;;AACD,SAAOwB,MAAP;AACH;;AAED,SAAS7C,qBAAT,CAA+BmD,KAA/B,EAAsC;AAClC,MAAIC,eAAJ;;AACA,MAAID,KAAK,IAAIA,KAAK,CAACE,MAAnB,EAA2B;AACvBlF,IAAAA,IAAI,CAACgF,KAAD,EAAS,UAASG,KAAT,EAAgBC,IAAhB,EAAsB;AAC/B,UAAI,eAAeA,IAAI,CAACC,IAAxB,EAA8B;AAC1BJ,QAAAA,eAAe,GAAG,IAAlB;AACA,eAAO,KAAP;AACH;AACJ,KALG,CAAJ;AAMH;;AACD,SAAOA,eAAP;AACH;;AAED,SAAS7C,sBAAT,CAAgCkD,KAAhC,EAAuC;AACnC,MAAI;AACAzE,IAAAA,IAAI,EAAEA,IADN;AAEAwB,IAAAA,EAAE,EAAEA,EAFJ;AAGAT,IAAAA,UAAU,EAAEA,UAHZ;AAIAF,IAAAA,kBAAkB,EAAEA,kBAJpB;AAKAH,IAAAA,mBAAmB,EAAEA,mBALrB;AAMAe,IAAAA,aAAa,EAAEA,aANf;AAOAC,IAAAA,aAAa,EAAEA;AAPf,MAQA+C,KARJ;AASA,MAAIC,qBAAqB,GAAGlF,sBAAsB,CAACyC,QAAvB,CAAgCjC,IAAI,CAACkC,UAArC,CAA5B;AACA,MAAIZ,YAAY,GAAGrC,MAAM,CAAC;AACtB0F,IAAAA,SAAS,EAAEjE,mBADW;AAEtBoB,IAAAA,QAAQ,EAAEL,aAFY;AAGtBD,IAAAA,EAAE,EAAEA,EAHkB;AAItBI,IAAAA,OAAO,EAAE,cAAcF,aAAd,IAA+BgD,qBAAqB,IAAI,aAAahD,aAJxD;AAKtBX,IAAAA,UAAU,EAAEA;AALU,GAAD,EAMtBf,IAAI,GAAGA,IAAI,CAACgE,KAAR,GAAgB,EANE,EAME;AACvBpB,IAAAA,WAAW,EAAEU,yBAAyB,CAACzC,kBAAD,EAAqBE,UAArB;AADf,GANF,CAAzB;;AASA,MAAI,CAAC,cAAD,EAAiB,YAAjB,EAA+B,UAA/B,EAA2C,UAA3C,EAAuD,eAAvD,EAAwE,UAAxE,EAAoF,cAApF,EAAoGkB,QAApG,CAA6GjC,IAAI,CAACkC,UAAlH,CAAJ,EAAmI;AAC/HZ,IAAAA,YAAY,CAACS,OAAb,GAAuB,YAAY6C,MAAZ,CAAmB,IAAIvF,IAAJ,EAAnB,CAAvB;AACH;;AACD,MAAI,CAACiC,YAAY,CAACO,IAAd,IAAsB7B,IAAI,CAACsC,SAA/B,EAA0C;AACtChB,IAAAA,YAAY,CAACO,IAAb,GAAoBzC,UAAU,CAACY,IAAI,CAACsC,SAAN,CAA9B;AACH;;AACD,MAAIhB,YAAY,CAACO,IAAjB,EAAuB;AACnBP,IAAAA,YAAY,CAACoB,gBAAb,GAAgCpB,YAAY,CAACO,IAA7C;AACAP,IAAAA,YAAY,CAACO,IAAb,IAAqBP,YAAY,CAACqD,SAAb,GAAyB,GAAzB,GAA+B,EAApD;AACH;;AACD,SAAOrD,YAAP;AACH","sourcesContent":["/**\r\n * DevExtreme (esm/ui/form/ui.form.layout_manager.utils.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    captionize\r\n} from \"../../core/utils/inflector\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    SIMPLE_ITEM_TYPE\r\n} from \"./constants\";\r\nvar EDITORS_WITH_ARRAY_VALUE = [\"dxTagBox\", \"dxRangeSlider\"];\r\nexport var EDITORS_WITHOUT_LABELS = [\"dxCalendar\", \"dxCheckBox\", \"dxHtmlEditor\", \"dxRadioGroup\", \"dxRangeSlider\", \"dxSlider\", \"dxSwitch\"];\r\nexport function convertToRenderFieldItemOptions(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        item: item,\r\n        template: template,\r\n        name: name,\r\n        formLabelLocation: formLabelLocation,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup,\r\n        editorValue: editorValue,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        managerLabelLocation: managerLabelLocation,\r\n        itemId: itemId,\r\n        managerMarkOptions: managerMarkOptions,\r\n        labelMode: labelMode\r\n    } = _ref;\r\n    var isRequired = isDefined(item.isRequired) ? item.isRequired : !!_hasRequiredRuleInSet(item.validationRules);\r\n    var isSimpleItem = item.itemType === SIMPLE_ITEM_TYPE;\r\n    var helpID = item.helpText ? \"dx-\" + new Guid : null;\r\n    var labelOptions = _convertToLabelOptions({\r\n        item: item,\r\n        id: itemId,\r\n        isRequired: isRequired,\r\n        managerMarkOptions: managerMarkOptions,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        labelLocation: managerLabelLocation,\r\n        formLabelMode: labelMode\r\n    });\r\n    var needRenderLabel = labelOptions.visible && labelOptions.text;\r\n    var {\r\n        location: labelLocation,\r\n        labelID: labelID\r\n    } = labelOptions;\r\n    var labelNeedBaselineAlign = \"top\" !== labelLocation && (!!item.helpText && !useFlexLayout || [\"dxTextArea\", \"dxRadioGroup\", \"dxCalendar\", \"dxHtmlEditor\"].includes(item.editorType));\r\n    var editorOptions = _convertToEditorOptions({\r\n        editorType: item.editorType,\r\n        editorValue: editorValue,\r\n        defaultEditorName: item.dataField,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        externalEditorOptions: item.editorOptions,\r\n        editorInputId: itemId,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        formLabelMode: labelMode,\r\n        labelText: labelOptions.textWithoutColon,\r\n        labelMark: labelOptions.markOptions.showRequiredMark ? String.fromCharCode(160) + labelOptions.markOptions.requiredMark : \"\"\r\n    });\r\n    var needRenderOptionalMarkAsHelpText = labelOptions.markOptions.showOptionalMark && !labelOptions.visible && \"hidden\" !== editorOptions.labelMode && !isDefined(item.helpText);\r\n    var helpText = needRenderOptionalMarkAsHelpText ? labelOptions.markOptions.optionalMark : item.helpText;\r\n    return {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        labelOptions: labelOptions,\r\n        labelNeedBaselineAlign: labelNeedBaselineAlign,\r\n        labelLocation: labelLocation,\r\n        needRenderLabel: needRenderLabel,\r\n        item: item,\r\n        isSimpleItem: isSimpleItem,\r\n        isRequired: isRequired,\r\n        template: template,\r\n        helpID: helpID,\r\n        labelID: labelID,\r\n        name: name,\r\n        helpText: helpText,\r\n        formLabelLocation: formLabelLocation,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup,\r\n        editorOptions: editorOptions\r\n    }\r\n}\r\nexport function getLabelMarkText(_ref2) {\r\n    var {\r\n        showRequiredMark: showRequiredMark,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark,\r\n        optionalMark: optionalMark\r\n    } = _ref2;\r\n    if (!showRequiredMark && !showOptionalMark) {\r\n        return \"\"\r\n    }\r\n    return String.fromCharCode(160) + (showRequiredMark ? requiredMark : optionalMark)\r\n}\r\nexport function convertToLabelMarkOptions(_ref3, isRequired) {\r\n    var {\r\n        showRequiredMark: showRequiredMark,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark,\r\n        optionalMark: optionalMark\r\n    } = _ref3;\r\n    return {\r\n        showRequiredMark: showRequiredMark && isRequired,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark && !isRequired,\r\n        optionalMark: optionalMark\r\n    }\r\n}\r\n\r\nfunction _convertToEditorOptions(_ref4) {\r\n    var {\r\n        editorType: editorType,\r\n        defaultEditorName: defaultEditorName,\r\n        editorValue: editorValue,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        externalEditorOptions: externalEditorOptions,\r\n        editorInputId: editorInputId,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        formLabelMode: formLabelMode,\r\n        labelText: labelText,\r\n        labelMark: labelMark\r\n    } = _ref4;\r\n    var editorOptionsWithValue = {};\r\n    if (void 0 !== editorValue || canAssignUndefinedValueToEditor) {\r\n        editorOptionsWithValue.value = editorValue\r\n    }\r\n    if (-1 !== EDITORS_WITH_ARRAY_VALUE.indexOf(editorType)) {\r\n        editorOptionsWithValue.value = editorOptionsWithValue.value || []\r\n    }\r\n    var labelMode = null === externalEditorOptions || void 0 === externalEditorOptions ? void 0 : externalEditorOptions.labelMode;\r\n    if (!isDefined(labelMode)) {\r\n        labelMode = \"outside\" === formLabelMode ? \"hidden\" : formLabelMode\r\n    }\r\n    var stylingMode = (null === externalEditorOptions || void 0 === externalEditorOptions ? void 0 : externalEditorOptions.stylingMode) || editorStylingMode;\r\n    var result = extend(true, editorOptionsWithValue, externalEditorOptions, {\r\n        inputAttr: {\r\n            id: editorInputId\r\n        },\r\n        validationBoundary: editorValidationBoundary,\r\n        stylingMode: stylingMode,\r\n        label: labelText,\r\n        labelMode: labelMode,\r\n        labelMark: labelMark\r\n    });\r\n    if (externalEditorOptions) {\r\n        if (result.dataSource) {\r\n            result.dataSource = externalEditorOptions.dataSource\r\n        }\r\n        if (result.items) {\r\n            result.items = externalEditorOptions.items\r\n        }\r\n    }\r\n    if (defaultEditorName && !result.name) {\r\n        result.name = defaultEditorName\r\n    }\r\n    return result\r\n}\r\n\r\nfunction _hasRequiredRuleInSet(rules) {\r\n    var hasRequiredRule;\r\n    if (rules && rules.length) {\r\n        each(rules, (function(index, rule) {\r\n            if (\"required\" === rule.type) {\r\n                hasRequiredRule = true;\r\n                return false\r\n            }\r\n        }))\r\n    }\r\n    return hasRequiredRule\r\n}\r\n\r\nfunction _convertToLabelOptions(_ref5) {\r\n    var {\r\n        item: item,\r\n        id: id,\r\n        isRequired: isRequired,\r\n        managerMarkOptions: managerMarkOptions,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        labelLocation: labelLocation,\r\n        formLabelMode: formLabelMode\r\n    } = _ref5;\r\n    var isEditorWithoutLabels = EDITORS_WITHOUT_LABELS.includes(item.editorType);\r\n    var labelOptions = extend({\r\n        showColon: showColonAfterLabel,\r\n        location: labelLocation,\r\n        id: id,\r\n        visible: \"outside\" === formLabelMode || isEditorWithoutLabels && \"hidden\" !== formLabelMode,\r\n        isRequired: isRequired\r\n    }, item ? item.label : {}, {\r\n        markOptions: convertToLabelMarkOptions(managerMarkOptions, isRequired)\r\n    });\r\n    if ([\"dxRadioGroup\", \"dxCheckBox\", \"dxLookup\", \"dxSlider\", \"dxRangeSlider\", \"dxSwitch\", \"dxHtmlEditor\"].includes(item.editorType)) {\r\n        labelOptions.labelID = \"dx-label-\".concat(new Guid)\r\n    }\r\n    if (!labelOptions.text && item.dataField) {\r\n        labelOptions.text = captionize(item.dataField)\r\n    }\r\n    if (labelOptions.text) {\r\n        labelOptions.textWithoutColon = labelOptions.text;\r\n        labelOptions.text += labelOptions.showColon ? \":\" : \"\"\r\n    }\r\n    return labelOptions\r\n}\r\n"]},"metadata":{},"sourceType":"module"}