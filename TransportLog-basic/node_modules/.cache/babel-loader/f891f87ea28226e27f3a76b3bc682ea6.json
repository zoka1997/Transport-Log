{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nimport { append, addClass, createElement, EventHandler } from '@syncfusion/ej2-base';\nimport { Year } from './year';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * timeline year view\n */\n\nvar TimelineYear =\n/** @class */\nfunction (_super) {\n  __extends(TimelineYear, _super);\n\n  function TimelineYear(parent) {\n    var _this = _super.call(this, parent) || this;\n\n    _this.viewClass = 'e-timeline-year-view';\n    _this.isInverseTableSelect = true;\n    return _this;\n  }\n\n  TimelineYear.prototype.getModuleName = function () {\n    return 'timelineYear';\n  };\n\n  TimelineYear.prototype.renderHeader = function (headerWrapper) {\n    var tr = createElement('tr');\n    headerWrapper.appendChild(tr);\n\n    if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      this.parent.resourceBase.renderResourceHeaderIndent(tr);\n    } else {\n      var leftHeaderCells = createElement('td', {\n        className: cls.LEFT_INDENT_CLASS\n      });\n      tr.appendChild(leftHeaderCells);\n      leftHeaderCells.appendChild(this.renderResourceHeader(cls.LEFT_INDENT_WRAP_CLASS));\n    }\n\n    var isHorizontal = this.parent.activeViewOptions.orientation === 'Horizontal';\n    var isGroup = this.parent.activeViewOptions.group.resources.length > 0;\n    this.isInverseTableSelect = isHorizontal && !isGroup ? false : true;\n    var td = createElement('td');\n    tr.appendChild(td);\n    var container = createElement('div', {\n      className: cls.DATE_HEADER_CONTAINER_CLASS\n    });\n    td.appendChild(container);\n\n    if (this.parent.activeViewOptions.orientation === 'Horizontal' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      container.appendChild(this.renderResourceHeader(cls.DATE_HEADER_WRAP_CLASS));\n      this.columnCount = this.colLevels.slice(-1)[0].length;\n    } else {\n      var wrapper = createElement('div', {\n        className: cls.DATE_HEADER_WRAP_CLASS\n      });\n      container.appendChild(wrapper);\n      var table = this.createTableLayout();\n      wrapper.appendChild(table);\n      table.appendChild(this.createTableColGroup(this.columnCount));\n      var innerTr = createElement('tr');\n      table.querySelector('tbody').appendChild(innerTr);\n      var months = this.getMonths();\n      var dayHeaderDates = this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(), months[0], 1));\n\n      for (var column = 0; column < this.columnCount; column++) {\n        var date = new Date(this.parent.selectedDate.getFullYear(), months[column], 1);\n        var innerTd = createElement('td', {\n          className: cls.HEADER_CELLS_CLASS\n        });\n\n        if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n          if (this.parent.dayHeaderTemplate) {\n            append(this.renderDayMonthHeaderTemplate(dayHeaderDates[column], column, 'dayHeaderTemplate'), innerTd);\n          } else {\n            innerTd.innerHTML = \"<span>\" + this.parent.getDayNames('abbreviated')[column % 7] + \"</span>\";\n          }\n        } else {\n          if (this.parent.monthHeaderTemplate) {\n            append(this.renderDayMonthHeaderTemplate(date, months[column], 'monthHeaderTemplate'), innerTd);\n          } else {\n            innerTd.innerHTML = \"<span>\" + this.getMonthName(date) + \"</span>\";\n          }\n\n          innerTd.setAttribute('data-date', date.getTime().toString());\n        }\n\n        innerTr.appendChild(innerTd);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'headerCells',\n          element: innerTd\n        });\n      }\n    }\n  };\n\n  TimelineYear.prototype.renderResourceHeader = function (className) {\n    var wrap = createElement('div', {\n      className: className\n    });\n    var tbl = this.createTableLayout();\n    wrap.appendChild(tbl);\n    var trEle = createElement('tr');\n\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      this.colLevels = this.generateColumnLevels();\n    } else {\n      var colData = [{\n        className: [cls.HEADER_CELLS_CLASS],\n        type: 'headerCell'\n      }];\n      this.colLevels = [colData];\n    }\n\n    for (var _i = 0, _a = this.colLevels; _i < _a.length; _i++) {\n      var col = _a[_i];\n      var ntr = trEle.cloneNode();\n      var count = className === cls.DATE_HEADER_WRAP_CLASS ? col : [col[0]];\n\n      for (var _b = 0, count_1 = count; _b < count_1.length; _b++) {\n        var c = count_1[_b];\n        var tdEle = createElement('td');\n\n        if (c.className) {\n          addClass([tdEle], c.className);\n        }\n\n        if (className === cls.DATE_HEADER_WRAP_CLASS) {\n          if (c.template) {\n            append(c.template, tdEle);\n          }\n\n          if (c.colSpan) {\n            tdEle.setAttribute('colspan', c.colSpan.toString());\n          }\n\n          if (c.groupIndex > -1) {\n            tdEle.setAttribute('data-group-index', c.groupIndex.toString());\n          }\n\n          this.setResourceHeaderContent(tdEle, c);\n        }\n\n        if (className === cls.LEFT_INDENT_WRAP_CLASS) {\n          this.parent.renderHeaderIndentTemplate(c, tdEle);\n        }\n\n        var args = {\n          elementType: c.type,\n          element: tdEle,\n          date: c.date,\n          groupIndex: c.groupIndex\n        };\n        this.parent.trigger(event.renderCell, args);\n        ntr.appendChild(tdEle);\n      }\n\n      tbl.querySelector('tbody').appendChild(ntr);\n    }\n\n    if (className === cls.DATE_HEADER_WRAP_CLASS) {\n      tbl.appendChild(this.createTableColGroup(this.colLevels.slice(-1)[0].length));\n    }\n\n    return wrap;\n  };\n\n  TimelineYear.prototype.renderContent = function (contentWrapper) {\n    var tr = createElement('tr');\n    contentWrapper.appendChild(tr);\n    var firstTd = createElement('td');\n    var lastTd = createElement('td');\n    var tdCollection = [];\n    var monthTBody;\n\n    if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      tdCollection.push(firstTd);\n      firstTd.appendChild(this.parent.resourceBase.createResourceColumn());\n      this.rowCount = this.parent.resourceBase.renderedResources.length;\n    } else {\n      tdCollection.push(firstTd);\n      var monthWrapper = createElement('div', {\n        className: cls.MONTH_HEADER_WRAPPER\n      });\n      firstTd.appendChild(monthWrapper);\n      monthWrapper.appendChild(this.createTableLayout());\n      monthTBody = monthWrapper.querySelector('tbody');\n    }\n\n    tdCollection.push(lastTd);\n    append(tdCollection, tr);\n    var content = createElement('div', {\n      className: cls.CONTENT_WRAP_CLASS\n    });\n    lastTd.appendChild(content);\n    var contentTable = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n    this.setAriaAttributes(contentTable);\n    content.appendChild(contentTable);\n    var eventWrapper = createElement('div', {\n      className: cls.EVENT_TABLE_CLASS\n    });\n    content.appendChild(eventWrapper);\n\n    if (this.parent.virtualScrollModule) {\n      this.parent.virtualScrollModule.renderVirtualTrack(content);\n    }\n\n    var contentTBody = contentTable.querySelector('tbody');\n\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      if (this.parent.rowAutoHeight) {\n        var addClassTable = [contentTable];\n        var monthHeader = this.parent.element.querySelector('.' + cls.MONTH_HEADER_WRAPPER + ' .' + cls.SCHEDULE_TABLE_CLASS);\n\n        if (monthHeader) {\n          addClassTable.push(monthHeader);\n        }\n\n        addClass(addClassTable, cls.AUTO_HEIGHT);\n      }\n\n      var colCount = this.parent.activeViewOptions.orientation === 'Horizontal' ? this.colLevels.slice(-1)[0].length : this.columnCount;\n      contentTable.appendChild(this.createTableColGroup(colCount));\n      this.renderResourceContent(eventWrapper, monthTBody, contentTBody);\n    } else {\n      contentTable.appendChild(this.createTableColGroup(this.columnCount));\n      this.renderDefaultContent(eventWrapper, monthTBody, contentTBody);\n    }\n  };\n\n  TimelineYear.prototype.renderDefaultContent = function (wrapper, monthBody, contentBody) {\n    var months = this.getMonths();\n    var dayHeaderDates = this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(), months[0], 1));\n\n    for (var month = 0; month < this.rowCount; month++) {\n      wrapper.appendChild(createElement('div', {\n        className: cls.APPOINTMENT_CONTAINER_CLASS\n      }));\n      var monthDate = new Date(this.parent.selectedDate.getFullYear(), months[month], 1);\n      var monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n      var monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n      var tr = createElement('tr');\n      var monthTr = tr.cloneNode();\n      monthBody.appendChild(monthTr);\n      var contentTr = tr.cloneNode();\n      contentBody.appendChild(contentTr);\n      var monthTd = createElement('td', {\n        className: cls.MONTH_HEADER_CLASS\n      });\n\n      if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n        if (this.parent.monthHeaderTemplate) {\n          append(this.renderDayMonthHeaderTemplate(monthStart, month, 'monthHeaderTemplate'), monthTd);\n        } else {\n          monthTd.innerHTML = \"<span>\" + this.getMonthName(monthDate) + \"</span>\";\n        }\n\n        monthTd.setAttribute('data-date', monthDate.getTime().toString());\n      } else {\n        if (this.parent.dayHeaderTemplate) {\n          append(this.renderDayMonthHeaderTemplate(dayHeaderDates[month], month, 'dayHeaderTemplate'), monthTd);\n        } else {\n          monthTd.innerHTML = \"<span>\" + this.parent.getDayNames('abbreviated')[month % 7] + \"</span>\";\n        }\n      }\n\n      monthTr.appendChild(monthTd);\n      this.parent.trigger(event.renderCell, {\n        elementType: 'leftHeaderCells',\n        element: monthTd\n      });\n      var date = new Date(monthStart.getTime());\n\n      for (var column = 0; column < this.columnCount; column++) {\n        var isDateAvail = void 0;\n\n        if (this.parent.activeViewOptions.orientation === 'Vertical') {\n          monthDate = new Date(this.parent.selectedDate.getFullYear(), months[column], 1);\n          monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n          monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n          var dayDate = month - monthStart.getDay() + 1;\n          date = new Date(this.parent.selectedDate.getFullYear(), months[column], dayDate);\n          isDateAvail = dayDate > 0 && date.getTime() < monthEnd.getTime();\n        } else {\n          isDateAvail = column >= monthStart.getDay() && date.getTime() < monthEnd.getTime();\n        }\n\n        var td = createElement('td', {\n          className: cls.WORK_CELLS_CLASS,\n          attrs: {\n            'aria-selected': 'false'\n          }\n        });\n        contentTr.appendChild(td);\n        var dateHeader = createElement('div', {\n          className: cls.DATE_HEADER_CLASS + ' ' + cls.NAVIGATE_CLASS,\n          innerHTML: isDateAvail ? this.parent.globalize.formatDate(date, {\n            skeleton: 'd',\n            calendar: this.parent.getCalendarMode()\n          }) : ''\n        });\n        var skeleton = 'full';\n        var announcementText = this.parent.globalize.formatDate(date, {\n          skeleton: skeleton,\n          calendar: this.parent.getCalendarMode()\n        });\n        dateHeader.setAttribute('aria-label', announcementText);\n\n        if (isDateAvail) {\n          var tds = [td];\n          var classList = [];\n\n          if (this.parent.activeViewOptions.workDays.indexOf(date.getDay()) > -1) {\n            classList.push(cls.WORKDAY_CLASS);\n          }\n\n          if (this.isCurrentDate(date)) {\n            classList.push(cls.CURRENT_DAY_CLASS);\n\n            if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n              tds.push(this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + (\":nth-child(\" + (column + 1) + \")\")));\n            } else {\n              tds.push(this.element.querySelectorAll('.' + cls.MONTH_HEADER_CLASS).item(month));\n            }\n          }\n\n          if (classList.length > 0) {\n            addClass(tds, classList);\n          }\n        } else {\n          addClass([td], cls.OTHERMONTH_CLASS);\n        }\n\n        if (td.classList.contains(cls.OTHERMONTH_CLASS)) {\n          continue;\n        }\n\n        td.appendChild(dateHeader);\n\n        if (isDateAvail) {\n          td.setAttribute('data-date', date.getTime().toString());\n          this.wireEvents(td);\n        }\n\n        this.renderCellTemplate({\n          date: date,\n          type: 'workCells'\n        }, td);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'workCells',\n          element: td,\n          date: date\n        });\n\n        if (isDateAvail) {\n          if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n            date = util.addDays(new Date(date.getTime()), 1);\n          }\n        }\n      }\n    }\n  };\n\n  TimelineYear.prototype.getContentRows = function () {\n    var tRow = [];\n    var monthCells = this.getMonths();\n\n    for (var row = 0; row < this.parent.resourceBase.renderedResources.length; row++) {\n      var tr = createElement('tr');\n      tRow.push(tr);\n      var resData = void 0;\n\n      if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n        resData = this.parent.resourceBase.renderedResources[row];\n      }\n\n      var monthDate = new Date(this.parent.selectedDate.getFullYear(), monthCells[row], 1);\n      var date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n\n      for (var month = 0; month < this.columnCount; month++) {\n        var classList = [];\n        var groupIndex = resData.groupIndex;\n        classList = classList.concat(resData.className);\n\n        if (classList.indexOf(cls.RESOURCE_PARENT_CLASS) > -1) {\n          classList.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n        } else {\n          classList.push(cls.WORKDAY_CLASS);\n        }\n\n        monthDate = new Date(this.parent.selectedDate.getFullYear(), monthCells[month], 1);\n        date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n        var tdELe = createElement('td', {\n          className: cls.WORK_CELLS_CLASS,\n          attrs: {\n            'aria-selected': 'false',\n            'data-date': date.getTime().toString()\n          }\n        });\n        addClass([tdELe], classList);\n        tdELe.setAttribute('data-group-index', groupIndex.toString());\n        this.renderCellTemplate({\n          date: date,\n          type: 'resourceGroupCells',\n          groupIndex: groupIndex\n        }, tdELe);\n        this.wireEvents(tdELe);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'resourceGroupCells',\n          element: tdELe,\n          date: date\n        });\n        tr.appendChild(tdELe);\n      }\n    }\n\n    return tRow;\n  };\n\n  TimelineYear.prototype.renderResourceContent = function (wrapper, monthBody, contentBody) {\n    var months = this.getMonths();\n\n    for (var row = 0; row < this.rowCount; row++) {\n      wrapper.appendChild(createElement('div', {\n        className: cls.APPOINTMENT_CONTAINER_CLASS\n      }));\n      var tr = createElement('tr');\n      contentBody.appendChild(tr);\n      var resData = void 0;\n\n      if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n        resData = this.parent.resourceBase.renderedResources[row];\n      }\n\n      var monthDate = new Date(this.parent.selectedDate.getFullYear(), months[row], 1);\n      var date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n\n      if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n        var monthTr = tr.cloneNode();\n        monthBody.appendChild(monthTr);\n        var monthTd = createElement('td', {\n          className: cls.MONTH_HEADER_CLASS,\n          attrs: {\n            'data-date': date.getTime().toString()\n          }\n        });\n\n        if (this.parent.monthHeaderTemplate) {\n          append(this.renderDayMonthHeaderTemplate(monthDate, row, 'monthHeaderTemplate'), monthTd);\n        } else {\n          monthTd.innerHTML = \"<span>\" + this.getMonthName(monthDate) + \"</span>\";\n        }\n\n        monthTr.appendChild(monthTd);\n      }\n\n      for (var month = 0; month < this.columnCount; month++) {\n        var classList = [];\n        var groupIndex = void 0;\n\n        if (this.parent.activeViewOptions.orientation === 'Vertical') {\n          groupIndex = resData.groupIndex;\n          classList = classList.concat(resData.className);\n\n          if (classList.indexOf(cls.RESOURCE_PARENT_CLASS) > -1) {\n            classList.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n          } else {\n            classList.push(cls.WORKDAY_CLASS);\n          }\n\n          monthDate = new Date(this.parent.selectedDate.getFullYear(), months[month], 1);\n          date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n        } else {\n          groupIndex = this.colLevels.slice(-1)[0][month].groupIndex;\n          classList.push(cls.WORKDAY_CLASS);\n        }\n\n        var td = createElement('td', {\n          className: cls.WORK_CELLS_CLASS,\n          attrs: {\n            'aria-selected': 'false',\n            'data-date': date.getTime().toString()\n          }\n        });\n        addClass([td], classList);\n        td.setAttribute('data-group-index', groupIndex.toString());\n        this.renderCellTemplate({\n          date: date,\n          type: 'resourceGroupCells',\n          groupIndex: groupIndex\n        }, td);\n        this.wireEvents(td);\n        tr.appendChild(td);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'resourceGroupCells',\n          element: td,\n          date: date\n        });\n      }\n    }\n\n    if (this.parent.activeViewOptions.orientation === 'Vertical') {\n      this.collapseRows(this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS));\n    }\n  };\n\n  TimelineYear.prototype.renderDayMonthHeaderTemplate = function (date, column, type) {\n    var args = {\n      date: date,\n      type: type === 'dayHeaderTemplate' ? 'dayHeader' : 'monthHeader'\n    };\n    var dayId = \"schedule_\" + this.parent.activeViewOptions.dayHeaderTemplateName + \"dayHeaderTemplate\";\n    var monthId = \"schedule_\" + this.parent.activeViewOptions.dayHeaderTemplateName + \"monthHeaderTemplate\";\n\n    if (type === 'dayHeaderTemplate') {\n      args.day = this.parent.getDayNames('wide')[column % 7];\n      return [].slice.call(this.parent.getDayHeaderTemplate()(args, this.parent, 'dayHeaderTemplate', dayId, false));\n    } else {\n      return [].slice.call(this.parent.getMonthHeaderTemplate()(args, this.parent, 'monthHeaderTemplate', monthId, false));\n    }\n  };\n\n  TimelineYear.prototype.renderCellTemplate = function (data, td) {\n    if (!this.parent.activeViewOptions.cellTemplate || td.classList.contains(cls.OTHERMONTH_CLASS)) {\n      return;\n    }\n\n    var args = {\n      date: data.date,\n      type: data.type\n    };\n\n    if (data.groupIndex) {\n      args.groupIndex = data.groupIndex;\n    }\n\n    var scheduleId = this.parent.element.id + '_';\n    var viewName = this.parent.activeViewOptions.cellTemplateName;\n    var templateId = scheduleId + viewName + 'cellTemplate';\n    var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args, this.parent, 'cellTemplate', templateId, false));\n    append(cellTemplate, td);\n  };\n\n  TimelineYear.prototype.scrollToDate = function (scrollDate) {\n    var date;\n\n    if (this.parent.activeViewOptions.group.resources !== null && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      date = +new Date(util.resetTime(util.firstDateOfMonth(scrollDate)));\n    } else {\n      date = +new Date(util.resetTime(scrollDate));\n    }\n\n    var element = this.element.querySelector('[data-date=\"' + date + '\"]');\n\n    if (element) {\n      var wrap = this.getScrollableElement();\n\n      if (this.parent.enableRtl) {\n        var conTable = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n        wrap.scrollLeft = -(conTable.offsetWidth - element.offsetLeft - element.offsetWidth);\n      } else {\n        wrap.scrollLeft = element.offsetLeft;\n      }\n\n      wrap.scrollTop = element.offsetTop;\n    }\n  };\n\n  TimelineYear.prototype.getScrollableElement = function () {\n    if (this.parent.isAdaptive && !this.isTimelineView()) {\n      return this.element.querySelector('.' + cls.SCROLL_CONTAINER_CLASS);\n    } else {\n      return this.getContentAreaElement();\n    }\n  };\n\n  TimelineYear.prototype.wireEvents = function (element) {\n    EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n    EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n\n    if (!this.parent.isAdaptive) {\n      EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n    }\n  };\n\n  return TimelineYear;\n}(Year);\n\nexport { TimelineYear };","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/timeline-year.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","append","addClass","createElement","EventHandler","Year","event","cls","util","TimelineYear","_super","parent","_this","call","viewClass","isInverseTableSelect","getModuleName","renderHeader","headerWrapper","tr","appendChild","activeViewOptions","orientation","group","resources","length","uiStateValues","isGroupAdaptive","resourceBase","renderResourceHeaderIndent","leftHeaderCells","className","LEFT_INDENT_CLASS","renderResourceHeader","LEFT_INDENT_WRAP_CLASS","isHorizontal","isGroup","td","container","DATE_HEADER_CONTAINER_CLASS","DATE_HEADER_WRAP_CLASS","columnCount","colLevels","slice","wrapper","table","createTableLayout","createTableColGroup","innerTr","querySelector","months","getMonths","dayHeaderDates","getMonthDates","Date","selectedDate","getFullYear","column","date","innerTd","HEADER_CELLS_CLASS","dayHeaderTemplate","renderDayMonthHeaderTemplate","innerHTML","getDayNames","monthHeaderTemplate","getMonthName","setAttribute","getTime","toString","trigger","renderCell","elementType","element","wrap","tbl","trEle","generateColumnLevels","colData","type","_i","_a","col","ntr","cloneNode","count","_b","count_1","c","tdEle","template","colSpan","groupIndex","setResourceHeaderContent","renderHeaderIndentTemplate","args","renderContent","contentWrapper","firstTd","lastTd","tdCollection","monthTBody","push","createResourceColumn","rowCount","renderedResources","monthWrapper","MONTH_HEADER_WRAPPER","content","CONTENT_WRAP_CLASS","contentTable","CONTENT_TABLE_CLASS","setAriaAttributes","eventWrapper","EVENT_TABLE_CLASS","virtualScrollModule","renderVirtualTrack","contentTBody","rowAutoHeight","addClassTable","monthHeader","SCHEDULE_TABLE_CLASS","AUTO_HEIGHT","colCount","renderResourceContent","renderDefaultContent","monthBody","contentBody","month","APPOINTMENT_CONTAINER_CLASS","monthDate","monthStart","calendarUtil","getMonthStartDate","monthEnd","getMonthEndDate","monthTr","contentTr","monthTd","MONTH_HEADER_CLASS","isDateAvail","dayDate","getDay","WORK_CELLS_CLASS","attrs","dateHeader","DATE_HEADER_CLASS","NAVIGATE_CLASS","globalize","formatDate","skeleton","calendar","getCalendarMode","announcementText","tds","classList","workDays","indexOf","WORKDAY_CLASS","isCurrentDate","CURRENT_DAY_CLASS","querySelectorAll","item","OTHERMONTH_CLASS","contains","wireEvents","renderCellTemplate","addDays","getContentRows","tRow","monthCells","row","resData","concat","RESOURCE_PARENT_CLASS","RESOURCE_GROUP_CELLS_CLASS","tdELe","collapseRows","dayId","dayHeaderTemplateName","monthId","day","getDayHeaderTemplate","getMonthHeaderTemplate","data","cellTemplate","scheduleId","id","viewName","cellTemplateName","templateId","getCellTemplate","scrollToDate","scrollDate","resetTime","firstDateOfMonth","getScrollableElement","enableRtl","conTable","scrollLeft","offsetWidth","offsetLeft","scrollTop","offsetTop","isAdaptive","isTimelineView","SCROLL_CONTAINER_CLASS","getContentAreaElement","add","workCellAction","cellMouseDown","cellClick","cellDblClick"],"mappings":"AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAF9E;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnBF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASO,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBT,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,GAJD;AAKH,CAZ2C,EAA5C;AAaA;;;AACA,SAASI,MAAT,EAAiBC,QAAjB,EAA2BC,aAA3B,EAA0CC,YAA1C,QAA8D,sBAA9D;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,kBAAvB;AACA,OAAO,KAAKC,GAAZ,MAAqB,sBAArB;AACA,OAAO,KAAKC,IAAZ,MAAsB,cAAtB;AACA;AACA;AACA;;AACA,IAAIC,YAAY;AAAG;AAAe,UAAUC,MAAV,EAAkB;AAChDvB,EAAAA,SAAS,CAACsB,YAAD,EAAeC,MAAf,CAAT;;AACA,WAASD,YAAT,CAAsBE,MAAtB,EAA8B;AAC1B,QAAIC,KAAK,GAAGF,MAAM,CAACG,IAAP,CAAY,IAAZ,EAAkBF,MAAlB,KAA6B,IAAzC;;AACAC,IAAAA,KAAK,CAACE,SAAN,GAAkB,sBAAlB;AACAF,IAAAA,KAAK,CAACG,oBAAN,GAA6B,IAA7B;AACA,WAAOH,KAAP;AACH;;AACDH,EAAAA,YAAY,CAACV,SAAb,CAAuBiB,aAAvB,GAAuC,YAAY;AAC/C,WAAO,cAAP;AACH,GAFD;;AAGAP,EAAAA,YAAY,CAACV,SAAb,CAAuBkB,YAAvB,GAAsC,UAAUC,aAAV,EAAyB;AAC3D,QAAIC,EAAE,GAAGhB,aAAa,CAAC,IAAD,CAAtB;AACAe,IAAAA,aAAa,CAACE,WAAd,CAA0BD,EAA1B;;AACA,QAAI,KAAKR,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,UAA9C,IAA4D,KAAKX,MAAL,CAAYU,iBAAZ,CAA8BE,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAAnH,IACA,CAAC,KAAKd,MAAL,CAAYe,aAAZ,CAA0BC,eAD/B,EACgD;AAC5C,WAAKhB,MAAL,CAAYiB,YAAZ,CAAyBC,0BAAzB,CAAoDV,EAApD;AACH,KAHD,MAIK;AACD,UAAIW,eAAe,GAAG3B,aAAa,CAAC,IAAD,EAAO;AAAE4B,QAAAA,SAAS,EAAExB,GAAG,CAACyB;AAAjB,OAAP,CAAnC;AACAb,MAAAA,EAAE,CAACC,WAAH,CAAeU,eAAf;AACAA,MAAAA,eAAe,CAACV,WAAhB,CAA4B,KAAKa,oBAAL,CAA0B1B,GAAG,CAAC2B,sBAA9B,CAA5B;AACH;;AACD,QAAIC,YAAY,GAAG,KAAKxB,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,YAAjE;AACA,QAAIc,OAAO,GAAG,KAAKzB,MAAL,CAAYU,iBAAZ,CAA8BE,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAArE;AACA,SAAKV,oBAAL,GAA4BoB,YAAY,IAAI,CAACC,OAAjB,GAA2B,KAA3B,GAAmC,IAA/D;AACA,QAAIC,EAAE,GAAGlC,aAAa,CAAC,IAAD,CAAtB;AACAgB,IAAAA,EAAE,CAACC,WAAH,CAAeiB,EAAf;AACA,QAAIC,SAAS,GAAGnC,aAAa,CAAC,KAAD,EAAQ;AAAE4B,MAAAA,SAAS,EAAExB,GAAG,CAACgC;AAAjB,KAAR,CAA7B;AACAF,IAAAA,EAAE,CAACjB,WAAH,CAAekB,SAAf;;AACA,QAAI,KAAK3B,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,YAA9C,IAA8D,KAAKX,MAAL,CAAYU,iBAAZ,CAA8BE,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAArH,IACA,CAAC,KAAKd,MAAL,CAAYe,aAAZ,CAA0BC,eAD/B,EACgD;AAC5CW,MAAAA,SAAS,CAAClB,WAAV,CAAsB,KAAKa,oBAAL,CAA0B1B,GAAG,CAACiC,sBAA9B,CAAtB;AACA,WAAKC,WAAL,GAAmB,KAAKC,SAAL,CAAeC,KAAf,CAAqB,CAAC,CAAtB,EAAyB,CAAzB,EAA4BlB,MAA/C;AACH,KAJD,MAKK;AACD,UAAImB,OAAO,GAAGzC,aAAa,CAAC,KAAD,EAAQ;AAAE4B,QAAAA,SAAS,EAAExB,GAAG,CAACiC;AAAjB,OAAR,CAA3B;AACAF,MAAAA,SAAS,CAAClB,WAAV,CAAsBwB,OAAtB;AACA,UAAIC,KAAK,GAAG,KAAKC,iBAAL,EAAZ;AACAF,MAAAA,OAAO,CAACxB,WAAR,CAAoByB,KAApB;AACAA,MAAAA,KAAK,CAACzB,WAAN,CAAkB,KAAK2B,mBAAL,CAAyB,KAAKN,WAA9B,CAAlB;AACA,UAAIO,OAAO,GAAG7C,aAAa,CAAC,IAAD,CAA3B;AACA0C,MAAAA,KAAK,CAACI,aAAN,CAAoB,OAApB,EAA6B7B,WAA7B,CAAyC4B,OAAzC;AACA,UAAIE,MAAM,GAAG,KAAKC,SAAL,EAAb;AACA,UAAIC,cAAc,GAAG,KAAKC,aAAL,CAAmB,IAAIC,IAAJ,CAAS,KAAK3C,MAAL,CAAY4C,YAAZ,CAAyBC,WAAzB,EAAT,EAAiDN,MAAM,CAAC,CAAD,CAAvD,EAA4D,CAA5D,CAAnB,CAArB;;AACA,WAAK,IAAIO,MAAM,GAAG,CAAlB,EAAqBA,MAAM,GAAG,KAAKhB,WAAnC,EAAgDgB,MAAM,EAAtD,EAA0D;AACtD,YAAIC,IAAI,GAAG,IAAIJ,IAAJ,CAAS,KAAK3C,MAAL,CAAY4C,YAAZ,CAAyBC,WAAzB,EAAT,EAAiDN,MAAM,CAACO,MAAD,CAAvD,EAAiE,CAAjE,CAAX;AACA,YAAIE,OAAO,GAAGxD,aAAa,CAAC,IAAD,EAAO;AAAE4B,UAAAA,SAAS,EAAExB,GAAG,CAACqD;AAAjB,SAAP,CAA3B;;AACA,YAAI,KAAKjD,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,YAAlD,EAAgE;AAC5D,cAAI,KAAKX,MAAL,CAAYkD,iBAAhB,EAAmC;AAC/B5D,YAAAA,MAAM,CAAC,KAAK6D,4BAAL,CAAkCV,cAAc,CAACK,MAAD,CAAhD,EAA0DA,MAA1D,EAAkE,mBAAlE,CAAD,EAAyFE,OAAzF,CAAN;AACH,WAFD,MAGK;AACDA,YAAAA,OAAO,CAACI,SAAR,GAAoB,WAAW,KAAKpD,MAAL,CAAYqD,WAAZ,CAAwB,aAAxB,EAAuCP,MAAM,GAAG,CAAhD,CAAX,GAAgE,SAApF;AACH;AACJ,SAPD,MAQK;AACD,cAAI,KAAK9C,MAAL,CAAYsD,mBAAhB,EAAqC;AACjChE,YAAAA,MAAM,CAAC,KAAK6D,4BAAL,CAAkCJ,IAAlC,EAAwCR,MAAM,CAACO,MAAD,CAA9C,EAAwD,qBAAxD,CAAD,EAAiFE,OAAjF,CAAN;AACH,WAFD,MAGK;AACDA,YAAAA,OAAO,CAACI,SAAR,GAAoB,WAAW,KAAKG,YAAL,CAAkBR,IAAlB,CAAX,GAAqC,SAAzD;AACH;;AACDC,UAAAA,OAAO,CAACQ,YAAR,CAAqB,WAArB,EAAkCT,IAAI,CAACU,OAAL,GAAeC,QAAf,EAAlC;AACH;;AACDrB,QAAAA,OAAO,CAAC5B,WAAR,CAAoBuC,OAApB;AACA,aAAKhD,MAAL,CAAY2D,OAAZ,CAAoBhE,KAAK,CAACiE,UAA1B,EAAsC;AAAEC,UAAAA,WAAW,EAAE,aAAf;AAA8BC,UAAAA,OAAO,EAAEd;AAAvC,SAAtC;AACH;AACJ;AACJ,GA1DD;;AA2DAlD,EAAAA,YAAY,CAACV,SAAb,CAAuBkC,oBAAvB,GAA8C,UAAUF,SAAV,EAAqB;AAC/D,QAAI2C,IAAI,GAAGvE,aAAa,CAAC,KAAD,EAAQ;AAAE4B,MAAAA,SAAS,EAAEA;AAAb,KAAR,CAAxB;AACA,QAAI4C,GAAG,GAAG,KAAK7B,iBAAL,EAAV;AACA4B,IAAAA,IAAI,CAACtD,WAAL,CAAiBuD,GAAjB;AACA,QAAIC,KAAK,GAAGzE,aAAa,CAAC,IAAD,CAAzB;;AACA,QAAI,KAAKQ,MAAL,CAAYU,iBAAZ,CAA8BE,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAA3D,EAA8D;AAC1D,WAAKiB,SAAL,GAAiB,KAAKmC,oBAAL,EAAjB;AACH,KAFD,MAGK;AACD,UAAIC,OAAO,GAAG,CAAC;AAAE/C,QAAAA,SAAS,EAAE,CAACxB,GAAG,CAACqD,kBAAL,CAAb;AAAuCmB,QAAAA,IAAI,EAAE;AAA7C,OAAD,CAAd;AACA,WAAKrC,SAAL,GAAiB,CAACoC,OAAD,CAAjB;AACH;;AACD,SAAK,IAAIE,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAG,KAAKvC,SAA3B,EAAsCsC,EAAE,GAAGC,EAAE,CAACxD,MAA9C,EAAsDuD,EAAE,EAAxD,EAA4D;AACxD,UAAIE,GAAG,GAAGD,EAAE,CAACD,EAAD,CAAZ;AACA,UAAIG,GAAG,GAAGP,KAAK,CAACQ,SAAN,EAAV;AACA,UAAIC,KAAK,GAAGtD,SAAS,KAAKxB,GAAG,CAACiC,sBAAlB,GAA2C0C,GAA3C,GAAiD,CAACA,GAAG,CAAC,CAAD,CAAJ,CAA7D;;AACA,WAAK,IAAII,EAAE,GAAG,CAAT,EAAYC,OAAO,GAAGF,KAA3B,EAAkCC,EAAE,GAAGC,OAAO,CAAC9D,MAA/C,EAAuD6D,EAAE,EAAzD,EAA6D;AACzD,YAAIE,CAAC,GAAGD,OAAO,CAACD,EAAD,CAAf;AACA,YAAIG,KAAK,GAAGtF,aAAa,CAAC,IAAD,CAAzB;;AACA,YAAIqF,CAAC,CAACzD,SAAN,EAAiB;AACb7B,UAAAA,QAAQ,CAAC,CAACuF,KAAD,CAAD,EAAUD,CAAC,CAACzD,SAAZ,CAAR;AACH;;AACD,YAAIA,SAAS,KAAKxB,GAAG,CAACiC,sBAAtB,EAA8C;AAC1C,cAAIgD,CAAC,CAACE,QAAN,EAAgB;AACZzF,YAAAA,MAAM,CAACuF,CAAC,CAACE,QAAH,EAAaD,KAAb,CAAN;AACH;;AACD,cAAID,CAAC,CAACG,OAAN,EAAe;AACXF,YAAAA,KAAK,CAACtB,YAAN,CAAmB,SAAnB,EAA8BqB,CAAC,CAACG,OAAF,CAAUtB,QAAV,EAA9B;AACH;;AACD,cAAImB,CAAC,CAACI,UAAF,GAAe,CAAC,CAApB,EAAuB;AACnBH,YAAAA,KAAK,CAACtB,YAAN,CAAmB,kBAAnB,EAAuCqB,CAAC,CAACI,UAAF,CAAavB,QAAb,EAAvC;AACH;;AACD,eAAKwB,wBAAL,CAA8BJ,KAA9B,EAAqCD,CAArC;AACH;;AACD,YAAIzD,SAAS,KAAKxB,GAAG,CAAC2B,sBAAtB,EAA8C;AAC1C,eAAKvB,MAAL,CAAYmF,0BAAZ,CAAuCN,CAAvC,EAA0CC,KAA1C;AACH;;AACD,YAAIM,IAAI,GAAG;AAAEvB,UAAAA,WAAW,EAAEgB,CAAC,CAACT,IAAjB;AAAuBN,UAAAA,OAAO,EAAEgB,KAAhC;AAAuC/B,UAAAA,IAAI,EAAE8B,CAAC,CAAC9B,IAA/C;AAAqDkC,UAAAA,UAAU,EAAEJ,CAAC,CAACI;AAAnE,SAAX;AACA,aAAKjF,MAAL,CAAY2D,OAAZ,CAAoBhE,KAAK,CAACiE,UAA1B,EAAsCwB,IAAtC;AACAZ,QAAAA,GAAG,CAAC/D,WAAJ,CAAgBqE,KAAhB;AACH;;AACDd,MAAAA,GAAG,CAAC1B,aAAJ,CAAkB,OAAlB,EAA2B7B,WAA3B,CAAuC+D,GAAvC;AACH;;AACD,QAAIpD,SAAS,KAAKxB,GAAG,CAACiC,sBAAtB,EAA8C;AAC1CmC,MAAAA,GAAG,CAACvD,WAAJ,CAAgB,KAAK2B,mBAAL,CAAyB,KAAKL,SAAL,CAAeC,KAAf,CAAqB,CAAC,CAAtB,EAAyB,CAAzB,EAA4BlB,MAArD,CAAhB;AACH;;AACD,WAAOiD,IAAP;AACH,GA/CD;;AAgDAjE,EAAAA,YAAY,CAACV,SAAb,CAAuBiG,aAAvB,GAAuC,UAAUC,cAAV,EAA0B;AAC7D,QAAI9E,EAAE,GAAGhB,aAAa,CAAC,IAAD,CAAtB;AACA8F,IAAAA,cAAc,CAAC7E,WAAf,CAA2BD,EAA3B;AACA,QAAI+E,OAAO,GAAG/F,aAAa,CAAC,IAAD,CAA3B;AACA,QAAIgG,MAAM,GAAGhG,aAAa,CAAC,IAAD,CAA1B;AACA,QAAIiG,YAAY,GAAG,EAAnB;AACA,QAAIC,UAAJ;;AACA,QAAI,KAAK1F,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,UAA9C,IAA4D,KAAKX,MAAL,CAAYU,iBAAZ,CAA8BE,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAAnH,IACA,CAAC,KAAKd,MAAL,CAAYe,aAAZ,CAA0BC,eAD/B,EACgD;AAC5CyE,MAAAA,YAAY,CAACE,IAAb,CAAkBJ,OAAlB;AACAA,MAAAA,OAAO,CAAC9E,WAAR,CAAoB,KAAKT,MAAL,CAAYiB,YAAZ,CAAyB2E,oBAAzB,EAApB;AACA,WAAKC,QAAL,GAAgB,KAAK7F,MAAL,CAAYiB,YAAZ,CAAyB6E,iBAAzB,CAA2ChF,MAA3D;AACH,KALD,MAMK;AACD2E,MAAAA,YAAY,CAACE,IAAb,CAAkBJ,OAAlB;AACA,UAAIQ,YAAY,GAAGvG,aAAa,CAAC,KAAD,EAAQ;AAAE4B,QAAAA,SAAS,EAAExB,GAAG,CAACoG;AAAjB,OAAR,CAAhC;AACAT,MAAAA,OAAO,CAAC9E,WAAR,CAAoBsF,YAApB;AACAA,MAAAA,YAAY,CAACtF,WAAb,CAAyB,KAAK0B,iBAAL,EAAzB;AACAuD,MAAAA,UAAU,GAAGK,YAAY,CAACzD,aAAb,CAA2B,OAA3B,CAAb;AACH;;AACDmD,IAAAA,YAAY,CAACE,IAAb,CAAkBH,MAAlB;AACAlG,IAAAA,MAAM,CAACmG,YAAD,EAAejF,EAAf,CAAN;AACA,QAAIyF,OAAO,GAAGzG,aAAa,CAAC,KAAD,EAAQ;AAAE4B,MAAAA,SAAS,EAAExB,GAAG,CAACsG;AAAjB,KAAR,CAA3B;AACAV,IAAAA,MAAM,CAAC/E,WAAP,CAAmBwF,OAAnB;AACA,QAAIE,YAAY,GAAG,KAAKhE,iBAAL,CAAuBvC,GAAG,CAACwG,mBAA3B,CAAnB;AACA,SAAKC,iBAAL,CAAuBF,YAAvB;AACAF,IAAAA,OAAO,CAACxF,WAAR,CAAoB0F,YAApB;AACA,QAAIG,YAAY,GAAG9G,aAAa,CAAC,KAAD,EAAQ;AAAE4B,MAAAA,SAAS,EAAExB,GAAG,CAAC2G;AAAjB,KAAR,CAAhC;AACAN,IAAAA,OAAO,CAACxF,WAAR,CAAoB6F,YAApB;;AACA,QAAI,KAAKtG,MAAL,CAAYwG,mBAAhB,EAAqC;AACjC,WAAKxG,MAAL,CAAYwG,mBAAZ,CAAgCC,kBAAhC,CAAmDR,OAAnD;AACH;;AACD,QAAIS,YAAY,GAAGP,YAAY,CAAC7D,aAAb,CAA2B,OAA3B,CAAnB;;AACA,QAAI,KAAKtC,MAAL,CAAYU,iBAAZ,CAA8BE,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAAvD,IAA4D,CAAC,KAAKd,MAAL,CAAYe,aAAZ,CAA0BC,eAA3F,EAA4G;AACxG,UAAI,KAAKhB,MAAL,CAAY2G,aAAhB,EAA+B;AAC3B,YAAIC,aAAa,GAAG,CAACT,YAAD,CAApB;AACA,YAAIU,WAAW,GAAG,KAAK7G,MAAL,CAAY8D,OAAZ,CAAoBxB,aAApB,CAAkC,MAAM1C,GAAG,CAACoG,oBAAV,GAAiC,IAAjC,GAAwCpG,GAAG,CAACkH,oBAA9E,CAAlB;;AACA,YAAID,WAAJ,EAAiB;AACbD,UAAAA,aAAa,CAACjB,IAAd,CAAmBkB,WAAnB;AACH;;AACDtH,QAAAA,QAAQ,CAACqH,aAAD,EAAgBhH,GAAG,CAACmH,WAApB,CAAR;AACH;;AACD,UAAIC,QAAQ,GAAG,KAAKhH,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,YAA9C,GAA6D,KAAKoB,SAAL,CAAeC,KAAf,CAAqB,CAAC,CAAtB,EAAyB,CAAzB,EAA4BlB,MAAzF,GAAkG,KAAKgB,WAAtH;AACAqE,MAAAA,YAAY,CAAC1F,WAAb,CAAyB,KAAK2B,mBAAL,CAAyB4E,QAAzB,CAAzB;AACA,WAAKC,qBAAL,CAA2BX,YAA3B,EAAyCZ,UAAzC,EAAqDgB,YAArD;AACH,KAZD,MAaK;AACDP,MAAAA,YAAY,CAAC1F,WAAb,CAAyB,KAAK2B,mBAAL,CAAyB,KAAKN,WAA9B,CAAzB;AACA,WAAKoF,oBAAL,CAA0BZ,YAA1B,EAAwCZ,UAAxC,EAAoDgB,YAApD;AACH;AACJ,GAlDD;;AAmDA5G,EAAAA,YAAY,CAACV,SAAb,CAAuB8H,oBAAvB,GAA8C,UAAUjF,OAAV,EAAmBkF,SAAnB,EAA8BC,WAA9B,EAA2C;AACrF,QAAI7E,MAAM,GAAG,KAAKC,SAAL,EAAb;AACA,QAAIC,cAAc,GAAG,KAAKC,aAAL,CAAmB,IAAIC,IAAJ,CAAS,KAAK3C,MAAL,CAAY4C,YAAZ,CAAyBC,WAAzB,EAAT,EAAiDN,MAAM,CAAC,CAAD,CAAvD,EAA4D,CAA5D,CAAnB,CAArB;;AACA,SAAK,IAAI8E,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKxB,QAAjC,EAA2CwB,KAAK,EAAhD,EAAoD;AAChDpF,MAAAA,OAAO,CAACxB,WAAR,CAAoBjB,aAAa,CAAC,KAAD,EAAQ;AAAE4B,QAAAA,SAAS,EAAExB,GAAG,CAAC0H;AAAjB,OAAR,CAAjC;AACA,UAAIC,SAAS,GAAG,IAAI5E,IAAJ,CAAS,KAAK3C,MAAL,CAAY4C,YAAZ,CAAyBC,WAAzB,EAAT,EAAiDN,MAAM,CAAC8E,KAAD,CAAvD,EAAgE,CAAhE,CAAhB;AACA,UAAIG,UAAU,GAAG,KAAKxH,MAAL,CAAYyH,YAAZ,CAAyBC,iBAAzB,CAA2C,IAAI/E,IAAJ,CAAS4E,SAAS,CAAC9D,OAAV,EAAT,CAA3C,CAAjB;AACA,UAAIkE,QAAQ,GAAG,KAAK3H,MAAL,CAAYyH,YAAZ,CAAyBG,eAAzB,CAAyC,IAAIjF,IAAJ,CAAS4E,SAAS,CAAC9D,OAAV,EAAT,CAAzC,CAAf;AACA,UAAIjD,EAAE,GAAGhB,aAAa,CAAC,IAAD,CAAtB;AACA,UAAIqI,OAAO,GAAGrH,EAAE,CAACiE,SAAH,EAAd;AACA0C,MAAAA,SAAS,CAAC1G,WAAV,CAAsBoH,OAAtB;AACA,UAAIC,SAAS,GAAGtH,EAAE,CAACiE,SAAH,EAAhB;AACA2C,MAAAA,WAAW,CAAC3G,WAAZ,CAAwBqH,SAAxB;AACA,UAAIC,OAAO,GAAGvI,aAAa,CAAC,IAAD,EAAO;AAAE4B,QAAAA,SAAS,EAAExB,GAAG,CAACoI;AAAjB,OAAP,CAA3B;;AACA,UAAI,KAAKhI,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,YAAlD,EAAgE;AAC5D,YAAI,KAAKX,MAAL,CAAYsD,mBAAhB,EAAqC;AACjChE,UAAAA,MAAM,CAAC,KAAK6D,4BAAL,CAAkCqE,UAAlC,EAA8CH,KAA9C,EAAqD,qBAArD,CAAD,EAA8EU,OAA9E,CAAN;AACH,SAFD,MAGK;AACDA,UAAAA,OAAO,CAAC3E,SAAR,GAAoB,WAAW,KAAKG,YAAL,CAAkBgE,SAAlB,CAAX,GAA0C,SAA9D;AACH;;AACDQ,QAAAA,OAAO,CAACvE,YAAR,CAAqB,WAArB,EAAkC+D,SAAS,CAAC9D,OAAV,GAAoBC,QAApB,EAAlC;AACH,OARD,MASK;AACD,YAAI,KAAK1D,MAAL,CAAYkD,iBAAhB,EAAmC;AAC/B5D,UAAAA,MAAM,CAAC,KAAK6D,4BAAL,CAAkCV,cAAc,CAAC4E,KAAD,CAAhD,EAAyDA,KAAzD,EAAgE,mBAAhE,CAAD,EAAuFU,OAAvF,CAAN;AACH,SAFD,MAGK;AACDA,UAAAA,OAAO,CAAC3E,SAAR,GAAoB,WAAW,KAAKpD,MAAL,CAAYqD,WAAZ,CAAwB,aAAxB,EAAuCgE,KAAK,GAAG,CAA/C,CAAX,GAA+D,SAAnF;AACH;AACJ;;AACDQ,MAAAA,OAAO,CAACpH,WAAR,CAAoBsH,OAApB;AACA,WAAK/H,MAAL,CAAY2D,OAAZ,CAAoBhE,KAAK,CAACiE,UAA1B,EAAsC;AAAEC,QAAAA,WAAW,EAAE,iBAAf;AAAkCC,QAAAA,OAAO,EAAEiE;AAA3C,OAAtC;AACA,UAAIhF,IAAI,GAAG,IAAIJ,IAAJ,CAAS6E,UAAU,CAAC/D,OAAX,EAAT,CAAX;;AACA,WAAK,IAAIX,MAAM,GAAG,CAAlB,EAAqBA,MAAM,GAAG,KAAKhB,WAAnC,EAAgDgB,MAAM,EAAtD,EAA0D;AACtD,YAAImF,WAAW,GAAG,KAAK,CAAvB;;AACA,YAAI,KAAKjI,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,UAAlD,EAA8D;AAC1D4G,UAAAA,SAAS,GAAG,IAAI5E,IAAJ,CAAS,KAAK3C,MAAL,CAAY4C,YAAZ,CAAyBC,WAAzB,EAAT,EAAiDN,MAAM,CAACO,MAAD,CAAvD,EAAiE,CAAjE,CAAZ;AACA0E,UAAAA,UAAU,GAAG,KAAKxH,MAAL,CAAYyH,YAAZ,CAAyBC,iBAAzB,CAA2C,IAAI/E,IAAJ,CAAS4E,SAAS,CAAC9D,OAAV,EAAT,CAA3C,CAAb;AACAkE,UAAAA,QAAQ,GAAG,KAAK3H,MAAL,CAAYyH,YAAZ,CAAyBG,eAAzB,CAAyC,IAAIjF,IAAJ,CAAS4E,SAAS,CAAC9D,OAAV,EAAT,CAAzC,CAAX;AACA,cAAIyE,OAAO,GAAIb,KAAK,GAAGG,UAAU,CAACW,MAAX,EAAT,GAAgC,CAA9C;AACApF,UAAAA,IAAI,GAAG,IAAIJ,IAAJ,CAAS,KAAK3C,MAAL,CAAY4C,YAAZ,CAAyBC,WAAzB,EAAT,EAAiDN,MAAM,CAACO,MAAD,CAAvD,EAAiEoF,OAAjE,CAAP;AACAD,UAAAA,WAAW,GAAGC,OAAO,GAAG,CAAV,IAAenF,IAAI,CAACU,OAAL,KAAiBkE,QAAQ,CAAClE,OAAT,EAA9C;AACH,SAPD,MAQK;AACDwE,UAAAA,WAAW,GAAGnF,MAAM,IAAI0E,UAAU,CAACW,MAAX,EAAV,IAAiCpF,IAAI,CAACU,OAAL,KAAiBkE,QAAQ,CAAClE,OAAT,EAAhE;AACH;;AACD,YAAI/B,EAAE,GAAGlC,aAAa,CAAC,IAAD,EAAO;AACzB4B,UAAAA,SAAS,EAAExB,GAAG,CAACwI,gBADU;AACQC,UAAAA,KAAK,EAAE;AAAE,6BAAiB;AAAnB;AADf,SAAP,CAAtB;AAGAP,QAAAA,SAAS,CAACrH,WAAV,CAAsBiB,EAAtB;AACA,YAAI4G,UAAU,GAAG9I,aAAa,CAAC,KAAD,EAAQ;AAClC4B,UAAAA,SAAS,EAAExB,GAAG,CAAC2I,iBAAJ,GAAwB,GAAxB,GAA8B3I,GAAG,CAAC4I,cADX;AAElCpF,UAAAA,SAAS,EAAG6E,WAAD,GACP,KAAKjI,MAAL,CAAYyI,SAAZ,CAAsBC,UAAtB,CAAiC3F,IAAjC,EAAuC;AAAE4F,YAAAA,QAAQ,EAAE,GAAZ;AAAiBC,YAAAA,QAAQ,EAAE,KAAK5I,MAAL,CAAY6I,eAAZ;AAA3B,WAAvC,CADO,GAC8F;AAHvE,SAAR,CAA9B;AAKA,YAAIF,QAAQ,GAAG,MAAf;AACA,YAAIG,gBAAgB,GAAG,KAAK9I,MAAL,CAAYyI,SAAZ,CAAsBC,UAAtB,CAAiC3F,IAAjC,EAAuC;AAC1D4F,UAAAA,QAAQ,EAAEA,QADgD;AACtCC,UAAAA,QAAQ,EAAE,KAAK5I,MAAL,CAAY6I,eAAZ;AAD4B,SAAvC,CAAvB;AAGAP,QAAAA,UAAU,CAAC9E,YAAX,CAAwB,YAAxB,EAAsCsF,gBAAtC;;AACA,YAAIb,WAAJ,EAAiB;AACb,cAAIc,GAAG,GAAG,CAACrH,EAAD,CAAV;AACA,cAAIsH,SAAS,GAAG,EAAhB;;AACA,cAAI,KAAKhJ,MAAL,CAAYU,iBAAZ,CAA8BuI,QAA9B,CAAuCC,OAAvC,CAA+CnG,IAAI,CAACoF,MAAL,EAA/C,IAAgE,CAAC,CAArE,EAAwE;AACpEa,YAAAA,SAAS,CAACrD,IAAV,CAAe/F,GAAG,CAACuJ,aAAnB;AACH;;AACD,cAAI,KAAKC,aAAL,CAAmBrG,IAAnB,CAAJ,EAA8B;AAC1BiG,YAAAA,SAAS,CAACrD,IAAV,CAAe/F,GAAG,CAACyJ,iBAAnB;;AACA,gBAAI,KAAKrJ,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,YAAlD,EAAgE;AAC5DoI,cAAAA,GAAG,CAACpD,IAAJ,CAAS,KAAK7B,OAAL,CAAaxB,aAAb,CAA2B,MAAM1C,GAAG,CAACqD,kBAAV,IAAgC,iBAAiBH,MAAM,GAAG,CAA1B,IAA+B,GAA/D,CAA3B,CAAT;AACH,aAFD,MAGK;AACDiG,cAAAA,GAAG,CAACpD,IAAJ,CAAS,KAAK7B,OAAL,CAAawF,gBAAb,CAA8B,MAAM1J,GAAG,CAACoI,kBAAxC,EAA4DuB,IAA5D,CAAiElC,KAAjE,CAAT;AACH;AACJ;;AACD,cAAI2B,SAAS,CAAClI,MAAV,GAAmB,CAAvB,EAA0B;AACtBvB,YAAAA,QAAQ,CAACwJ,GAAD,EAAMC,SAAN,CAAR;AACH;AACJ,SAlBD,MAmBK;AACDzJ,UAAAA,QAAQ,CAAC,CAACmC,EAAD,CAAD,EAAO9B,GAAG,CAAC4J,gBAAX,CAAR;AACH;;AACD,YAAI9H,EAAE,CAACsH,SAAH,CAAaS,QAAb,CAAsB7J,GAAG,CAAC4J,gBAA1B,CAAJ,EAAiD;AAC7C;AACH;;AACD9H,QAAAA,EAAE,CAACjB,WAAH,CAAe6H,UAAf;;AACA,YAAIL,WAAJ,EAAiB;AACbvG,UAAAA,EAAE,CAAC8B,YAAH,CAAgB,WAAhB,EAA6BT,IAAI,CAACU,OAAL,GAAeC,QAAf,EAA7B;AACA,eAAKgG,UAAL,CAAgBhI,EAAhB;AACH;;AACD,aAAKiI,kBAAL,CAAwB;AAAE5G,UAAAA,IAAI,EAAEA,IAAR;AAAcqB,UAAAA,IAAI,EAAE;AAApB,SAAxB,EAA2D1C,EAA3D;AACA,aAAK1B,MAAL,CAAY2D,OAAZ,CAAoBhE,KAAK,CAACiE,UAA1B,EAAsC;AAAEC,UAAAA,WAAW,EAAE,WAAf;AAA4BC,UAAAA,OAAO,EAAEpC,EAArC;AAAyCqB,UAAAA,IAAI,EAAEA;AAA/C,SAAtC;;AACA,YAAIkF,WAAJ,EAAiB;AACb,cAAI,KAAKjI,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,YAAlD,EAAgE;AAC5DoC,YAAAA,IAAI,GAAGlD,IAAI,CAAC+J,OAAL,CAAa,IAAIjH,IAAJ,CAASI,IAAI,CAACU,OAAL,EAAT,CAAb,EAAuC,CAAvC,CAAP;AACH;AACJ;AACJ;AACJ;AACJ,GApGD;;AAqGA3D,EAAAA,YAAY,CAACV,SAAb,CAAuByK,cAAvB,GAAwC,YAAY;AAChD,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIC,UAAU,GAAG,KAAKvH,SAAL,EAAjB;;AACA,SAAK,IAAIwH,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAKhK,MAAL,CAAYiB,YAAZ,CAAyB6E,iBAAzB,CAA2ChF,MAAnE,EAA2EkJ,GAAG,EAA9E,EAAkF;AAC9E,UAAIxJ,EAAE,GAAGhB,aAAa,CAAC,IAAD,CAAtB;AACAsK,MAAAA,IAAI,CAACnE,IAAL,CAAUnF,EAAV;AACA,UAAIyJ,OAAO,GAAG,KAAK,CAAnB;;AACA,UAAI,KAAKjK,MAAL,CAAYU,iBAAZ,CAA8BE,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAAvD,IAA4D,CAAC,KAAKd,MAAL,CAAYe,aAAZ,CAA0BC,eAA3F,EAA4G;AACxGiJ,QAAAA,OAAO,GAAG,KAAKjK,MAAL,CAAYiB,YAAZ,CAAyB6E,iBAAzB,CAA2CkE,GAA3C,CAAV;AACH;;AACD,UAAIzC,SAAS,GAAG,IAAI5E,IAAJ,CAAS,KAAK3C,MAAL,CAAY4C,YAAZ,CAAyBC,WAAzB,EAAT,EAAiDkH,UAAU,CAACC,GAAD,CAA3D,EAAkE,CAAlE,CAAhB;AACA,UAAIjH,IAAI,GAAG,KAAK/C,MAAL,CAAYyH,YAAZ,CAAyBC,iBAAzB,CAA2C,IAAI/E,IAAJ,CAAS4E,SAAS,CAAC9D,OAAV,EAAT,CAA3C,CAAX;;AACA,WAAK,IAAI4D,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKvF,WAAjC,EAA8CuF,KAAK,EAAnD,EAAuD;AACnD,YAAI2B,SAAS,GAAG,EAAhB;AACA,YAAI/D,UAAU,GAAGgF,OAAO,CAAChF,UAAzB;AACA+D,QAAAA,SAAS,GAAGA,SAAS,CAACkB,MAAV,CAAiBD,OAAO,CAAC7I,SAAzB,CAAZ;;AACA,YAAI4H,SAAS,CAACE,OAAV,CAAkBtJ,GAAG,CAACuK,qBAAtB,IAA+C,CAAC,CAApD,EAAuD;AACnDnB,UAAAA,SAAS,CAACrD,IAAV,CAAe/F,GAAG,CAACwK,0BAAnB;AACH,SAFD,MAGK;AACDpB,UAAAA,SAAS,CAACrD,IAAV,CAAe/F,GAAG,CAACuJ,aAAnB;AACH;;AACD5B,QAAAA,SAAS,GAAG,IAAI5E,IAAJ,CAAS,KAAK3C,MAAL,CAAY4C,YAAZ,CAAyBC,WAAzB,EAAT,EAAiDkH,UAAU,CAAC1C,KAAD,CAA3D,EAAoE,CAApE,CAAZ;AACAtE,QAAAA,IAAI,GAAG,KAAK/C,MAAL,CAAYyH,YAAZ,CAAyBC,iBAAzB,CAA2C,IAAI/E,IAAJ,CAAS4E,SAAS,CAAC9D,OAAV,EAAT,CAA3C,CAAP;AACA,YAAI4G,KAAK,GAAG7K,aAAa,CAAC,IAAD,EAAO;AAC5B4B,UAAAA,SAAS,EAAExB,GAAG,CAACwI,gBADa;AAE5BC,UAAAA,KAAK,EAAE;AACH,6BAAiB,OADd;AAEH,yBAAatF,IAAI,CAACU,OAAL,GAAeC,QAAf;AAFV;AAFqB,SAAP,CAAzB;AAOAnE,QAAAA,QAAQ,CAAC,CAAC8K,KAAD,CAAD,EAAUrB,SAAV,CAAR;AACAqB,QAAAA,KAAK,CAAC7G,YAAN,CAAmB,kBAAnB,EAAuCyB,UAAU,CAACvB,QAAX,EAAvC;AACA,aAAKiG,kBAAL,CAAwB;AAAE5G,UAAAA,IAAI,EAAEA,IAAR;AAAcqB,UAAAA,IAAI,EAAE,oBAApB;AAA0Ca,UAAAA,UAAU,EAAEA;AAAtD,SAAxB,EAA4FoF,KAA5F;AACA,aAAKX,UAAL,CAAgBW,KAAhB;AACA,aAAKrK,MAAL,CAAY2D,OAAZ,CAAoBhE,KAAK,CAACiE,UAA1B,EAAsC;AAAEC,UAAAA,WAAW,EAAE,oBAAf;AAAqCC,UAAAA,OAAO,EAAEuG,KAA9C;AAAqDtH,UAAAA,IAAI,EAAEA;AAA3D,SAAtC;AACAvC,QAAAA,EAAE,CAACC,WAAH,CAAe4J,KAAf;AACH;AACJ;;AACD,WAAOP,IAAP;AACH,GAxCD;;AAyCAhK,EAAAA,YAAY,CAACV,SAAb,CAAuB6H,qBAAvB,GAA+C,UAAUhF,OAAV,EAAmBkF,SAAnB,EAA8BC,WAA9B,EAA2C;AACtF,QAAI7E,MAAM,GAAG,KAAKC,SAAL,EAAb;;AACA,SAAK,IAAIwH,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAKnE,QAA7B,EAAuCmE,GAAG,EAA1C,EAA8C;AAC1C/H,MAAAA,OAAO,CAACxB,WAAR,CAAoBjB,aAAa,CAAC,KAAD,EAAQ;AAAE4B,QAAAA,SAAS,EAAExB,GAAG,CAAC0H;AAAjB,OAAR,CAAjC;AACA,UAAI9G,EAAE,GAAGhB,aAAa,CAAC,IAAD,CAAtB;AACA4H,MAAAA,WAAW,CAAC3G,WAAZ,CAAwBD,EAAxB;AACA,UAAIyJ,OAAO,GAAG,KAAK,CAAnB;;AACA,UAAI,KAAKjK,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,UAA9C,IAA4D,KAAKX,MAAL,CAAYU,iBAAZ,CAA8BE,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAAnH,IAAwH,CAAC,KAAKd,MAAL,CAAYe,aAAZ,CAA0BC,eAAvJ,EAAwK;AACpKiJ,QAAAA,OAAO,GAAG,KAAKjK,MAAL,CAAYiB,YAAZ,CAAyB6E,iBAAzB,CAA2CkE,GAA3C,CAAV;AACH;;AACD,UAAIzC,SAAS,GAAG,IAAI5E,IAAJ,CAAS,KAAK3C,MAAL,CAAY4C,YAAZ,CAAyBC,WAAzB,EAAT,EAAiDN,MAAM,CAACyH,GAAD,CAAvD,EAA8D,CAA9D,CAAhB;AACA,UAAIjH,IAAI,GAAG,KAAK/C,MAAL,CAAYyH,YAAZ,CAAyBC,iBAAzB,CAA2C,IAAI/E,IAAJ,CAAS4E,SAAS,CAAC9D,OAAV,EAAT,CAA3C,CAAX;;AACA,UAAI,KAAKzD,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,YAAlD,EAAgE;AAC5D,YAAIkH,OAAO,GAAGrH,EAAE,CAACiE,SAAH,EAAd;AACA0C,QAAAA,SAAS,CAAC1G,WAAV,CAAsBoH,OAAtB;AACA,YAAIE,OAAO,GAAGvI,aAAa,CAAC,IAAD,EAAO;AAC9B4B,UAAAA,SAAS,EAAExB,GAAG,CAACoI,kBADe;AAE9BK,UAAAA,KAAK,EAAE;AAAE,yBAAatF,IAAI,CAACU,OAAL,GAAeC,QAAf;AAAf;AAFuB,SAAP,CAA3B;;AAIA,YAAI,KAAK1D,MAAL,CAAYsD,mBAAhB,EAAqC;AACjChE,UAAAA,MAAM,CAAC,KAAK6D,4BAAL,CAAkCoE,SAAlC,EAA6CyC,GAA7C,EAAkD,qBAAlD,CAAD,EAA2EjC,OAA3E,CAAN;AACH,SAFD,MAGK;AACDA,UAAAA,OAAO,CAAC3E,SAAR,GAAoB,WAAW,KAAKG,YAAL,CAAkBgE,SAAlB,CAAX,GAA0C,SAA9D;AACH;;AACDM,QAAAA,OAAO,CAACpH,WAAR,CAAoBsH,OAApB;AACH;;AACD,WAAK,IAAIV,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKvF,WAAjC,EAA8CuF,KAAK,EAAnD,EAAuD;AACnD,YAAI2B,SAAS,GAAG,EAAhB;AACA,YAAI/D,UAAU,GAAG,KAAK,CAAtB;;AACA,YAAI,KAAKjF,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,UAAlD,EAA8D;AAC1DsE,UAAAA,UAAU,GAAGgF,OAAO,CAAChF,UAArB;AACA+D,UAAAA,SAAS,GAAGA,SAAS,CAACkB,MAAV,CAAiBD,OAAO,CAAC7I,SAAzB,CAAZ;;AACA,cAAI4H,SAAS,CAACE,OAAV,CAAkBtJ,GAAG,CAACuK,qBAAtB,IAA+C,CAAC,CAApD,EAAuD;AACnDnB,YAAAA,SAAS,CAACrD,IAAV,CAAe/F,GAAG,CAACwK,0BAAnB;AACH,WAFD,MAGK;AACDpB,YAAAA,SAAS,CAACrD,IAAV,CAAe/F,GAAG,CAACuJ,aAAnB;AACH;;AACD5B,UAAAA,SAAS,GAAG,IAAI5E,IAAJ,CAAS,KAAK3C,MAAL,CAAY4C,YAAZ,CAAyBC,WAAzB,EAAT,EAAiDN,MAAM,CAAC8E,KAAD,CAAvD,EAAgE,CAAhE,CAAZ;AACAtE,UAAAA,IAAI,GAAG,KAAK/C,MAAL,CAAYyH,YAAZ,CAAyBC,iBAAzB,CAA2C,IAAI/E,IAAJ,CAAS4E,SAAS,CAAC9D,OAAV,EAAT,CAA3C,CAAP;AACH,SAXD,MAYK;AACDwB,UAAAA,UAAU,GAAG,KAAKlD,SAAL,CAAeC,KAAf,CAAqB,CAAC,CAAtB,EAAyB,CAAzB,EAA4BqF,KAA5B,EAAmCpC,UAAhD;AACA+D,UAAAA,SAAS,CAACrD,IAAV,CAAe/F,GAAG,CAACuJ,aAAnB;AACH;;AACD,YAAIzH,EAAE,GAAGlC,aAAa,CAAC,IAAD,EAAO;AACzB4B,UAAAA,SAAS,EAAExB,GAAG,CAACwI,gBADU;AAEzBC,UAAAA,KAAK,EAAE;AACH,6BAAiB,OADd;AAEH,yBAAatF,IAAI,CAACU,OAAL,GAAeC,QAAf;AAFV;AAFkB,SAAP,CAAtB;AAOAnE,QAAAA,QAAQ,CAAC,CAACmC,EAAD,CAAD,EAAOsH,SAAP,CAAR;AACAtH,QAAAA,EAAE,CAAC8B,YAAH,CAAgB,kBAAhB,EAAoCyB,UAAU,CAACvB,QAAX,EAApC;AACA,aAAKiG,kBAAL,CAAwB;AAAE5G,UAAAA,IAAI,EAAEA,IAAR;AAAcqB,UAAAA,IAAI,EAAE,oBAApB;AAA0Ca,UAAAA,UAAU,EAAEA;AAAtD,SAAxB,EAA4FvD,EAA5F;AACA,aAAKgI,UAAL,CAAgBhI,EAAhB;AACAlB,QAAAA,EAAE,CAACC,WAAH,CAAeiB,EAAf;AACA,aAAK1B,MAAL,CAAY2D,OAAZ,CAAoBhE,KAAK,CAACiE,UAA1B,EAAsC;AAAEC,UAAAA,WAAW,EAAE,oBAAf;AAAqCC,UAAAA,OAAO,EAAEpC,EAA9C;AAAkDqB,UAAAA,IAAI,EAAEA;AAAxD,SAAtC;AACH;AACJ;;AACD,QAAI,KAAK/C,MAAL,CAAYU,iBAAZ,CAA8BC,WAA9B,KAA8C,UAAlD,EAA8D;AAC1D,WAAK2J,YAAL,CAAkB,KAAKtK,MAAL,CAAY8D,OAAZ,CAAoBxB,aAApB,CAAkC,MAAM1C,GAAG,CAACsG,kBAA5C,CAAlB;AACH;AACJ,GAhED;;AAiEApG,EAAAA,YAAY,CAACV,SAAb,CAAuB+D,4BAAvB,GAAsD,UAAUJ,IAAV,EAAgBD,MAAhB,EAAwBsB,IAAxB,EAA8B;AAChF,QAAIgB,IAAI,GAAG;AAAErC,MAAAA,IAAI,EAAEA,IAAR;AAAcqB,MAAAA,IAAI,EAAEA,IAAI,KAAK,mBAAT,GAA+B,WAA/B,GAA6C;AAAjE,KAAX;AACA,QAAImG,KAAK,GAAG,cAAc,KAAKvK,MAAL,CAAYU,iBAAZ,CAA8B8J,qBAA5C,GAAoE,mBAAhF;AACA,QAAIC,OAAO,GAAG,cAAc,KAAKzK,MAAL,CAAYU,iBAAZ,CAA8B8J,qBAA5C,GAAoE,qBAAlF;;AACA,QAAIpG,IAAI,KAAK,mBAAb,EAAkC;AAC9BgB,MAAAA,IAAI,CAACsF,GAAL,GAAW,KAAK1K,MAAL,CAAYqD,WAAZ,CAAwB,MAAxB,EAAgCP,MAAM,GAAG,CAAzC,CAAX;AACA,aAAO,GAAGd,KAAH,CAAS9B,IAAT,CAAc,KAAKF,MAAL,CAAY2K,oBAAZ,GAAmCvF,IAAnC,EAAyC,KAAKpF,MAA9C,EAAsD,mBAAtD,EAA2EuK,KAA3E,EAAkF,KAAlF,CAAd,CAAP;AACH,KAHD,MAIK;AACD,aAAO,GAAGvI,KAAH,CAAS9B,IAAT,CAAc,KAAKF,MAAL,CAAY4K,sBAAZ,GAAqCxF,IAArC,EAA2C,KAAKpF,MAAhD,EAAwD,qBAAxD,EAA+EyK,OAA/E,EAAwF,KAAxF,CAAd,CAAP;AACH;AACJ,GAXD;;AAYA3K,EAAAA,YAAY,CAACV,SAAb,CAAuBuK,kBAAvB,GAA4C,UAAUkB,IAAV,EAAgBnJ,EAAhB,EAAoB;AAC5D,QAAI,CAAC,KAAK1B,MAAL,CAAYU,iBAAZ,CAA8BoK,YAA/B,IAA+CpJ,EAAE,CAACsH,SAAH,CAAaS,QAAb,CAAsB7J,GAAG,CAAC4J,gBAA1B,CAAnD,EAAgG;AAC5F;AACH;;AACD,QAAIpE,IAAI,GAAG;AAAErC,MAAAA,IAAI,EAAE8H,IAAI,CAAC9H,IAAb;AAAmBqB,MAAAA,IAAI,EAAEyG,IAAI,CAACzG;AAA9B,KAAX;;AACA,QAAIyG,IAAI,CAAC5F,UAAT,EAAqB;AACjBG,MAAAA,IAAI,CAACH,UAAL,GAAkB4F,IAAI,CAAC5F,UAAvB;AACH;;AACD,QAAI8F,UAAU,GAAG,KAAK/K,MAAL,CAAY8D,OAAZ,CAAoBkH,EAApB,GAAyB,GAA1C;AACA,QAAIC,QAAQ,GAAG,KAAKjL,MAAL,CAAYU,iBAAZ,CAA8BwK,gBAA7C;AACA,QAAIC,UAAU,GAAGJ,UAAU,GAAGE,QAAb,GAAwB,cAAzC;AACA,QAAIH,YAAY,GAAG,GAAG9I,KAAH,CAAS9B,IAAT,CAAc,KAAKF,MAAL,CAAYoL,eAAZ,GAA8BhG,IAA9B,EAAoC,KAAKpF,MAAzC,EAAiD,cAAjD,EAAiEmL,UAAjE,EAA6E,KAA7E,CAAd,CAAnB;AACA7L,IAAAA,MAAM,CAACwL,YAAD,EAAepJ,EAAf,CAAN;AACH,GAbD;;AAcA5B,EAAAA,YAAY,CAACV,SAAb,CAAuBiM,YAAvB,GAAsC,UAAUC,UAAV,EAAsB;AACxD,QAAIvI,IAAJ;;AACA,QAAI,KAAK/C,MAAL,CAAYU,iBAAZ,CAA8BE,KAA9B,CAAoCC,SAApC,KAAkD,IAAlD,IAA0D,KAAKb,MAAL,CAAYU,iBAAZ,CAA8BE,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAAjH,IACA,CAAC,KAAKd,MAAL,CAAYe,aAAZ,CAA0BC,eAD/B,EACgD;AAC5C+B,MAAAA,IAAI,GAAG,CAAC,IAAIJ,IAAJ,CAAS9C,IAAI,CAAC0L,SAAL,CAAe1L,IAAI,CAAC2L,gBAAL,CAAsBF,UAAtB,CAAf,CAAT,CAAR;AACH,KAHD,MAIK;AACDvI,MAAAA,IAAI,GAAG,CAAC,IAAIJ,IAAJ,CAAS9C,IAAI,CAAC0L,SAAL,CAAeD,UAAf,CAAT,CAAR;AACH;;AACD,QAAIxH,OAAO,GAAG,KAAKA,OAAL,CAAaxB,aAAb,CAA2B,iBAAiBS,IAAjB,GAAwB,IAAnD,CAAd;;AACA,QAAIe,OAAJ,EAAa;AACT,UAAIC,IAAI,GAAG,KAAK0H,oBAAL,EAAX;;AACA,UAAI,KAAKzL,MAAL,CAAY0L,SAAhB,EAA2B;AACvB,YAAIC,QAAQ,GAAG,KAAK7H,OAAL,CAAaxB,aAAb,CAA2B,MAAM1C,GAAG,CAACwG,mBAArC,CAAf;AACArC,QAAAA,IAAI,CAAC6H,UAAL,GAAkB,EAAED,QAAQ,CAACE,WAAT,GAAuB/H,OAAO,CAACgI,UAA/B,GAA4ChI,OAAO,CAAC+H,WAAtD,CAAlB;AACH,OAHD,MAIK;AACD9H,QAAAA,IAAI,CAAC6H,UAAL,GAAkB9H,OAAO,CAACgI,UAA1B;AACH;;AACD/H,MAAAA,IAAI,CAACgI,SAAL,GAAiBjI,OAAO,CAACkI,SAAzB;AACH;AACJ,GArBD;;AAsBAlM,EAAAA,YAAY,CAACV,SAAb,CAAuBqM,oBAAvB,GAA8C,YAAY;AACtD,QAAI,KAAKzL,MAAL,CAAYiM,UAAZ,IAA0B,CAAC,KAAKC,cAAL,EAA/B,EAAsD;AAClD,aAAO,KAAKpI,OAAL,CAAaxB,aAAb,CAA2B,MAAM1C,GAAG,CAACuM,sBAArC,CAAP;AACH,KAFD,MAGK;AACD,aAAO,KAAKC,qBAAL,EAAP;AACH;AACJ,GAPD;;AAQAtM,EAAAA,YAAY,CAACV,SAAb,CAAuBsK,UAAvB,GAAoC,UAAU5F,OAAV,EAAmB;AACnDrE,IAAAA,YAAY,CAAC4M,GAAb,CAAiBvI,OAAjB,EAA0B,WAA1B,EAAuC,KAAK9D,MAAL,CAAYsM,cAAZ,CAA2BC,aAAlE,EAAiF,KAAKvM,MAAL,CAAYsM,cAA7F;AACA7M,IAAAA,YAAY,CAAC4M,GAAb,CAAiBvI,OAAjB,EAA0B,OAA1B,EAAmC,KAAK9D,MAAL,CAAYsM,cAAZ,CAA2BE,SAA9D,EAAyE,KAAKxM,MAAL,CAAYsM,cAArF;;AACA,QAAI,CAAC,KAAKtM,MAAL,CAAYiM,UAAjB,EAA6B;AACzBxM,MAAAA,YAAY,CAAC4M,GAAb,CAAiBvI,OAAjB,EAA0B,UAA1B,EAAsC,KAAK9D,MAAL,CAAYsM,cAAZ,CAA2BG,YAAjE,EAA+E,KAAKzM,MAAL,CAAYsM,cAA3F;AACH;AACJ,GAND;;AAOA,SAAOxM,YAAP;AACH,CAxbiC,CAwbhCJ,IAxbgC,CAAlC;;AAybA,SAASI,YAAT","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, addClass, createElement, EventHandler } from '@syncfusion/ej2-base';\nimport { Year } from './year';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * timeline year view\n */\nvar TimelineYear = /** @class */ (function (_super) {\n    __extends(TimelineYear, _super);\n    function TimelineYear(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-timeline-year-view';\n        _this.isInverseTableSelect = true;\n        return _this;\n    }\n    TimelineYear.prototype.getModuleName = function () {\n        return 'timelineYear';\n    };\n    TimelineYear.prototype.renderHeader = function (headerWrapper) {\n        var tr = createElement('tr');\n        headerWrapper.appendChild(tr);\n        if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            this.parent.resourceBase.renderResourceHeaderIndent(tr);\n        }\n        else {\n            var leftHeaderCells = createElement('td', { className: cls.LEFT_INDENT_CLASS });\n            tr.appendChild(leftHeaderCells);\n            leftHeaderCells.appendChild(this.renderResourceHeader(cls.LEFT_INDENT_WRAP_CLASS));\n        }\n        var isHorizontal = this.parent.activeViewOptions.orientation === 'Horizontal';\n        var isGroup = this.parent.activeViewOptions.group.resources.length > 0;\n        this.isInverseTableSelect = isHorizontal && !isGroup ? false : true;\n        var td = createElement('td');\n        tr.appendChild(td);\n        var container = createElement('div', { className: cls.DATE_HEADER_CONTAINER_CLASS });\n        td.appendChild(container);\n        if (this.parent.activeViewOptions.orientation === 'Horizontal' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            container.appendChild(this.renderResourceHeader(cls.DATE_HEADER_WRAP_CLASS));\n            this.columnCount = this.colLevels.slice(-1)[0].length;\n        }\n        else {\n            var wrapper = createElement('div', { className: cls.DATE_HEADER_WRAP_CLASS });\n            container.appendChild(wrapper);\n            var table = this.createTableLayout();\n            wrapper.appendChild(table);\n            table.appendChild(this.createTableColGroup(this.columnCount));\n            var innerTr = createElement('tr');\n            table.querySelector('tbody').appendChild(innerTr);\n            var months = this.getMonths();\n            var dayHeaderDates = this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(), months[0], 1));\n            for (var column = 0; column < this.columnCount; column++) {\n                var date = new Date(this.parent.selectedDate.getFullYear(), months[column], 1);\n                var innerTd = createElement('td', { className: cls.HEADER_CELLS_CLASS });\n                if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                    if (this.parent.dayHeaderTemplate) {\n                        append(this.renderDayMonthHeaderTemplate(dayHeaderDates[column], column, 'dayHeaderTemplate'), innerTd);\n                    }\n                    else {\n                        innerTd.innerHTML = \"<span>\" + this.parent.getDayNames('abbreviated')[column % 7] + \"</span>\";\n                    }\n                }\n                else {\n                    if (this.parent.monthHeaderTemplate) {\n                        append(this.renderDayMonthHeaderTemplate(date, months[column], 'monthHeaderTemplate'), innerTd);\n                    }\n                    else {\n                        innerTd.innerHTML = \"<span>\" + this.getMonthName(date) + \"</span>\";\n                    }\n                    innerTd.setAttribute('data-date', date.getTime().toString());\n                }\n                innerTr.appendChild(innerTd);\n                this.parent.trigger(event.renderCell, { elementType: 'headerCells', element: innerTd });\n            }\n        }\n    };\n    TimelineYear.prototype.renderResourceHeader = function (className) {\n        var wrap = createElement('div', { className: className });\n        var tbl = this.createTableLayout();\n        wrap.appendChild(tbl);\n        var trEle = createElement('tr');\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.colLevels = this.generateColumnLevels();\n        }\n        else {\n            var colData = [{ className: [cls.HEADER_CELLS_CLASS], type: 'headerCell' }];\n            this.colLevels = [colData];\n        }\n        for (var _i = 0, _a = this.colLevels; _i < _a.length; _i++) {\n            var col = _a[_i];\n            var ntr = trEle.cloneNode();\n            var count = className === cls.DATE_HEADER_WRAP_CLASS ? col : [col[0]];\n            for (var _b = 0, count_1 = count; _b < count_1.length; _b++) {\n                var c = count_1[_b];\n                var tdEle = createElement('td');\n                if (c.className) {\n                    addClass([tdEle], c.className);\n                }\n                if (className === cls.DATE_HEADER_WRAP_CLASS) {\n                    if (c.template) {\n                        append(c.template, tdEle);\n                    }\n                    if (c.colSpan) {\n                        tdEle.setAttribute('colspan', c.colSpan.toString());\n                    }\n                    if (c.groupIndex > -1) {\n                        tdEle.setAttribute('data-group-index', c.groupIndex.toString());\n                    }\n                    this.setResourceHeaderContent(tdEle, c);\n                }\n                if (className === cls.LEFT_INDENT_WRAP_CLASS) {\n                    this.parent.renderHeaderIndentTemplate(c, tdEle);\n                }\n                var args = { elementType: c.type, element: tdEle, date: c.date, groupIndex: c.groupIndex };\n                this.parent.trigger(event.renderCell, args);\n                ntr.appendChild(tdEle);\n            }\n            tbl.querySelector('tbody').appendChild(ntr);\n        }\n        if (className === cls.DATE_HEADER_WRAP_CLASS) {\n            tbl.appendChild(this.createTableColGroup(this.colLevels.slice(-1)[0].length));\n        }\n        return wrap;\n    };\n    TimelineYear.prototype.renderContent = function (contentWrapper) {\n        var tr = createElement('tr');\n        contentWrapper.appendChild(tr);\n        var firstTd = createElement('td');\n        var lastTd = createElement('td');\n        var tdCollection = [];\n        var monthTBody;\n        if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            tdCollection.push(firstTd);\n            firstTd.appendChild(this.parent.resourceBase.createResourceColumn());\n            this.rowCount = this.parent.resourceBase.renderedResources.length;\n        }\n        else {\n            tdCollection.push(firstTd);\n            var monthWrapper = createElement('div', { className: cls.MONTH_HEADER_WRAPPER });\n            firstTd.appendChild(monthWrapper);\n            monthWrapper.appendChild(this.createTableLayout());\n            monthTBody = monthWrapper.querySelector('tbody');\n        }\n        tdCollection.push(lastTd);\n        append(tdCollection, tr);\n        var content = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        lastTd.appendChild(content);\n        var contentTable = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n        this.setAriaAttributes(contentTable);\n        content.appendChild(contentTable);\n        var eventWrapper = createElement('div', { className: cls.EVENT_TABLE_CLASS });\n        content.appendChild(eventWrapper);\n        if (this.parent.virtualScrollModule) {\n            this.parent.virtualScrollModule.renderVirtualTrack(content);\n        }\n        var contentTBody = contentTable.querySelector('tbody');\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            if (this.parent.rowAutoHeight) {\n                var addClassTable = [contentTable];\n                var monthHeader = this.parent.element.querySelector('.' + cls.MONTH_HEADER_WRAPPER + ' .' + cls.SCHEDULE_TABLE_CLASS);\n                if (monthHeader) {\n                    addClassTable.push(monthHeader);\n                }\n                addClass(addClassTable, cls.AUTO_HEIGHT);\n            }\n            var colCount = this.parent.activeViewOptions.orientation === 'Horizontal' ? this.colLevels.slice(-1)[0].length : this.columnCount;\n            contentTable.appendChild(this.createTableColGroup(colCount));\n            this.renderResourceContent(eventWrapper, monthTBody, contentTBody);\n        }\n        else {\n            contentTable.appendChild(this.createTableColGroup(this.columnCount));\n            this.renderDefaultContent(eventWrapper, monthTBody, contentTBody);\n        }\n    };\n    TimelineYear.prototype.renderDefaultContent = function (wrapper, monthBody, contentBody) {\n        var months = this.getMonths();\n        var dayHeaderDates = this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(), months[0], 1));\n        for (var month = 0; month < this.rowCount; month++) {\n            wrapper.appendChild(createElement('div', { className: cls.APPOINTMENT_CONTAINER_CLASS }));\n            var monthDate = new Date(this.parent.selectedDate.getFullYear(), months[month], 1);\n            var monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n            var monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n            var tr = createElement('tr');\n            var monthTr = tr.cloneNode();\n            monthBody.appendChild(monthTr);\n            var contentTr = tr.cloneNode();\n            contentBody.appendChild(contentTr);\n            var monthTd = createElement('td', { className: cls.MONTH_HEADER_CLASS });\n            if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                if (this.parent.monthHeaderTemplate) {\n                    append(this.renderDayMonthHeaderTemplate(monthStart, month, 'monthHeaderTemplate'), monthTd);\n                }\n                else {\n                    monthTd.innerHTML = \"<span>\" + this.getMonthName(monthDate) + \"</span>\";\n                }\n                monthTd.setAttribute('data-date', monthDate.getTime().toString());\n            }\n            else {\n                if (this.parent.dayHeaderTemplate) {\n                    append(this.renderDayMonthHeaderTemplate(dayHeaderDates[month], month, 'dayHeaderTemplate'), monthTd);\n                }\n                else {\n                    monthTd.innerHTML = \"<span>\" + this.parent.getDayNames('abbreviated')[month % 7] + \"</span>\";\n                }\n            }\n            monthTr.appendChild(monthTd);\n            this.parent.trigger(event.renderCell, { elementType: 'leftHeaderCells', element: monthTd });\n            var date = new Date(monthStart.getTime());\n            for (var column = 0; column < this.columnCount; column++) {\n                var isDateAvail = void 0;\n                if (this.parent.activeViewOptions.orientation === 'Vertical') {\n                    monthDate = new Date(this.parent.selectedDate.getFullYear(), months[column], 1);\n                    monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n                    monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n                    var dayDate = (month - monthStart.getDay()) + 1;\n                    date = new Date(this.parent.selectedDate.getFullYear(), months[column], dayDate);\n                    isDateAvail = dayDate > 0 && date.getTime() < monthEnd.getTime();\n                }\n                else {\n                    isDateAvail = column >= monthStart.getDay() && date.getTime() < monthEnd.getTime();\n                }\n                var td = createElement('td', {\n                    className: cls.WORK_CELLS_CLASS, attrs: { 'aria-selected': 'false' }\n                });\n                contentTr.appendChild(td);\n                var dateHeader = createElement('div', {\n                    className: cls.DATE_HEADER_CLASS + ' ' + cls.NAVIGATE_CLASS,\n                    innerHTML: (isDateAvail) ?\n                        this.parent.globalize.formatDate(date, { skeleton: 'd', calendar: this.parent.getCalendarMode() }) : ''\n                });\n                var skeleton = 'full';\n                var announcementText = this.parent.globalize.formatDate(date, {\n                    skeleton: skeleton, calendar: this.parent.getCalendarMode()\n                });\n                dateHeader.setAttribute('aria-label', announcementText);\n                if (isDateAvail) {\n                    var tds = [td];\n                    var classList = [];\n                    if (this.parent.activeViewOptions.workDays.indexOf(date.getDay()) > -1) {\n                        classList.push(cls.WORKDAY_CLASS);\n                    }\n                    if (this.isCurrentDate(date)) {\n                        classList.push(cls.CURRENT_DAY_CLASS);\n                        if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                            tds.push(this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + (\":nth-child(\" + (column + 1) + \")\")));\n                        }\n                        else {\n                            tds.push(this.element.querySelectorAll('.' + cls.MONTH_HEADER_CLASS).item(month));\n                        }\n                    }\n                    if (classList.length > 0) {\n                        addClass(tds, classList);\n                    }\n                }\n                else {\n                    addClass([td], cls.OTHERMONTH_CLASS);\n                }\n                if (td.classList.contains(cls.OTHERMONTH_CLASS)) {\n                    continue;\n                }\n                td.appendChild(dateHeader);\n                if (isDateAvail) {\n                    td.setAttribute('data-date', date.getTime().toString());\n                    this.wireEvents(td);\n                }\n                this.renderCellTemplate({ date: date, type: 'workCells' }, td);\n                this.parent.trigger(event.renderCell, { elementType: 'workCells', element: td, date: date });\n                if (isDateAvail) {\n                    if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                        date = util.addDays(new Date(date.getTime()), 1);\n                    }\n                }\n            }\n        }\n    };\n    TimelineYear.prototype.getContentRows = function () {\n        var tRow = [];\n        var monthCells = this.getMonths();\n        for (var row = 0; row < this.parent.resourceBase.renderedResources.length; row++) {\n            var tr = createElement('tr');\n            tRow.push(tr);\n            var resData = void 0;\n            if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                resData = this.parent.resourceBase.renderedResources[row];\n            }\n            var monthDate = new Date(this.parent.selectedDate.getFullYear(), monthCells[row], 1);\n            var date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n            for (var month = 0; month < this.columnCount; month++) {\n                var classList = [];\n                var groupIndex = resData.groupIndex;\n                classList = classList.concat(resData.className);\n                if (classList.indexOf(cls.RESOURCE_PARENT_CLASS) > -1) {\n                    classList.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n                }\n                else {\n                    classList.push(cls.WORKDAY_CLASS);\n                }\n                monthDate = new Date(this.parent.selectedDate.getFullYear(), monthCells[month], 1);\n                date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n                var tdELe = createElement('td', {\n                    className: cls.WORK_CELLS_CLASS,\n                    attrs: {\n                        'aria-selected': 'false',\n                        'data-date': date.getTime().toString()\n                    }\n                });\n                addClass([tdELe], classList);\n                tdELe.setAttribute('data-group-index', groupIndex.toString());\n                this.renderCellTemplate({ date: date, type: 'resourceGroupCells', groupIndex: groupIndex }, tdELe);\n                this.wireEvents(tdELe);\n                this.parent.trigger(event.renderCell, { elementType: 'resourceGroupCells', element: tdELe, date: date });\n                tr.appendChild(tdELe);\n            }\n        }\n        return tRow;\n    };\n    TimelineYear.prototype.renderResourceContent = function (wrapper, monthBody, contentBody) {\n        var months = this.getMonths();\n        for (var row = 0; row < this.rowCount; row++) {\n            wrapper.appendChild(createElement('div', { className: cls.APPOINTMENT_CONTAINER_CLASS }));\n            var tr = createElement('tr');\n            contentBody.appendChild(tr);\n            var resData = void 0;\n            if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                resData = this.parent.resourceBase.renderedResources[row];\n            }\n            var monthDate = new Date(this.parent.selectedDate.getFullYear(), months[row], 1);\n            var date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n            if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                var monthTr = tr.cloneNode();\n                monthBody.appendChild(monthTr);\n                var monthTd = createElement('td', {\n                    className: cls.MONTH_HEADER_CLASS,\n                    attrs: { 'data-date': date.getTime().toString() }\n                });\n                if (this.parent.monthHeaderTemplate) {\n                    append(this.renderDayMonthHeaderTemplate(monthDate, row, 'monthHeaderTemplate'), monthTd);\n                }\n                else {\n                    monthTd.innerHTML = \"<span>\" + this.getMonthName(monthDate) + \"</span>\";\n                }\n                monthTr.appendChild(monthTd);\n            }\n            for (var month = 0; month < this.columnCount; month++) {\n                var classList = [];\n                var groupIndex = void 0;\n                if (this.parent.activeViewOptions.orientation === 'Vertical') {\n                    groupIndex = resData.groupIndex;\n                    classList = classList.concat(resData.className);\n                    if (classList.indexOf(cls.RESOURCE_PARENT_CLASS) > -1) {\n                        classList.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n                    }\n                    else {\n                        classList.push(cls.WORKDAY_CLASS);\n                    }\n                    monthDate = new Date(this.parent.selectedDate.getFullYear(), months[month], 1);\n                    date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n                }\n                else {\n                    groupIndex = this.colLevels.slice(-1)[0][month].groupIndex;\n                    classList.push(cls.WORKDAY_CLASS);\n                }\n                var td = createElement('td', {\n                    className: cls.WORK_CELLS_CLASS,\n                    attrs: {\n                        'aria-selected': 'false',\n                        'data-date': date.getTime().toString()\n                    }\n                });\n                addClass([td], classList);\n                td.setAttribute('data-group-index', groupIndex.toString());\n                this.renderCellTemplate({ date: date, type: 'resourceGroupCells', groupIndex: groupIndex }, td);\n                this.wireEvents(td);\n                tr.appendChild(td);\n                this.parent.trigger(event.renderCell, { elementType: 'resourceGroupCells', element: td, date: date });\n            }\n        }\n        if (this.parent.activeViewOptions.orientation === 'Vertical') {\n            this.collapseRows(this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS));\n        }\n    };\n    TimelineYear.prototype.renderDayMonthHeaderTemplate = function (date, column, type) {\n        var args = { date: date, type: type === 'dayHeaderTemplate' ? 'dayHeader' : 'monthHeader' };\n        var dayId = \"schedule_\" + this.parent.activeViewOptions.dayHeaderTemplateName + \"dayHeaderTemplate\";\n        var monthId = \"schedule_\" + this.parent.activeViewOptions.dayHeaderTemplateName + \"monthHeaderTemplate\";\n        if (type === 'dayHeaderTemplate') {\n            args.day = this.parent.getDayNames('wide')[column % 7];\n            return [].slice.call(this.parent.getDayHeaderTemplate()(args, this.parent, 'dayHeaderTemplate', dayId, false));\n        }\n        else {\n            return [].slice.call(this.parent.getMonthHeaderTemplate()(args, this.parent, 'monthHeaderTemplate', monthId, false));\n        }\n    };\n    TimelineYear.prototype.renderCellTemplate = function (data, td) {\n        if (!this.parent.activeViewOptions.cellTemplate || td.classList.contains(cls.OTHERMONTH_CLASS)) {\n            return;\n        }\n        var args = { date: data.date, type: data.type };\n        if (data.groupIndex) {\n            args.groupIndex = data.groupIndex;\n        }\n        var scheduleId = this.parent.element.id + '_';\n        var viewName = this.parent.activeViewOptions.cellTemplateName;\n        var templateId = scheduleId + viewName + 'cellTemplate';\n        var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args, this.parent, 'cellTemplate', templateId, false));\n        append(cellTemplate, td);\n    };\n    TimelineYear.prototype.scrollToDate = function (scrollDate) {\n        var date;\n        if (this.parent.activeViewOptions.group.resources !== null && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            date = +new Date(util.resetTime(util.firstDateOfMonth(scrollDate)));\n        }\n        else {\n            date = +new Date(util.resetTime(scrollDate));\n        }\n        var element = this.element.querySelector('[data-date=\"' + date + '\"]');\n        if (element) {\n            var wrap = this.getScrollableElement();\n            if (this.parent.enableRtl) {\n                var conTable = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n                wrap.scrollLeft = -(conTable.offsetWidth - element.offsetLeft - element.offsetWidth);\n            }\n            else {\n                wrap.scrollLeft = element.offsetLeft;\n            }\n            wrap.scrollTop = element.offsetTop;\n        }\n    };\n    TimelineYear.prototype.getScrollableElement = function () {\n        if (this.parent.isAdaptive && !this.isTimelineView()) {\n            return this.element.querySelector('.' + cls.SCROLL_CONTAINER_CLASS);\n        }\n        else {\n            return this.getContentAreaElement();\n        }\n    };\n    TimelineYear.prototype.wireEvents = function (element) {\n        EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n        EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n        }\n    };\n    return TimelineYear;\n}(Year));\nexport { TimelineYear };\n"]},"metadata":{},"sourceType":"module"}