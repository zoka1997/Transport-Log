{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/scheduler/workspaces/view_model/view_data_provider.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"groups\", \"groupOrientation\", \"groupByDate\", \"isAllDayPanelVisible\"];\nimport dateUtils from \"../../../../core/utils/date\";\nimport { getGroupPanelData } from \"../../../../renovation/ui/scheduler/view_model/group_panel/utils\";\nimport { isGroupingByDate, isHorizontalGroupingApplied, isVerticalGroupingApplied } from \"../../../../renovation/ui/scheduler/workspaces/utils\";\nimport { calculateIsGroupedAllDayPanel } from \"../../../../renovation/ui/scheduler/view_model/to_test/views/utils/base\";\nimport { DateHeaderDataGenerator } from \"./date_header_data_generator\";\nimport { GroupedDataMapProvider } from \"./grouped_data_map_provider\";\nimport { TimePanelDataGenerator } from \"./time_panel_data_generator\";\nimport { getViewDataGeneratorByViewType } from \"./utils\";\nimport timeZoneUtils from \"../../utils.timeZone\";\nexport default class ViewDataProvider {\n  constructor(viewType) {\n    this.viewDataGenerator = getViewDataGeneratorByViewType(viewType);\n    this.viewData = {};\n    this.completeViewDataMap = [];\n    this.completeDateHeaderMap = [];\n    this.viewDataMap = {};\n    this._groupedDataMapProvider = null;\n  }\n\n  get groupedDataMap() {\n    return this._groupedDataMapProvider.groupedDataMap;\n  }\n\n  get hiddenInterval() {\n    return this.viewDataGenerator.hiddenInterval;\n  }\n\n  isSkippedDate(date) {\n    return this.viewDataGenerator.isSkippedDate(date);\n  }\n\n  update(options, isGenerateNewViewData) {\n    this.viewDataGenerator = getViewDataGeneratorByViewType(options.viewType);\n    var viewDataGenerator = this.viewDataGenerator;\n    var dateHeaderDataGenerator = new DateHeaderDataGenerator(viewDataGenerator);\n    var timePanelDataGenerator = new TimePanelDataGenerator(viewDataGenerator);\n\n    var renderOptions = this._transformRenderOptions(options);\n\n    renderOptions.interval = this.viewDataGenerator.getInterval(renderOptions.hoursInterval);\n    this._options = renderOptions;\n\n    if (isGenerateNewViewData) {\n      this.completeViewDataMap = viewDataGenerator.getCompleteViewDataMap(renderOptions);\n      this.completeDateHeaderMap = dateHeaderDataGenerator.getCompleteDateHeaderMap(renderOptions, this.completeViewDataMap);\n\n      if (renderOptions.isGenerateTimePanelData) {\n        this.completeTimePanelMap = timePanelDataGenerator.getCompleteTimePanelMap(renderOptions, this.completeViewDataMap);\n      }\n    }\n\n    this.viewDataMap = viewDataGenerator.generateViewDataMap(this.completeViewDataMap, renderOptions);\n    this.updateViewData(renderOptions);\n    this._groupedDataMapProvider = new GroupedDataMapProvider(this.viewDataGenerator, this.viewDataMap, this.completeViewDataMap, {\n      isVerticalGrouping: renderOptions.isVerticalGrouping,\n      viewType: renderOptions.viewType\n    });\n    this.dateHeaderData = dateHeaderDataGenerator.generateDateHeaderData(this.completeDateHeaderMap, this.completeViewDataMap, renderOptions);\n\n    if (renderOptions.isGenerateTimePanelData) {\n      this.timePanelData = timePanelDataGenerator.generateTimePanelData(this.completeTimePanelMap, renderOptions);\n    }\n  }\n\n  createGroupedDataMapProvider() {\n    this._groupedDataMapProvider = new GroupedDataMapProvider(this.viewDataGenerator, this.viewDataMap, this.completeViewDataMap, {\n      isVerticalGrouping: this._options.isVerticalGrouping,\n      viewType: this._options.viewType\n    });\n  }\n\n  updateViewData(options) {\n    var renderOptions = this._transformRenderOptions(options);\n\n    this.viewDataMapWithSelection = this.viewDataGenerator.markSelectedAndFocusedCells(this.viewDataMap, renderOptions);\n    this.viewData = this.viewDataGenerator.getViewDataFromMap(this.completeViewDataMap, this.viewDataMapWithSelection, renderOptions);\n  }\n\n  _transformRenderOptions(renderOptions) {\n    var {\n      groups: groups,\n      groupOrientation: groupOrientation,\n      groupByDate: groupByDate,\n      isAllDayPanelVisible: isAllDayPanelVisible\n    } = renderOptions,\n        restOptions = _objectWithoutPropertiesLoose(renderOptions, _excluded);\n\n    return _extends({}, restOptions, {\n      startViewDate: this.viewDataGenerator._calculateStartViewDate(renderOptions),\n      isVerticalGrouping: isVerticalGroupingApplied(groups, groupOrientation),\n      isHorizontalGrouping: isHorizontalGroupingApplied(groups, groupOrientation),\n      isGroupedByDate: isGroupingByDate(groups, groupOrientation, groupByDate),\n      isGroupedAllDayPanel: calculateIsGroupedAllDayPanel(groups, groupOrientation, isAllDayPanelVisible),\n      groups: groups,\n      groupOrientation: groupOrientation,\n      isAllDayPanelVisible: isAllDayPanelVisible\n    });\n  }\n\n  getGroupPanelData(options) {\n    var renderOptions = this._transformRenderOptions(options);\n\n    if (renderOptions.groups.length > 0) {\n      var cellCount = this.getCellCount(renderOptions);\n      return getGroupPanelData(renderOptions.groups, cellCount, renderOptions.isGroupedByDate, renderOptions.isGroupedByDate ? 1 : cellCount);\n    }\n\n    return;\n  }\n\n  getGroupStartDate(groupIndex) {\n    return this._groupedDataMapProvider.getGroupStartDate(groupIndex);\n  }\n\n  getGroupEndDate(groupIndex) {\n    return this._groupedDataMapProvider.getGroupEndDate(groupIndex);\n  }\n\n  findGroupCellStartDate(groupIndex, startDate, endDate, isAllDay, isFindByDate) {\n    return this._groupedDataMapProvider.findGroupCellStartDate(groupIndex, startDate, endDate, isAllDay, isFindByDate);\n  }\n\n  findAllDayGroupCellStartDate(groupIndex, startDate) {\n    return this._groupedDataMapProvider.findAllDayGroupCellStartDate(groupIndex, startDate);\n  }\n\n  findCellPositionInMap(cellInfo) {\n    return this._groupedDataMapProvider.findCellPositionInMap(cellInfo);\n  }\n\n  hasAllDayPanel() {\n    var {\n      viewData: viewData\n    } = this.viewDataMap;\n    var {\n      allDayPanel: allDayPanel\n    } = viewData.groupedData[0];\n    return !viewData.isGroupedAllDayPanel && (null === allDayPanel || void 0 === allDayPanel ? void 0 : allDayPanel.length) > 0;\n  }\n\n  getCellsGroup(groupIndex) {\n    return this._groupedDataMapProvider.getCellsGroup(groupIndex);\n  }\n\n  getCompletedGroupsInfo() {\n    return this._groupedDataMapProvider.getCompletedGroupsInfo();\n  }\n\n  getGroupIndices() {\n    return this._groupedDataMapProvider.getGroupIndices();\n  }\n\n  getLastGroupCellPosition(groupIndex) {\n    return this._groupedDataMapProvider.getLastGroupCellPosition(groupIndex);\n  }\n\n  getRowCountInGroup(groupIndex) {\n    return this._groupedDataMapProvider.getRowCountInGroup(groupIndex);\n  }\n\n  getCellData(rowIndex, columnIndex, isAllDay, rtlEnabled) {\n    var row = isAllDay && !this._options.isVerticalGrouping ? this.viewDataMap.allDayPanelMap : this.viewDataMap.dateTableMap[rowIndex];\n    var actualColumnIndex = !rtlEnabled ? columnIndex : row.length - 1 - columnIndex;\n    var {\n      cellData: cellData\n    } = row[actualColumnIndex];\n    return cellData;\n  }\n\n  getCellsByGroupIndexAndAllDay(groupIndex, allDay) {\n    var rowsPerGroup = this._getRowCountWithAllDayRows();\n\n    var isShowAllDayPanel = this._options.isAllDayPanelVisible;\n    var firstRowInGroup = this._options.isVerticalGrouping ? groupIndex * rowsPerGroup : 0;\n    var lastRowInGroup = this._options.isVerticalGrouping ? (groupIndex + 1) * rowsPerGroup - 1 : rowsPerGroup;\n    var correctedFirstRow = isShowAllDayPanel && !allDay ? firstRowInGroup + 1 : firstRowInGroup;\n    var correctedLastRow = allDay ? correctedFirstRow : lastRowInGroup;\n    return this.completeViewDataMap.slice(correctedFirstRow, correctedLastRow + 1).map(row => row.filter(_ref => {\n      var {\n        groupIndex: currentGroupIndex\n      } = _ref;\n      return groupIndex === currentGroupIndex;\n    }));\n  }\n\n  getCellCountWithGroup(groupIndex) {\n    var rowIndex = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\n    var {\n      dateTableGroupedMap: dateTableGroupedMap\n    } = this.groupedDataMap;\n    return dateTableGroupedMap.filter((_, index) => index <= groupIndex).reduce((previous, row) => previous + row[rowIndex].length, 0);\n  }\n\n  hasGroupAllDayPanel(groupIndex) {\n    var _this$groupedDataMap$2;\n\n    if (this._options.isVerticalGrouping) {\n      var _this$groupedDataMap$;\n\n      return !!(null !== (_this$groupedDataMap$ = this.groupedDataMap.dateTableGroupedMap[groupIndex]) && void 0 !== _this$groupedDataMap$ && _this$groupedDataMap$[0][0].cellData.allDay);\n    }\n\n    return (null === (_this$groupedDataMap$2 = this.groupedDataMap.allDayPanelGroupedMap[groupIndex]) || void 0 === _this$groupedDataMap$2 ? void 0 : _this$groupedDataMap$2.length) > 0;\n  }\n\n  isGroupIntersectDateInterval(groupIndex, startDate, endDate) {\n    var groupStartDate = this.getGroupStartDate(groupIndex);\n    var groupEndDate = this.getGroupEndDate(groupIndex);\n    return startDate < groupEndDate && endDate > groupStartDate;\n  }\n\n  findGlobalCellPosition(date) {\n    var groupIndex = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\n    var allDay = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : false;\n    var {\n      completeViewDataMap: completeViewDataMap\n    } = this;\n    var showAllDayPanel = this._options.isAllDayPanelVisible;\n\n    for (var rowIndex = 0; rowIndex < completeViewDataMap.length; rowIndex += 1) {\n      var currentRow = completeViewDataMap[rowIndex];\n\n      for (var columnIndex = 0; columnIndex < currentRow.length; columnIndex += 1) {\n        var cellData = currentRow[columnIndex];\n        var {\n          startDate: currentStartDate,\n          endDate: currentEndDate,\n          groupIndex: currentGroupIndex,\n          allDay: currentAllDay\n        } = cellData;\n\n        if (groupIndex === currentGroupIndex && allDay === !!currentAllDay && this._compareDatesAndAllDay(date, currentStartDate, currentEndDate, allDay)) {\n          return {\n            position: {\n              columnIndex: columnIndex,\n              rowIndex: showAllDayPanel && !this._options.isVerticalGrouping ? rowIndex - 1 : rowIndex\n            },\n            cellData: cellData\n          };\n        }\n      }\n    }\n  }\n\n  _compareDatesAndAllDay(date, cellStartDate, cellEndDate, allDay) {\n    var time = date.getTime();\n    var trimmedTime = dateUtils.trimTime(date).getTime();\n    var cellStartTime = cellStartDate.getTime();\n    var cellEndTime = cellEndDate.getTime();\n    return !allDay && time >= cellStartTime && time < cellEndTime || allDay && trimmedTime === cellStartTime;\n  }\n\n  getSkippedDaysCount(groupIndex, startDate, endDate, daysCount) {\n    var {\n      dateTableGroupedMap: dateTableGroupedMap\n    } = this._groupedDataMapProvider.groupedDataMap;\n    var groupedData = dateTableGroupedMap[groupIndex];\n    var includedDays = 0;\n\n    for (var rowIndex = 0; rowIndex < groupedData.length; rowIndex += 1) {\n      for (var columnIndex = 0; columnIndex < groupedData[rowIndex].length; columnIndex += 1) {\n        var cell = groupedData[rowIndex][columnIndex].cellData;\n\n        if (startDate.getTime() < cell.endDate.getTime() && endDate.getTime() > cell.startDate.getTime()) {\n          includedDays += 1;\n        }\n      }\n    }\n\n    var lastCell = groupedData[groupedData.length - 1][groupedData[0].length - 1].cellData;\n    var lastCellStart = dateUtils.trimTime(lastCell.startDate);\n    var daysAfterView = Math.floor((endDate.getTime() - lastCellStart.getTime()) / dateUtils.dateToMilliseconds(\"day\"));\n    var deltaDays = daysAfterView > 0 ? daysAfterView : 0;\n    return daysCount - includedDays - deltaDays;\n  }\n\n  getColumnsCount() {\n    var {\n      dateTableMap: dateTableMap\n    } = this.viewDataMap;\n    return dateTableMap ? dateTableMap[0].length : 0;\n  }\n\n  getViewEdgeIndices(isAllDayPanel) {\n    if (isAllDayPanel) {\n      return {\n        firstColumnIndex: 0,\n        lastColumnIndex: this.viewDataMap.allDayPanelMap.length - 1,\n        firstRowIndex: 0,\n        lastRowIndex: 0\n      };\n    }\n\n    return {\n      firstColumnIndex: 0,\n      lastColumnIndex: this.viewDataMap.dateTableMap[0].length - 1,\n      firstRowIndex: 0,\n      lastRowIndex: this.viewDataMap.dateTableMap.length - 1\n    };\n  }\n\n  getGroupEdgeIndices(groupIndex, isAllDay) {\n    var groupedDataMap = this.groupedDataMap.dateTableGroupedMap[groupIndex];\n    var cellsCount = groupedDataMap[0].length;\n    var rowsCount = groupedDataMap.length;\n    var firstColumnIndex = groupedDataMap[0][0].position.columnIndex;\n    var lastColumnIndex = groupedDataMap[0][cellsCount - 1].position.columnIndex;\n\n    if (isAllDay) {\n      return {\n        firstColumnIndex: firstColumnIndex,\n        lastColumnIndex: lastColumnIndex,\n        firstRowIndex: 0,\n        lastRowIndex: 0\n      };\n    }\n\n    return {\n      firstColumnIndex: firstColumnIndex,\n      lastColumnIndex: lastColumnIndex,\n      firstRowIndex: groupedDataMap[0][0].position.rowIndex,\n      lastRowIndex: groupedDataMap[rowsCount - 1][0].position.rowIndex\n    };\n  }\n\n  isSameCell(firstCellData, secondCellData) {\n    var {\n      startDate: firstStartDate,\n      groupIndex: firstGroupIndex,\n      allDay: firstAllDay,\n      index: firstIndex\n    } = firstCellData;\n    var {\n      startDate: secondStartDate,\n      groupIndex: secondGroupIndex,\n      allDay: secondAllDay,\n      index: secondIndex\n    } = secondCellData;\n    return firstStartDate.getTime() === secondStartDate.getTime() && firstGroupIndex === secondGroupIndex && firstAllDay === secondAllDay && firstIndex === secondIndex;\n  }\n\n  getLastViewDate() {\n    var completeViewDataMap = this.completeViewDataMap;\n    var rowsCount = completeViewDataMap.length - 1;\n    return completeViewDataMap[rowsCount][completeViewDataMap[rowsCount].length - 1].endDate;\n  }\n\n  getStartViewDate() {\n    return this._options.startViewDate;\n  }\n\n  getIntervalDuration(intervalCount) {\n    return this.viewDataGenerator._getIntervalDuration(intervalCount);\n  }\n\n  getLastCellEndDate() {\n    return new Date(this.getLastViewDate().getTime() - dateUtils.dateToMilliseconds(\"minute\"));\n  }\n\n  getLastViewDateByEndDayHour(endDayHour) {\n    var lastCellEndDate = this.getLastCellEndDate();\n    var endTime = dateUtils.dateTimeFromDecimal(endDayHour);\n    var endDateOfLastViewCell = new Date(lastCellEndDate.setHours(endTime.hours, endTime.minutes));\n    return this._adjustEndDateByDaylightDiff(lastCellEndDate, endDateOfLastViewCell);\n  }\n\n  _adjustEndDateByDaylightDiff(startDate, endDate) {\n    var daylightDiff = timeZoneUtils.getDaylightOffsetInMs(startDate, endDate);\n    var endDateOfLastViewCell = new Date(endDate.getTime() - daylightDiff);\n    return new Date(endDateOfLastViewCell.getTime() - dateUtils.dateToMilliseconds(\"minute\"));\n  }\n\n  getCellCountInDay(startDayHour, endDayHour, hoursInterval) {\n    return this.viewDataGenerator.getCellCountInDay(startDayHour, endDayHour, hoursInterval);\n  }\n\n  getCellCount(options) {\n    return this.viewDataGenerator.getCellCount(options);\n  }\n\n  getRowCount(options) {\n    return this.viewDataGenerator.getRowCount(options);\n  }\n\n  getVisibleDayDuration(startDayHour, endDayHour, hoursInterval) {\n    return this.viewDataGenerator.getVisibleDayDuration(startDayHour, endDayHour, hoursInterval);\n  }\n\n  _getRowCountWithAllDayRows() {\n    var allDayRowCount = this._options.isAllDayPanelVisible ? 1 : 0;\n    return this.getRowCount(this._options) + allDayRowCount;\n  }\n\n  getFirstDayOfWeek(firstDayOfWeekOption) {\n    return this.viewDataGenerator.getFirstDayOfWeek(firstDayOfWeekOption);\n  }\n\n  setViewOptions(options) {\n    this._options = this._transformRenderOptions(options);\n  }\n\n  getViewOptions() {\n    return this._options;\n  }\n\n  getViewPortGroupCount() {\n    var {\n      dateTableGroupedMap: dateTableGroupedMap\n    } = this.groupedDataMap;\n    return (null === dateTableGroupedMap || void 0 === dateTableGroupedMap ? void 0 : dateTableGroupedMap.length) || 0;\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Zoran/source/repos/TransportApp/TransportLog-basic/node_modules/devextreme/esm/ui/scheduler/workspaces/view_model/view_data_provider.js"],"names":["_extends","_objectWithoutPropertiesLoose","_excluded","dateUtils","getGroupPanelData","isGroupingByDate","isHorizontalGroupingApplied","isVerticalGroupingApplied","calculateIsGroupedAllDayPanel","DateHeaderDataGenerator","GroupedDataMapProvider","TimePanelDataGenerator","getViewDataGeneratorByViewType","timeZoneUtils","ViewDataProvider","constructor","viewType","viewDataGenerator","viewData","completeViewDataMap","completeDateHeaderMap","viewDataMap","_groupedDataMapProvider","groupedDataMap","hiddenInterval","isSkippedDate","date","update","options","isGenerateNewViewData","dateHeaderDataGenerator","timePanelDataGenerator","renderOptions","_transformRenderOptions","interval","getInterval","hoursInterval","_options","getCompleteViewDataMap","getCompleteDateHeaderMap","isGenerateTimePanelData","completeTimePanelMap","getCompleteTimePanelMap","generateViewDataMap","updateViewData","isVerticalGrouping","dateHeaderData","generateDateHeaderData","timePanelData","generateTimePanelData","createGroupedDataMapProvider","viewDataMapWithSelection","markSelectedAndFocusedCells","getViewDataFromMap","groups","groupOrientation","groupByDate","isAllDayPanelVisible","restOptions","startViewDate","_calculateStartViewDate","isHorizontalGrouping","isGroupedByDate","isGroupedAllDayPanel","length","cellCount","getCellCount","getGroupStartDate","groupIndex","getGroupEndDate","findGroupCellStartDate","startDate","endDate","isAllDay","isFindByDate","findAllDayGroupCellStartDate","findCellPositionInMap","cellInfo","hasAllDayPanel","allDayPanel","groupedData","getCellsGroup","getCompletedGroupsInfo","getGroupIndices","getLastGroupCellPosition","getRowCountInGroup","getCellData","rowIndex","columnIndex","rtlEnabled","row","allDayPanelMap","dateTableMap","actualColumnIndex","cellData","getCellsByGroupIndexAndAllDay","allDay","rowsPerGroup","_getRowCountWithAllDayRows","isShowAllDayPanel","firstRowInGroup","lastRowInGroup","correctedFirstRow","correctedLastRow","slice","map","filter","_ref","currentGroupIndex","getCellCountWithGroup","arguments","dateTableGroupedMap","_","index","reduce","previous","hasGroupAllDayPanel","_this$groupedDataMap$2","_this$groupedDataMap$","allDayPanelGroupedMap","isGroupIntersectDateInterval","groupStartDate","groupEndDate","findGlobalCellPosition","showAllDayPanel","currentRow","currentStartDate","currentEndDate","currentAllDay","_compareDatesAndAllDay","position","cellStartDate","cellEndDate","time","getTime","trimmedTime","trimTime","cellStartTime","cellEndTime","getSkippedDaysCount","daysCount","includedDays","cell","lastCell","lastCellStart","daysAfterView","Math","floor","dateToMilliseconds","deltaDays","getColumnsCount","getViewEdgeIndices","isAllDayPanel","firstColumnIndex","lastColumnIndex","firstRowIndex","lastRowIndex","getGroupEdgeIndices","cellsCount","rowsCount","isSameCell","firstCellData","secondCellData","firstStartDate","firstGroupIndex","firstAllDay","firstIndex","secondStartDate","secondGroupIndex","secondAllDay","secondIndex","getLastViewDate","getStartViewDate","getIntervalDuration","intervalCount","_getIntervalDuration","getLastCellEndDate","Date","getLastViewDateByEndDayHour","endDayHour","lastCellEndDate","endTime","dateTimeFromDecimal","endDateOfLastViewCell","setHours","hours","minutes","_adjustEndDateByDaylightDiff","daylightDiff","getDaylightOffsetInMs","getCellCountInDay","startDayHour","getRowCount","getVisibleDayDuration","allDayRowCount","getFirstDayOfWeek","firstDayOfWeekOption","setViewOptions","getViewOptions","getViewPortGroupCount"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/scheduler/workspaces/view_model/view_data_provider.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"groups\", \"groupOrientation\", \"groupByDate\", \"isAllDayPanelVisible\"];\r\nimport dateUtils from \"../../../../core/utils/date\";\r\nimport {\r\n    getGroupPanelData\r\n} from \"../../../../renovation/ui/scheduler/view_model/group_panel/utils\";\r\nimport {\r\n    isGroupingByDate,\r\n    isHorizontalGroupingApplied,\r\n    isVerticalGroupingApplied\r\n} from \"../../../../renovation/ui/scheduler/workspaces/utils\";\r\nimport {\r\n    calculateIsGroupedAllDayPanel\r\n} from \"../../../../renovation/ui/scheduler/view_model/to_test/views/utils/base\";\r\nimport {\r\n    DateHeaderDataGenerator\r\n} from \"./date_header_data_generator\";\r\nimport {\r\n    GroupedDataMapProvider\r\n} from \"./grouped_data_map_provider\";\r\nimport {\r\n    TimePanelDataGenerator\r\n} from \"./time_panel_data_generator\";\r\nimport {\r\n    getViewDataGeneratorByViewType\r\n} from \"./utils\";\r\nimport timeZoneUtils from \"../../utils.timeZone\";\r\nexport default class ViewDataProvider {\r\n    constructor(viewType) {\r\n        this.viewDataGenerator = getViewDataGeneratorByViewType(viewType);\r\n        this.viewData = {};\r\n        this.completeViewDataMap = [];\r\n        this.completeDateHeaderMap = [];\r\n        this.viewDataMap = {};\r\n        this._groupedDataMapProvider = null\r\n    }\r\n    get groupedDataMap() {\r\n        return this._groupedDataMapProvider.groupedDataMap\r\n    }\r\n    get hiddenInterval() {\r\n        return this.viewDataGenerator.hiddenInterval\r\n    }\r\n    isSkippedDate(date) {\r\n        return this.viewDataGenerator.isSkippedDate(date)\r\n    }\r\n    update(options, isGenerateNewViewData) {\r\n        this.viewDataGenerator = getViewDataGeneratorByViewType(options.viewType);\r\n        var viewDataGenerator = this.viewDataGenerator;\r\n        var dateHeaderDataGenerator = new DateHeaderDataGenerator(viewDataGenerator);\r\n        var timePanelDataGenerator = new TimePanelDataGenerator(viewDataGenerator);\r\n        var renderOptions = this._transformRenderOptions(options);\r\n        renderOptions.interval = this.viewDataGenerator.getInterval(renderOptions.hoursInterval);\r\n        this._options = renderOptions;\r\n        if (isGenerateNewViewData) {\r\n            this.completeViewDataMap = viewDataGenerator.getCompleteViewDataMap(renderOptions);\r\n            this.completeDateHeaderMap = dateHeaderDataGenerator.getCompleteDateHeaderMap(renderOptions, this.completeViewDataMap);\r\n            if (renderOptions.isGenerateTimePanelData) {\r\n                this.completeTimePanelMap = timePanelDataGenerator.getCompleteTimePanelMap(renderOptions, this.completeViewDataMap)\r\n            }\r\n        }\r\n        this.viewDataMap = viewDataGenerator.generateViewDataMap(this.completeViewDataMap, renderOptions);\r\n        this.updateViewData(renderOptions);\r\n        this._groupedDataMapProvider = new GroupedDataMapProvider(this.viewDataGenerator, this.viewDataMap, this.completeViewDataMap, {\r\n            isVerticalGrouping: renderOptions.isVerticalGrouping,\r\n            viewType: renderOptions.viewType\r\n        });\r\n        this.dateHeaderData = dateHeaderDataGenerator.generateDateHeaderData(this.completeDateHeaderMap, this.completeViewDataMap, renderOptions);\r\n        if (renderOptions.isGenerateTimePanelData) {\r\n            this.timePanelData = timePanelDataGenerator.generateTimePanelData(this.completeTimePanelMap, renderOptions)\r\n        }\r\n    }\r\n    createGroupedDataMapProvider() {\r\n        this._groupedDataMapProvider = new GroupedDataMapProvider(this.viewDataGenerator, this.viewDataMap, this.completeViewDataMap, {\r\n            isVerticalGrouping: this._options.isVerticalGrouping,\r\n            viewType: this._options.viewType\r\n        })\r\n    }\r\n    updateViewData(options) {\r\n        var renderOptions = this._transformRenderOptions(options);\r\n        this.viewDataMapWithSelection = this.viewDataGenerator.markSelectedAndFocusedCells(this.viewDataMap, renderOptions);\r\n        this.viewData = this.viewDataGenerator.getViewDataFromMap(this.completeViewDataMap, this.viewDataMapWithSelection, renderOptions)\r\n    }\r\n    _transformRenderOptions(renderOptions) {\r\n        var {\r\n            groups: groups,\r\n            groupOrientation: groupOrientation,\r\n            groupByDate: groupByDate,\r\n            isAllDayPanelVisible: isAllDayPanelVisible\r\n        } = renderOptions, restOptions = _objectWithoutPropertiesLoose(renderOptions, _excluded);\r\n        return _extends({}, restOptions, {\r\n            startViewDate: this.viewDataGenerator._calculateStartViewDate(renderOptions),\r\n            isVerticalGrouping: isVerticalGroupingApplied(groups, groupOrientation),\r\n            isHorizontalGrouping: isHorizontalGroupingApplied(groups, groupOrientation),\r\n            isGroupedByDate: isGroupingByDate(groups, groupOrientation, groupByDate),\r\n            isGroupedAllDayPanel: calculateIsGroupedAllDayPanel(groups, groupOrientation, isAllDayPanelVisible),\r\n            groups: groups,\r\n            groupOrientation: groupOrientation,\r\n            isAllDayPanelVisible: isAllDayPanelVisible\r\n        })\r\n    }\r\n    getGroupPanelData(options) {\r\n        var renderOptions = this._transformRenderOptions(options);\r\n        if (renderOptions.groups.length > 0) {\r\n            var cellCount = this.getCellCount(renderOptions);\r\n            return getGroupPanelData(renderOptions.groups, cellCount, renderOptions.isGroupedByDate, renderOptions.isGroupedByDate ? 1 : cellCount)\r\n        }\r\n        return\r\n    }\r\n    getGroupStartDate(groupIndex) {\r\n        return this._groupedDataMapProvider.getGroupStartDate(groupIndex)\r\n    }\r\n    getGroupEndDate(groupIndex) {\r\n        return this._groupedDataMapProvider.getGroupEndDate(groupIndex)\r\n    }\r\n    findGroupCellStartDate(groupIndex, startDate, endDate, isAllDay, isFindByDate) {\r\n        return this._groupedDataMapProvider.findGroupCellStartDate(groupIndex, startDate, endDate, isAllDay, isFindByDate)\r\n    }\r\n    findAllDayGroupCellStartDate(groupIndex, startDate) {\r\n        return this._groupedDataMapProvider.findAllDayGroupCellStartDate(groupIndex, startDate)\r\n    }\r\n    findCellPositionInMap(cellInfo) {\r\n        return this._groupedDataMapProvider.findCellPositionInMap(cellInfo)\r\n    }\r\n    hasAllDayPanel() {\r\n        var {\r\n            viewData: viewData\r\n        } = this.viewDataMap;\r\n        var {\r\n            allDayPanel: allDayPanel\r\n        } = viewData.groupedData[0];\r\n        return !viewData.isGroupedAllDayPanel && (null === allDayPanel || void 0 === allDayPanel ? void 0 : allDayPanel.length) > 0\r\n    }\r\n    getCellsGroup(groupIndex) {\r\n        return this._groupedDataMapProvider.getCellsGroup(groupIndex)\r\n    }\r\n    getCompletedGroupsInfo() {\r\n        return this._groupedDataMapProvider.getCompletedGroupsInfo()\r\n    }\r\n    getGroupIndices() {\r\n        return this._groupedDataMapProvider.getGroupIndices()\r\n    }\r\n    getLastGroupCellPosition(groupIndex) {\r\n        return this._groupedDataMapProvider.getLastGroupCellPosition(groupIndex)\r\n    }\r\n    getRowCountInGroup(groupIndex) {\r\n        return this._groupedDataMapProvider.getRowCountInGroup(groupIndex)\r\n    }\r\n    getCellData(rowIndex, columnIndex, isAllDay, rtlEnabled) {\r\n        var row = isAllDay && !this._options.isVerticalGrouping ? this.viewDataMap.allDayPanelMap : this.viewDataMap.dateTableMap[rowIndex];\r\n        var actualColumnIndex = !rtlEnabled ? columnIndex : row.length - 1 - columnIndex;\r\n        var {\r\n            cellData: cellData\r\n        } = row[actualColumnIndex];\r\n        return cellData\r\n    }\r\n    getCellsByGroupIndexAndAllDay(groupIndex, allDay) {\r\n        var rowsPerGroup = this._getRowCountWithAllDayRows();\r\n        var isShowAllDayPanel = this._options.isAllDayPanelVisible;\r\n        var firstRowInGroup = this._options.isVerticalGrouping ? groupIndex * rowsPerGroup : 0;\r\n        var lastRowInGroup = this._options.isVerticalGrouping ? (groupIndex + 1) * rowsPerGroup - 1 : rowsPerGroup;\r\n        var correctedFirstRow = isShowAllDayPanel && !allDay ? firstRowInGroup + 1 : firstRowInGroup;\r\n        var correctedLastRow = allDay ? correctedFirstRow : lastRowInGroup;\r\n        return this.completeViewDataMap.slice(correctedFirstRow, correctedLastRow + 1).map(row => row.filter(_ref => {\r\n            var {\r\n                groupIndex: currentGroupIndex\r\n            } = _ref;\r\n            return groupIndex === currentGroupIndex\r\n        }))\r\n    }\r\n    getCellCountWithGroup(groupIndex) {\r\n        var rowIndex = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\r\n        var {\r\n            dateTableGroupedMap: dateTableGroupedMap\r\n        } = this.groupedDataMap;\r\n        return dateTableGroupedMap.filter((_, index) => index <= groupIndex).reduce((previous, row) => previous + row[rowIndex].length, 0)\r\n    }\r\n    hasGroupAllDayPanel(groupIndex) {\r\n        var _this$groupedDataMap$2;\r\n        if (this._options.isVerticalGrouping) {\r\n            var _this$groupedDataMap$;\r\n            return !!(null !== (_this$groupedDataMap$ = this.groupedDataMap.dateTableGroupedMap[groupIndex]) && void 0 !== _this$groupedDataMap$ && _this$groupedDataMap$[0][0].cellData.allDay)\r\n        }\r\n        return (null === (_this$groupedDataMap$2 = this.groupedDataMap.allDayPanelGroupedMap[groupIndex]) || void 0 === _this$groupedDataMap$2 ? void 0 : _this$groupedDataMap$2.length) > 0\r\n    }\r\n    isGroupIntersectDateInterval(groupIndex, startDate, endDate) {\r\n        var groupStartDate = this.getGroupStartDate(groupIndex);\r\n        var groupEndDate = this.getGroupEndDate(groupIndex);\r\n        return startDate < groupEndDate && endDate > groupStartDate\r\n    }\r\n    findGlobalCellPosition(date) {\r\n        var groupIndex = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;\r\n        var allDay = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : false;\r\n        var {\r\n            completeViewDataMap: completeViewDataMap\r\n        } = this;\r\n        var showAllDayPanel = this._options.isAllDayPanelVisible;\r\n        for (var rowIndex = 0; rowIndex < completeViewDataMap.length; rowIndex += 1) {\r\n            var currentRow = completeViewDataMap[rowIndex];\r\n            for (var columnIndex = 0; columnIndex < currentRow.length; columnIndex += 1) {\r\n                var cellData = currentRow[columnIndex];\r\n                var {\r\n                    startDate: currentStartDate,\r\n                    endDate: currentEndDate,\r\n                    groupIndex: currentGroupIndex,\r\n                    allDay: currentAllDay\r\n                } = cellData;\r\n                if (groupIndex === currentGroupIndex && allDay === !!currentAllDay && this._compareDatesAndAllDay(date, currentStartDate, currentEndDate, allDay)) {\r\n                    return {\r\n                        position: {\r\n                            columnIndex: columnIndex,\r\n                            rowIndex: showAllDayPanel && !this._options.isVerticalGrouping ? rowIndex - 1 : rowIndex\r\n                        },\r\n                        cellData: cellData\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _compareDatesAndAllDay(date, cellStartDate, cellEndDate, allDay) {\r\n        var time = date.getTime();\r\n        var trimmedTime = dateUtils.trimTime(date).getTime();\r\n        var cellStartTime = cellStartDate.getTime();\r\n        var cellEndTime = cellEndDate.getTime();\r\n        return !allDay && time >= cellStartTime && time < cellEndTime || allDay && trimmedTime === cellStartTime\r\n    }\r\n    getSkippedDaysCount(groupIndex, startDate, endDate, daysCount) {\r\n        var {\r\n            dateTableGroupedMap: dateTableGroupedMap\r\n        } = this._groupedDataMapProvider.groupedDataMap;\r\n        var groupedData = dateTableGroupedMap[groupIndex];\r\n        var includedDays = 0;\r\n        for (var rowIndex = 0; rowIndex < groupedData.length; rowIndex += 1) {\r\n            for (var columnIndex = 0; columnIndex < groupedData[rowIndex].length; columnIndex += 1) {\r\n                var cell = groupedData[rowIndex][columnIndex].cellData;\r\n                if (startDate.getTime() < cell.endDate.getTime() && endDate.getTime() > cell.startDate.getTime()) {\r\n                    includedDays += 1\r\n                }\r\n            }\r\n        }\r\n        var lastCell = groupedData[groupedData.length - 1][groupedData[0].length - 1].cellData;\r\n        var lastCellStart = dateUtils.trimTime(lastCell.startDate);\r\n        var daysAfterView = Math.floor((endDate.getTime() - lastCellStart.getTime()) / dateUtils.dateToMilliseconds(\"day\"));\r\n        var deltaDays = daysAfterView > 0 ? daysAfterView : 0;\r\n        return daysCount - includedDays - deltaDays\r\n    }\r\n    getColumnsCount() {\r\n        var {\r\n            dateTableMap: dateTableMap\r\n        } = this.viewDataMap;\r\n        return dateTableMap ? dateTableMap[0].length : 0\r\n    }\r\n    getViewEdgeIndices(isAllDayPanel) {\r\n        if (isAllDayPanel) {\r\n            return {\r\n                firstColumnIndex: 0,\r\n                lastColumnIndex: this.viewDataMap.allDayPanelMap.length - 1,\r\n                firstRowIndex: 0,\r\n                lastRowIndex: 0\r\n            }\r\n        }\r\n        return {\r\n            firstColumnIndex: 0,\r\n            lastColumnIndex: this.viewDataMap.dateTableMap[0].length - 1,\r\n            firstRowIndex: 0,\r\n            lastRowIndex: this.viewDataMap.dateTableMap.length - 1\r\n        }\r\n    }\r\n    getGroupEdgeIndices(groupIndex, isAllDay) {\r\n        var groupedDataMap = this.groupedDataMap.dateTableGroupedMap[groupIndex];\r\n        var cellsCount = groupedDataMap[0].length;\r\n        var rowsCount = groupedDataMap.length;\r\n        var firstColumnIndex = groupedDataMap[0][0].position.columnIndex;\r\n        var lastColumnIndex = groupedDataMap[0][cellsCount - 1].position.columnIndex;\r\n        if (isAllDay) {\r\n            return {\r\n                firstColumnIndex: firstColumnIndex,\r\n                lastColumnIndex: lastColumnIndex,\r\n                firstRowIndex: 0,\r\n                lastRowIndex: 0\r\n            }\r\n        }\r\n        return {\r\n            firstColumnIndex: firstColumnIndex,\r\n            lastColumnIndex: lastColumnIndex,\r\n            firstRowIndex: groupedDataMap[0][0].position.rowIndex,\r\n            lastRowIndex: groupedDataMap[rowsCount - 1][0].position.rowIndex\r\n        }\r\n    }\r\n    isSameCell(firstCellData, secondCellData) {\r\n        var {\r\n            startDate: firstStartDate,\r\n            groupIndex: firstGroupIndex,\r\n            allDay: firstAllDay,\r\n            index: firstIndex\r\n        } = firstCellData;\r\n        var {\r\n            startDate: secondStartDate,\r\n            groupIndex: secondGroupIndex,\r\n            allDay: secondAllDay,\r\n            index: secondIndex\r\n        } = secondCellData;\r\n        return firstStartDate.getTime() === secondStartDate.getTime() && firstGroupIndex === secondGroupIndex && firstAllDay === secondAllDay && firstIndex === secondIndex\r\n    }\r\n    getLastViewDate() {\r\n        var completeViewDataMap = this.completeViewDataMap;\r\n        var rowsCount = completeViewDataMap.length - 1;\r\n        return completeViewDataMap[rowsCount][completeViewDataMap[rowsCount].length - 1].endDate\r\n    }\r\n    getStartViewDate() {\r\n        return this._options.startViewDate\r\n    }\r\n    getIntervalDuration(intervalCount) {\r\n        return this.viewDataGenerator._getIntervalDuration(intervalCount)\r\n    }\r\n    getLastCellEndDate() {\r\n        return new Date(this.getLastViewDate().getTime() - dateUtils.dateToMilliseconds(\"minute\"))\r\n    }\r\n    getLastViewDateByEndDayHour(endDayHour) {\r\n        var lastCellEndDate = this.getLastCellEndDate();\r\n        var endTime = dateUtils.dateTimeFromDecimal(endDayHour);\r\n        var endDateOfLastViewCell = new Date(lastCellEndDate.setHours(endTime.hours, endTime.minutes));\r\n        return this._adjustEndDateByDaylightDiff(lastCellEndDate, endDateOfLastViewCell)\r\n    }\r\n    _adjustEndDateByDaylightDiff(startDate, endDate) {\r\n        var daylightDiff = timeZoneUtils.getDaylightOffsetInMs(startDate, endDate);\r\n        var endDateOfLastViewCell = new Date(endDate.getTime() - daylightDiff);\r\n        return new Date(endDateOfLastViewCell.getTime() - dateUtils.dateToMilliseconds(\"minute\"))\r\n    }\r\n    getCellCountInDay(startDayHour, endDayHour, hoursInterval) {\r\n        return this.viewDataGenerator.getCellCountInDay(startDayHour, endDayHour, hoursInterval)\r\n    }\r\n    getCellCount(options) {\r\n        return this.viewDataGenerator.getCellCount(options)\r\n    }\r\n    getRowCount(options) {\r\n        return this.viewDataGenerator.getRowCount(options)\r\n    }\r\n    getVisibleDayDuration(startDayHour, endDayHour, hoursInterval) {\r\n        return this.viewDataGenerator.getVisibleDayDuration(startDayHour, endDayHour, hoursInterval)\r\n    }\r\n    _getRowCountWithAllDayRows() {\r\n        var allDayRowCount = this._options.isAllDayPanelVisible ? 1 : 0;\r\n        return this.getRowCount(this._options) + allDayRowCount\r\n    }\r\n    getFirstDayOfWeek(firstDayOfWeekOption) {\r\n        return this.viewDataGenerator.getFirstDayOfWeek(firstDayOfWeekOption)\r\n    }\r\n    setViewOptions(options) {\r\n        this._options = this._transformRenderOptions(options)\r\n    }\r\n    getViewOptions() {\r\n        return this._options\r\n    }\r\n    getViewPortGroupCount() {\r\n        var {\r\n            dateTableGroupedMap: dateTableGroupedMap\r\n        } = this.groupedDataMap;\r\n        return (null === dateTableGroupedMap || void 0 === dateTableGroupedMap ? void 0 : dateTableGroupedMap.length) || 0\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}